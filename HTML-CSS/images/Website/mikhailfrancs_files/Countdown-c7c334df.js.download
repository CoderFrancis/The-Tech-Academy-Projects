define("@wsb/guac-widget-shared/lib/components/Countdown-c7c334df.js",["exports"],(function(e){"use strict";function t(e){let t,a,{startDate:o,endDate:l,containerId:r,countdownId:s,toggleIds:n,ariaLabel:c,labels:p}=e,g=null;const{runningId:u,completeId:d}=n||{},i=Date.now();o=o||i;const b=o-i,y=l-i<0,m=y&&!n;function w(){document.getElementById(u).classList.add("d-none"),document.getElementById(d).classList.remove("d-none")}function R(){const e=document.getElementById(s),t={days:e.querySelector('[data-attr="countdown-days"]'),hours:e.querySelector('[data-attr="countdown-hours"]'),minutes:e.querySelector('[data-attr="countdown-minutes"]'),seconds:e.querySelector('[data-attr="countdown-seconds"]')};let o={};const d=()=>{const r=function(){const e=l-Date.now();let t=0,a=0,o=0,r=0;return e>0&&(t=Math.floor(e/1e3%60),a=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24),r=Math.floor(e/864e5)),{total:e,days:r,hours:o,minutes:a,seconds:t}}();["days","hours","minutes","seconds"].forEach((e=>{if(o[e]!==r[e]){const a=t[e],o=a.children,l=Array.from(r[e].toString()).map(Number);l.length<2&&l.unshift("0"),l.length<o.length&&a.removeChild(o[0]),l.forEach(((e,t)=>{o[t]||a.appendChild(document.createElement("span")),o[t].textContent=e}))}})),e.setAttribute("aria-label",`\n        ${c} \n        ${r.days} ${p.days.label} \n        ${r.hours} ${p.hours.label} \n        ${r.minutes} ${p.minutes.label} \n        ${r.seconds} ${p.seconds.label}\n      `),o=r,r.total<=0&&(clearInterval(g),n&&(a=setTimeout((function(){w()}),3e3)))};document.getElementById(r).classList.remove("d-none"),n&&document.getElementById(u).classList.remove("d-none"),d(),g=setInterval(d,500)}return b>0?b<=2147483647&&(t=setTimeout(R,b)):y&&n?(document.getElementById(r).classList.remove("d-none"),w()):m||R(),()=>{t&&clearTimeout(t),g&&clearInterval(g),a&&clearTimeout(a)}}const{Bootstrap:a}=(global.Core||guac["@wsb/guac-widget-core"]).components,{PUBLISH:o}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes,l={display:"none","@xs-only":{display:"block"}},r={display:"none","@sm":{display:"block"}};function s(e){const{containerId:s,startDate:n,endDate:c,toggleIds:p,ariaLabel:g,labels:u,renderMode:d,style:i}=e,b=`${s}Countdown`;(global.React||guac.react).useEffect((()=>t({startDate:n,endDate:c,containerId:s,countdownId:b,toggleIds:p,ariaLabel:g,labels:u})),[]);const y={startDate:n,endDate:c,containerId:s,countdownId:b,toggleIds:p,ariaLabel:g,labels:u},m=(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,Object.keys(u).map((e=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:e},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Clock.Value,{"data-attr":`countdown-${e}`},(global.React||guac.react).createElement("span",null,"0"),(global.React||guac.react).createElement("span",null,"0")),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Label,null,(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Element,{style:{...l}},u[e].mobileLabel),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Element,{style:{...r}},u[e].label)))))),d===o?(global.React||guac.react).createElement(a.JS,{id:"CountdownScript",script:t.toString(),props:y}):null);return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Clock,{"aria-label":g,role:"timer",id:b,style:i},m)}s.propTypes={startDate:(global.PropTypes||guac["prop-types"]).number,endDate:(global.PropTypes||guac["prop-types"]).number.isRequired,containerId:(global.PropTypes||guac["prop-types"]).string.isRequired,toggleIds:(global.PropTypes||guac["prop-types"]).shape({runningId:(global.PropTypes||guac["prop-types"]).string.isRequired,completeId:(global.PropTypes||guac["prop-types"]).string.isRequired}),ariaLabel:(global.PropTypes||guac["prop-types"]).string.isRequired,labels:(global.PropTypes||guac["prop-types"]).shape({label:(global.PropTypes||guac["prop-types"]).string.isRequired,days:(global.PropTypes||guac["prop-types"]).shape({label:(global.PropTypes||guac["prop-types"]).string.isRequired,mobileLabel:(global.PropTypes||guac["prop-types"]).string}).isRequired,hours:(global.PropTypes||guac["prop-types"]).shape({label:(global.PropTypes||guac["prop-types"]).string.isRequired,mobileLabel:(global.PropTypes||guac["prop-types"]).string}).isRequired,minutes:(global.PropTypes||guac["prop-types"]).shape({label:(global.PropTypes||guac["prop-types"]).string.isRequired,mobileLabel:(global.PropTypes||guac["prop-types"]).string}).isRequired,seconds:(global.PropTypes||guac["prop-types"]).shape({label:(global.PropTypes||guac["prop-types"]).string.isRequired,mobileLabel:(global.PropTypes||guac["prop-types"]).string}).isRequired}).isRequired,renderMode:(global.PropTypes||guac["prop-types"]).string.isRequired,style:(global.PropTypes||guac["prop-types"]).object},e.default=s,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=Countdown-c7c334df.js.map
