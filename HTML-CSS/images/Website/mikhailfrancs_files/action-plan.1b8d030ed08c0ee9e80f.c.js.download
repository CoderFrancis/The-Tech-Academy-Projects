(window.editorJsonp=window.editorJsonp||[]).push([[2],{"/39o":function(e,t,n){var r={"./da-DK.json":["UFd+",46],"./da.json":["GGtz",47],"./de-AT.json":["b4Qa",48],"./de-CH.json":["DexF",49],"./de-DE.json":["dwN4",50],"./de.json":["TrSt",51],"./el-GR.json":["e797",52],"./el.json":["7Lch",53],"./en-US.json":["hfCM",54],"./es-AR.json":["4LTy",55],"./es-CL.json":["CVqR",56],"./es-CO.json":["YiNx",57],"./es-ES.json":["c0b2",58],"./es-MX.json":["WONu",59],"./es-PE.json":["/EGr",60],"./es-US.json":["1TNo",61],"./es-VE.json":["hKT8",62],"./es.json":["9KL3",63],"./fi-FI.json":["RNi4",64],"./fi.json":["HeRg",65],"./fr-BE.json":["xHtb",66],"./fr-CA.json":["f/hF",67],"./fr-CH.json":["r2eH",68],"./fr-FR.json":["ouuC",69],"./fr.json":["jgII",70],"./hi-IN.json":["9vPd",71],"./id-ID.json":["qUY7",72],"./it-CH.json":["vems",73],"./it-IT.json":["j3Ym",74],"./it.json":["CbgF",75],"./ja-JP.json":["3DXU",76],"./ko-KR.json":["zdlU",77],"./nb-NO.json":["QuTi",78],"./nb.json":["MDPR",79],"./nl-BE.json":["EULe",80],"./nl-NL.json":["qkCT",81],"./nl.json":["xkb5",82],"./pl-PL.json":["8wQn",83],"./pl.json":["jL0w",84],"./pt-BR.json":["QK84",85],"./pt-PT.json":["8wlN",86],"./qa-PS.json":["fya8",87],"./ru-RU.json":["NrL6",88],"./ru.json":["RL54",89],"./sv-SE.json":["VMW+",90],"./sv.json":["/glM",91],"./th-TH.json":["IKP5",92],"./tr-TR.json":["ss2d",93],"./tr.json":["FAVB",94],"./uk-UA.json":["Ed/D",95],"./uk.json":["0Qul",96],"./vi-VN.json":["4j3u",97],"./zh-CN.json":["9YeV",98],"./zh-HK.json":["rA5u",99],"./zh-SG.json":["0wdg",100],"./zh-TW.json":["DAWE",101]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,3)}))}i.keys=function(){return Object.keys(r)},i.id="/39o",e.exports=i},"/dV3":function(e,t,n){"use strict";(function(e){var r=n("lSNA"),i=n.n(r),a=n("tyn1"),o=n("rtRr"),s=n.n(o),c=n("JMSx"),u=n("HDzB"),l=n("t35r");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=e=>{const{app:t="",websitePlanType:n}=e,r={Application:t,"Plan Type":n},i={"^/account(\\/)?(|\\?.*)*$":"/account","^/fbPageCreate(\\/)?(|\\?.*)*$":"/fbPageCreate"};try{const e=Object(a.registerOriginCookie)({boundaries:i});return f(f({},r),e)}catch(e){return r}},p={addMixpanelUserProperties:()=>{},logPageview:()=>{},track:()=>{},updateEventMap:()=>{}};t.a=t=>{const n=(e=>{const{config:{mixpanelDebugToken:t,mixpanelToken:n},websiteId:r}=e,i=Object(l.a)();return{app:"gd-insight",debug:!1,excludedShoppers:Object.values(u.a).reduce((e,t)=>(Object.values(t).forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e),[]),eventMap:c.b,initWithPageview:!1,traffic2:{rootEid:"pandc.vnext.gd.insight"},logTraffic2EventsToMixpanel:!1,mixpanel:f({token:n,identifier:r,superProperties:h(e)},t?{rerouteToken:t}:{}),shopperId:i}})(t),r=n.excludedShoppers.indexOf(n.shopperId)>-1,i=s()(n);if(e.window){const e=i.instance;e.properties.account_uid=t.accountId;const n=r?p:e;return n.logPageview(),n}}}).call(this,n("yLpj"))},"0YsK":function(e,t,n){e.exports=n("x1qe")},"1+TE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getSubjectKeys=p,t.logCohorts=m;var r=n("xnZ5"),i=o(n("8vFS")),a=o(n("AL7F"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){var n=this,o=t.app,s=t.splitioWrapper,c=t.splitioOptions,u=t.subject,d=t.loadLocalStorage,f=void 0===d?i.default:d,h=t.readyTimeout,p=void 0===h?3e3:h,m=t.mockData,g=t.preloadLocation,v=t.usePreload,y=void 0===v||v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,r.validateApp)(o),this._app=o,this._readyTimeout=p;var b=!1;y&&Object.entries(u).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];b=f({app:n._app,idType:r,id:i,preloadLocation:g})})),this._subject=u,m&&(s=this._getMockWrapper(m,u)),s?this._splitioWrapper=s:0!==Object.keys(u).length&&(this._splitioWrapper=new a.default({app:this._app,subject:u,splitioOptions:c,preloadExists:b,usePreload:y})),this._ready=new Promise((function(e){return Promise.race([n._splitioWrapper?n._splitioWrapper.ready:new Promise((function(e){return e()})),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),n._readyTimeout)}))]).then(e).catch((function(t){console.log("Hivemind Client not ready from cache. Will return default values.",t),e("timeout")}))}))}var t,n,o;return t=e,(n=[{key:"ready",get:function(){return this._ready}},{key:"setMockData",value:function(e){this._splitioWrapper=this._getMockWrapper(e)}},{key:"_getMockWrapper",value:function(e){return new r.MockWrapper({mockData:e})}},{key:"getCohorts",value:function(e){var t=e.experiments,n=void 0===t?[]:t,r=e.labels,i=void 0===r?[]:r,a=e.attributes,o=void 0===a?{}:a,s=e.windowOverride,c=void 0===s?window:s;if(n.length){var u=this._splitioWrapper.getExperimentsById(n);return this._getCohorts({experimentsMetadata:u,experiments:n,attributes:o,windowOverride:c})}if(i.length){var l=this._getExperimentsByLabel(i),d=Object.keys(l);return this._getCohorts({experimentsMetadata:l,experiments:d,attributes:o,windowOverride:c})}return console.log("No experiments or labels provided"),this._getCohorts({attributes:o,windowOverride:c})}},{key:"_getCohorts",value:function(e){var t=this,n=e.experimentsMetadata,i=void 0===n?{}:n,a=e.experiments,o=void 0===a?[]:a,s=e.attributes,u=void 0===s?{}:s,d=e.windowOverride,f=void 0===d?window:d,h=(0,r.groupEligibleExperimentsById)({subject:this._subject,experiments:o,experimentsMetadata:i}),g=h.experimentsByIdType,v=h.ineligibleExperiments,y={};Object.entries(g).forEach((function(e){var n=l(e,2),r=n[0],i=n[1],a=t._splitioWrapper.getCohortAllocations({idType:r,experiments:i,attributes:u});y=c(c({},y),a)})),y=(0,r.updateCohortAllocationsWithEid)(y,this._app);var b=p(this._subject);m(y,b,f),Object.keys(y).forEach((function(e){return delete y[e].error}));var E=(0,r.generateDefaultAllocations)(v);return{cohorts:y=c(c({},y),E)}}},{key:"getExperiments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=n.length?this._getExperimentsByLabel(n):this._splitioWrapper.getExperiments();return Object.values(r)}},{key:"_getExperimentsByLabel",value:function(e){var t=this._splitioWrapper.getExperiments();return Object.entries(t).reduce((function(t,n){var r=l(n,2),i=r[0],a=r[1];return e.every((function(e){return a.labels.includes(e)}))&&(t[i]=a),t}),{})}},{key:"getParameterValue",value:function(e){var t=e.parameter,n=e.defaultValue,i=e.attributes,a=void 0===i?{}:i,o=e.windowOverride,s=void 0===o?window:o,c=this._getExperimentsByLabel([this._app,r.hivemindConstants.PARAMETER_LABEL]),u=Object.entries(c).reduce((function(e,n){var r=l(n,2),i=r[0],a=r[1];return Object.values(a.cohortData).some((function(e){return t in e}))&&(e[i]=a),e}),{}),d=Object.keys(u),f=d.length;if(1===f){var h=this._getCohorts({experimentsMetadata:u,experiments:d,attributes:a,windowOverride:s}).cohorts[d[0]],p=h.data;return{parameterValue:t in p?p[t]:n,cohortId:h.cohortId,experimentId:d[0]}}return f>1&&console.log("Multiple experiments containing the same parameter definition."),{parameterValue:n,cohortId:null,experimentId:null}}}])&&f(t.prototype,n),o&&f(t,o),e}();function p(e){var t={};return Object.entries(e).forEach((function(e){var n=l(e,2),i=n[0],a=n[1];t[i]=(0,r.getSubjectKey)({idType:i,id:a})})),t}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;for(var r in n._expDataLayer=n._expDataLayer||[],e)"ineligible"!==e[r].cohortId&&n._expDataLayer.push({schema:"add_experiment_assignment",type:"abn",version:"v1",data:{experiment_id:r,variant_id:e[r].error?"error":e[r].cohortId}})}t.default=h},"1dkQ":function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n("5R4b");function a(e){var t=/^([?:+|-]\d+)(days|day|d|months|month|m|years|year|y)$/.exec(e);if(!t)throw new RangeError("Invalid format of offset "+e);return{count:parseInt(t[1],10),period:t[2].charAt(0)}}e.exports={dateOffset:function(e,t,n){var o=n.split(",").map((function(e){return e.trim()})),s=r(o,2),c=s[0],u=s[1],l=new Date(e),d=a(c);switch(d.period){case"d":l.setDate(l.getDate()+d.count);break;case"m":l.setMonth(l.getMonth()+d.count);break;case"y":l.setFullYear(l.getFullYear()+d.count);break;default:throw new Error("Invalid offset period "+d.period+" in "+c)}return new i(t).compile("{date, date, "+u+"}")({date:l})},parseOffset:a}},"23KL":function(e,t,n){var r=n("AWuw");function i(e){this.mf=e,this.setStrictNumber(e.strictNumberSign)}function a(e,t,n){if(!n)return e;if(isNaN(e))throw new Error("Can't apply offset:"+n+" to argument `"+t+"` with non-numerical value "+JSON.stringify(e)+".");return e-n}function o(e,t,n){if(isNaN(e))throw new Error("Argument `"+t+"` has non-numerical value "+JSON.stringify(e)+".");return e-(n||0)}e.exports=i,i.prototype.setStrictNumber=function(e){this.number=e?o:a},i.prototype.plural=function(e,t,n,r,i){if({}.hasOwnProperty.call(r,e))return r[e];t&&(e-=t);var a=n(e,i);return a in r?r[a]:r.other},i.prototype.select=function(e,t){return{}.hasOwnProperty.call(t,e)?t[e]:t.other},i.prototype.toString=function(e,t){var n={};Object.keys(t.locales).forEach((function(t){n[r.funcname(t)]=e[t]})),Object.keys(t.runtime).forEach((function(e){n[e]=this[e]}),this);var i=Object.keys(t.formatters),a=this.mf.fmt;return i.length&&(n.fmt=i.reduce((function(e,t){return e[t]=a[t],e}),{})),function e(t,n){if("object"!=typeof t){var i=t.toString().replace(/^(function )\w*/,"$1");return(s=/([ \t]*)\S.*$/.exec(i))?i.replace(new RegExp("^"+s[1],"mg"),""):i}var a=[];for(var o in t)0==n?a.push("var "+o+" = "+e(t[o],n+1)+";\n"):a.push(r.propname(o)+": "+e(t[o],n+1));if(0==n)return a.join("");if(0==a.length)return"{}";for(var s="  ";--n;)s+="  ";return"{\n"+a.join(",\n").replace(/^/gm,s)+"\n}"}(n,0)}},"3HEq":function(e,t,n){"use strict";var r=n("JMSx");t.a=({eventTracker:e,data:t})=>{e?e.trackEvent(r.a.API_FAILURE,t):console.warn("WARN: Event Tracker is not provided, error is not tracked")}},"4XgE":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n("cDcd"),i=n.n(r),a=n("JMSx"),o=n("68F3"),s=n("ef/e"),c=n("dBqK"),u=n("xKPx"),l=n("X6UL"),d=n("VW8Q"),f=n("Xxlw"),h=n("J3mW"),p=n("wIJX"),m=n("y8rA"),g=n.n(m);const v=({accountId:e,appLocation:t,eventTracker:n,featureFlags:r,onClose:a})=>i.a.createElement("div",{className:"FlyoutInsightViews"},i.a.createElement(g.a,{className:"FlyoutInsightViews-button-close",design:"inline",onClick:a,icon:i.a.createElement(p.a,{name:"x",size:24})}),i.a.createElement(y,{accountId:e,appLocation:t,eventTracker:n,featureFlags:r})),y=({accountId:t,appLocation:n,eventTracker:p,featureFlags:m})=>{const{state:g,primaryCTAAction:v,dismissTaskAction:y,retryLoadActionPlanAction:b,cardImpressionAction:E}=Object(o.a)({accountId:t,appLocation:n,eventTracker:p,featureFlags:m}),[w,O]=Object(r.useState)(d.d),S=Object(r.useMemo)(()=>Object(f.a)(),[]),{recommendations:_,isLoading:k,hasLoadingFailed:T,topTaskId:C}=g,A=Object(r.useCallback)(e=>{const t=(S.indexOf(e)+1)%S.length;O(S[t])},[S]),N=Object(r.useCallback)(()=>{p.trackEvent(a.a.VIEW_ACTION_PLAN_ITEMS,{Type:"View Action Plan Items"}),e.window.location.assign(`${h.f}/account/${t}`)},[p,t]);if(k)return i.a.createElement(u.a,null);if(T)return i.a.createElement("div",null,i.a.createElement(c.a,{eventTracker:p,onRetry:b}),i.a.createElement(s.a,{onClick:N}));const I=_[C];return i.a.createElement(l.a,{cardImpressionAction:E,dismissTaskAction:y,onClickViewAll:N,primaryCTAAction:v,recommendation:I,selectTheme:A,theme:w})}}).call(this,n("yLpj"))},"4dC9":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lSNA"),i=n.n(r);class a extends Error{constructor({apiName:e,app:t,message:n,response:r,size:a,stackTrace:o,status:s,url:c}){super(n),i()(this,"apiName",void 0),i()(this,"app",void 0),i()(this,"event",void 0),i()(this,"response",void 0),i()(this,"size",void 0),i()(this,"status",void 0),i()(this,"url",void 0),this.apiName=e,this.app=t,this.event="api_fail",this.response=r,this.size=a,this.stack=o,this.status=s,this.url=c}}},"5R4b":function(e,t,n){var r=n("AWuw"),i=n("OriJ"),a=n("h7Xi"),o=n("23KL");function s(e){if(this.pluralFuncs={},"string"==typeof e)this.pluralFuncs[e]=a.get(e),this.defaultLocale=e;else if(Array.isArray(e))e.forEach((function(e){this.pluralFuncs[e]=a.get(e)}),this),this.defaultLocale=e[0];else{for(var t in e)if(e.hasOwnProperty(t)){if("function"!=typeof e[t])throw new Error("Expected function value for locale "+JSON.stringify(t));this.pluralFuncs[t]=e[t],this.defaultLocale||(this.defaultLocale=t)}this.defaultLocale?this.hasCustomPluralFuncs=!0:this.defaultLocale=s.defaultLocale}this.fmt={},this.runtime=new o(this)}s.defaultLocale="en",s.escape=function(e,t){var n=t?"[#{}]":"[{}]";return String(e).replace(new RegExp(n,"g"),"'$&'")},s.formatters=i,s.prototype.addFormatters=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.fmt[t]=e[t]);return this},s.prototype.disablePluralKeyChecks=function(){for(var e in this.noPluralKeyChecks=!0,this.pluralFuncs)this.pluralFuncs.hasOwnProperty(e)&&(this.pluralFuncs[e].cardinal=[],this.pluralFuncs[e].ordinal=[]);return this},s.prototype.setBiDiSupport=function(e){return this.bidiSupport=!!e||void 0===e,this},s.prototype.setStrictNumberSign=function(e){return this.strictNumberSign=!!e||void 0===e,this.runtime.setStrictNumber(this.strictNumberSign),this},s.prototype.compile=function(e,t){var n={};if(0==Object.keys(this.pluralFuncs).length)if(t){if(!(s=a.get(t,this.noPluralKeyChecks)))throw new Error("Locale "+JSON.stringify(t)+" not found!");n[t]=s}else t=this.defaultLocale,n=a.getAll(this.noPluralKeyChecks);else if(t){if(!(s=this.pluralFuncs[t]))throw new Error("Locale "+JSON.stringify(t)+" not found in "+JSON.stringify(this.pluralFuncs)+"!");n[t]=s}else t=this.defaultLocale,n=this.pluralFuncs;var i=new r(this),o=i.compile(e,t,n);if("object"!=typeof e){var s=new Function("number, plural, select, fmt",r.funcname(t),"return "+o),c=this.runtime;return s(c.number,c.plural,c.select,this.fmt,n[t])}var u=this.runtime.toString(n,i)+"\n",l=function e(t,n){if(n||(n=0),"object"!=typeof t)return t;for(var i=[],a="",o=0;o<n;++o)a+="  ";for(var s in t)i.push("\n"+a+"  "+r.propname(s)+": "+e(t[s],n+1));return"{"+i.join(",")+"\n"+a+"}"}(o),d=new Function(u+"return "+l)();if(d.hasOwnProperty("toString"))throw new Error("The top-level message key `toString` is reserved");return d.toString=function(e){return e&&"export default"!==e?e.indexOf(".")>-1?u+e+" = "+l:u+["(function (root, G) {",'  if (typeof define === "function" && define.amd) { define(G); }','  else if (typeof exports === "object") { module.exports = G; }',"  else { "+r.propname(e,"root")+" = G; }","})(this, "+l+");"].join("\n"):u+"export default "+l},d},e.exports=s},"5V+5":function(e,t,n){"use strict";function r(e,t,n,i){this.message=e,this.expected=t,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,i,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(i=e[t],n[i.type](i));if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,i={},a={start:$},o=$,s=B("#",!1),c=function(){return ce},u=function(e){return e.join("")},l=B("{",!1),d=B("}",!1),f=B(",",!1),h=B("select",!1),p=function(e,n){return t.strictNumberSign&&(ce=!1),n},m=B("plural",!1),g=B("selectordinal",!1),v=/^[^\t-\r \x85\u200E\u200F\u2028\u2029!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,y=H([["\t","\r"]," ","","‎","‏","\u2028","\u2029",["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!0,!1),b=function(e,t){return{key:e,tokens:t}},E=B("offset",!1),w=B(":",!1),O=B("=",!1),S=/^[^}]/,_=H(["}"],!0,!1),k=B("''",!1),T=/^[^']/,C=H(["'"],!0,!1),A=B("'{",!1),N=B("'",!1),I=B("'}",!1),j=B("'#",!1),D=/^[^{}#\0-\x08\x0E-\x1F\x7F]/,x=H(["{","}","#",["\0","\b"],["",""],""],!0,!1),R=/^[0-9]/,M=H([["0","9"]],!1,!1),L=/^[\t-\r \x85\u200E\u200F\u2028\u2029]/,P=H([["\t","\r"]," ","","‎","‏","\u2028","\u2029"],!1,!1),F=0,U=[{line:1,column:1}],G=0,q=[],V=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=a[t.startRule]}function B(e,t){return{type:"literal",text:e,ignoreCase:t}}function H(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function z(t){var n,r=U[t];if(r)return r;for(n=t-1;!U[n];)n--;for(r={line:(r=U[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return U[t]=r,r}function K(e,t){var n=z(e),r=z(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function W(e){F<G||(F>G&&(G=F,q=[]),q.push(e))}function Y(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function $(){var e,t;for(e=[],t=J();t!==i;)e.push(t),t=J();return e}function J(){var n,r,a;if((n=function(){var t,n,r,a;t=F,123===e.charCodeAt(F)?(n="{",F++):(n=i,0===V&&W(l));n!==i&&se()!==i&&(r=Q())!==i&&se()!==i?(125===e.charCodeAt(F)?(a="}",F++):(a=i,0===V&&W(d)),a!==i?(t,t=n={type:"argument",arg:r}):(F=t,t=i)):(F=t,t=i);return t}())===i&&(n=function(){var t,n,r,a,o,s,c,u,m,g;t=F,123===e.charCodeAt(F)?(n="{",F++):(n=i,0===V&&W(l));if(n!==i)if(se()!==i)if((r=Q())!==i)if(se()!==i)if(44===e.charCodeAt(F)?(a=",",F++):(a=i,0===V&&W(f)),a!==i)if(se()!==i)if(o=F,"select"===e.substr(F,6)?(s="select",F+=6):(s=i,0===V&&W(h)),s!==i&&(o,s=p(0,s)),(o=s)!==i)if((s=se())!==i)if(44===e.charCodeAt(F)?(c=",",F++):(c=i,0===V&&W(f)),c!==i)if(se()!==i){if(u=[],(m=X())!==i)for(;m!==i;)u.push(m),m=X();else u=i;u!==i&&(m=se())!==i?(125===e.charCodeAt(F)?(g="}",F++):(g=i,0===V&&W(d)),g!==i?(t,t=n={type:"select",arg:r,cases:u}):(F=t,t=i)):(F=t,t=i)}else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;else F=t,t=i;return t}())===i&&(n=function(){var n,r,a,o,s,c,u,h,p,v,y;n=F,123===e.charCodeAt(F)?(r="{",F++):(r=i,0===V&&W(l));if(r!==i)if(se()!==i)if((a=Q())!==i)if(se()!==i)if(44===e.charCodeAt(F)?(o=",",F++):(o=i,0===V&&W(f)),o!==i)if(se()!==i)if(s=F,"plural"===e.substr(F,6)?(c="plural",F+=6):(c=i,0===V&&W(m)),c===i&&("selectordinal"===e.substr(F,13)?(c="selectordinal",F+=13):(c=i,0===V&&W(g))),c!==i&&(s,ce=!0,c=c),(s=c)!==i)if((c=se())!==i)if(44===e.charCodeAt(F)?(u=",",F++):(u=i,0===V&&W(f)),u!==i)if(se()!==i)if((h=function(){var t,n,r,a;t=F,se()!==i?("offset"===e.substr(F,6)?(n="offset",F+=6):(n=i,0===V&&W(E)),n!==i&&se()!==i?(58===e.charCodeAt(F)?(r=":",F++):(r=i,0===V&&W(w)),r!==i&&se()!==i&&(a=oe())!==i&&se()!==i?(t,t=a):(F=t,t=i)):(F=t,t=i)):(F=t,t=i);return t}())===i&&(h=null),h!==i){if(p=[],(v=Z())!==i)for(;v!==i;)p.push(v),v=Z();else p=i;p!==i&&(v=se())!==i?(125===e.charCodeAt(F)?(y="}",F++):(y=i,0===V&&W(d)),y!==i?(n,b=a,S=h,_=p,(k=("selectordinal"===(O=s)?t.ordinal:t.cardinal)||["zero","one","two","few","many","other"])&&k.length&&_.forEach((function(e){if(isNaN(e.key)&&k.indexOf(e.key)<0)throw new Error("Invalid key `"+e.key+"` for argument `"+b+"`. Valid "+O+" keys for this locale are `"+k.join("`, `")+"`, and explicit keys like `=0`.")})),ce=!1,n=r={type:O,arg:b,offset:S||0,cases:_}):(F=n,n=i)):(F=n,n=i)}else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;else F=n,n=i;var b,O,S,_,k;return n}())===i&&(n=function(){var t,n,r,a,o,s,c,h;t=F,123===e.charCodeAt(F)?(n="{",F++):(n=i,0===V&&W(l));n!==i&&se()!==i&&(r=Q())!==i&&se()!==i?(44===e.charCodeAt(F)?(a=",",F++):(a=i,0===V&&W(f)),a!==i&&se()!==i?(o=F,(s=Q())!==i&&(o,s=p(0,s)),(o=s)!==i&&(s=se())!==i?((c=function(){var t,n,r,a,o;if(t=F,(n=se())!==i)if(44===e.charCodeAt(F)?(r=",",F++):(r=i,0===V&&W(f)),r!==i){if(a=[],(o=te())!==i)for(;o!==i;)a.push(o),o=te();else a=i;a!==i?(t,n=u(a),t=n):(F=t,t=i)}else F=t,t=i;else F=t,t=i;return t}())===i&&(c=null),c!==i?(125===e.charCodeAt(F)?(h="}",F++):(h=i,0===V&&W(d)),h!==i?(t,t=n={type:"function",arg:r,key:o,param:c}):(F=t,t=i)):(F=t,t=i)):(F=t,t=i)):(F=t,t=i)):(F=t,t=i);return t}())===i&&(n=F,35===e.charCodeAt(F)?(r="#",F++):(r=i,0===V&&W(s)),r!==i?(F,(a=(a=c())?void 0:i)!==i?(n,n=r={type:"octothorpe"}):(F=n,n=i)):(F=n,n=i),n===i)){if(n=F,r=[],(a=ae())!==i)for(;a!==i;)r.push(a),a=ae();else r=i;r!==i&&(n,r=u(r)),n=r}return n}function Q(){var t,n,r;if(t=F,n=[],v.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(y)),r!==i)for(;r!==i;)n.push(r),v.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(y));else n=i;return t=n!==i?e.substring(t,F):n}function X(){var e,t,n;return e=F,se()!==i&&(t=Q())!==i&&se()!==i&&(n=ee())!==i?(e,e=b(t,n)):(F=e,e=i),e}function Z(){var t,n,r;return t=F,se()!==i&&(n=function(){var t,n,r;(t=Q())===i&&(t=F,61===e.charCodeAt(F)?(n="=",F++):(n=i,0===V&&W(O)),n!==i&&(r=oe())!==i?(t,t=n=r):(F=t,t=i));return t}())!==i&&se()!==i&&(r=ee())!==i?(t,t=b(n,r)):(F=t,t=i),t}function ee(){var t,n,r,a,o,s;if(t=F,123===e.charCodeAt(F)?(n="{",F++):(n=i,0===V&&W(l)),n!==i)if(r=F,(a=se())!==i?(o=F,V++,123===e.charCodeAt(F)?(s="{",F++):(s=i,0===V&&W(l)),V--,s!==i?(F=o,o=void 0):o=i,o!==i?r=a=[a,o]:(F=r,r=i)):(F=r,r=i),r===i&&(r=null),r!==i){for(a=[],o=J();o!==i;)a.push(o),o=J();a!==i&&(o=se())!==i?(125===e.charCodeAt(F)?(s="}",F++):(s=i,0===V&&W(d)),s!==i?(t,t=n=a):(F=t,t=i)):(F=t,t=i)}else F=t,t=i;else F=t,t=i;return t}function te(){var t;return(t=ne())===i&&(t=ie())===i&&(S.test(e.charAt(F))?(t=e.charAt(F),F++):(t=i,0===V&&W(_))),t}function ne(){var t,n;return t=F,"''"===e.substr(F,2)?(n="''",F+=2):(n=i,0===V&&W(k)),n!==i&&(t,n="'"),t=n}function re(){var t,n,r;if((t=ne())===i){if(t=F,n=[],T.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(C)),r!==i)for(;r!==i;)n.push(r),T.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(C));else n=i;n!==i&&(t,n=u(n)),t=n}return t}function ie(){var t,n,r,a;if(t=F,"'{"===e.substr(F,2)?(n="'{",F+=2):(n=i,0===V&&W(A)),n!==i){for(r=[],a=re();a!==i;)r.push(a),a=re();r!==i?(39===e.charCodeAt(F)?(a="'",F++):(a=i,0===V&&W(N)),a!==i?(t,t=n="{"+r.join("")):(F=t,t=i)):(F=t,t=i)}else F=t,t=i;if(t===i)if(t=F,"'}"===e.substr(F,2)?(n="'}",F+=2):(n=i,0===V&&W(I)),n!==i){for(r=[],a=re();a!==i;)r.push(a),a=re();r!==i?(39===e.charCodeAt(F)?(a="'",F++):(a=i,0===V&&W(N)),a!==i?(t,t=n=function(e){return"}"+e.join("")}(r)):(F=t,t=i)):(F=t,t=i)}else F=t,t=i;return t}function ae(){var t,n;return(t=ne())===i&&(t=function(){var t,n,r,a,o,s;if((t=ie())===i){if(t=F,n=F,r=F,"'#"===e.substr(F,2)?(a="'#",F+=2):(a=i,0===V&&W(j)),a!==i){for(o=[],s=re();s!==i;)o.push(s),s=re();o!==i?(39===e.charCodeAt(F)?(s="'",F++):(s=i,0===V&&W(N)),s!==i?(r,r=a="#"+o.join("")):(F=r,r=i)):(F=r,r=i)}else F=r,r=i;r!==i?(F,(a=(a=c())?void 0:i)!==i?n=r=[r,a]:(F=n,n=i)):(F=n,n=i),n!==i&&(t,n=n[0]),(t=n)===i&&(39===e.charCodeAt(F)?(t="'",F++):(t=i,0===V&&W(N)))}return t}())===i&&(t=F,35===e.charCodeAt(F)?(n="#",F++):(n=i,0===V&&W(s)),n!==i?(F,(!ce?void 0:i)!==i?(t,t=n=n):(F=t,t=i)):(F=t,t=i),t===i&&(D.test(e.charAt(F))?(t=e.charAt(F),F++):(t=i,0===V&&W(x)))),t}function oe(){var t,n,r;if(t=F,n=[],R.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(M)),r!==i)for(;r!==i;)n.push(r),R.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(M));else n=i;return t=n!==i?e.substring(t,F):n}function se(){var t,n,r;for(t=F,n=[],L.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(P));r!==i;)n.push(r),L.test(e.charAt(F))?(r=e.charAt(F),F++):(r=i,0===V&&W(P));return t=n!==i?e.substring(t,F):n}var ce=!1;if((n=o())!==i&&F===e.length)return n;throw n!==i&&F<e.length&&W({type:"end"}),Y(q,G<e.length?e.charAt(G):null,G<e.length?K(G,G+1):K(G,G))}}},"68F3":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n("lSNA"),i=n.n(r),a=n("cDcd"),o=n("aiZp"),s=n("ZqfD"),c=n("AhjJ"),u=async e=>await Object(o.a)(e,{method:"GET",path:"/me/card-metadata",trackingProps:{api:"getCardMetadata"}}),l=n("J3mW"),d=n("oHc+");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=(e,t)=>e.recommendationIds.some(e=>!t[e].isCompleted&&!t[e].isDismissed),m=async e=>{const{featureFlags:t}=e,[n,r]=await Promise.all([Object(c.a)(h(h({},e),{},{opts:{params:{useCardMetadata:!0}}})),u(h(h({},e),{},{opts:{params:{useCardMetadata:!0}}}))]),{complete:i,plInfo:a={}}=n,o=h(h({},a),{},{rootDomain:a.rootDomain||"godaddy.com"}),f=Object(d.a)(),{result:p}=Object(s.renderAllCards)(i,{noCopy:!0,locale:f,customDataFields:{featureFlags:t,baseUrl:o.rootDomain,plInfo:o}}),{actionPlanMap:m,recommendations:g}=((e,t)=>{const n={},{parents:r,children:i}=(e=>e.reduce(({children:e,parents:t},n)=>"guidance"===n.componentType.toLowerCase()?{children:e,parents:[...t,n]}:"guidance-task"===n.componentType.toLowerCase()?{children:[...e,n],parents:t}:{children:e,parents:t},{children:[],parents:[]}))(e);i.filter(e=>{const n=t[e.id]||{};return e._score>0&&null==n.userCompleted}).forEach(e=>{var r,i,a,o,s,c,u;const d=t[e.id]||{},f=null!==(r=null===(i=e.content)||void 0===i?void 0:i.labels)&&void 0!==r?r:[],h=null!==(a=null==e||null===(o=e.content)||void 0===o?void 0:o.coverMetadata[0])&&void 0!==a?a:{},p=(null==h?void 0:h.ctas.find(e=>"primary"===e.ctaType.toLowerCase()))||{},m={id:e.definitionId,metadataId:e.id,title:h.title,description:h.body,imageUrl:null===(s=h.image)||void 0===s?void 0:s.value,cta:{url:null===(c=(null!==(u=null==p?void 0:p.actions)&&void 0!==u?u:[]).find(e=>"url"===e.type.toLowerCase()))||void 0===c?void 0:c.value,text:p.text},isQuickTask:f.includes("quicktask"),isDismissed:null!=d.dismissed,isCompleted:e._score===l.h.COMPLETED||null!=d.userCompleted,openNewTab:f.includes("open-new-tab")};n[e.definitionId]=m});const{imcompleteRecsList:a,dismissedRecsList:o}=((e,t)=>e.reduce(({imcompleteRecsList:e,dismissedRecsList:n},r)=>(r.dependentCards.forEach(r=>{null!=t[r]&&(t[r].isDismissed?n.push(r):e.push(r))}),{imcompleteRecsList:e,dismissedRecsList:n}),{imcompleteRecsList:[],dismissedRecsList:[]}))(r,n),s=[...a,...o],c=[...new Set(s)].reduce((e,t,n)=>{const r=Math.floor(n/5);return e[r]||(e[r]=[]),e[r].push(t),e},[]),u=new Map;return c.forEach((e,t)=>{u.set("PlaceHolderPlan-"+t,{id:"PlaceHolderPlan-"+t,recommendationIds:e})}),{actionPlanMap:u,recommendations:n}})(p,r);return{actionPlanMap:m,recommendations:g}},g=e=>e?{cardId:e}:{};var v=n("JMSx");const y=(e,t={})=>{const{openNewTab:n}=t;if(n){window.open().location=e}else(e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return l.g.ABSOLUTE_URL.test(e)})(e)?window.location.assign(e):window.location.assign(`${l.f}${e}`)};var b=n("Uevq");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const O="LOAD_ACTION_PLANS",S="LOAD_ACTION_PLANS_FAILURE",_="LOAD_ACTION_PLANS_SUCCESS",k="SET_SELECTED_ACTION_PLAN",T="DISMISS_RECOMMENDATION",C="COMPLETE_RECOMMENDATION",A="SET_TOP_TASK",N="RESET_DISMISSED",I="ACTION_PLANS_COMPLETE",j={isLoading:!0,hasLoadingFailed:!1,actionPlanMap:null,recommendations:null,selectedActionPlanId:null,entitlements:null,topTaskId:null},D=(e,t)=>{const n={method:"PATCH",path:"/me/card-metadata",data:e,headers:{"Content-Type":"application/json"},trackingProps:{api:"updateCardMetadata"}};Object(o.a)(t,n)},x=(e,t)=>{switch(t.type){case O:return w(w({},e),{},{isLoading:!0,hasLoadingFailed:!1});case S:return w(w({},e),{},{isLoading:!1,hasLoadingFailed:!0,error:t.payload});case _:return w(w({},e),{},{isLoading:!1,hasLoadingFailed:!1},t.payload);case k:return w(w({},e),{},{selectedActionPlanId:t.payload.selectedActionPlanId,topTaskId:t.payload.topTaskId});case A:return w(w({},e),{},{topTaskId:t.payload.topTaskId});case N:return w(w({},e),{},{recommendations:t.payload.recommendations,selectedActionPlanId:t.payload.selectedActionPlanId,topTaskId:t.payload.topTaskId});case T:{const n=w(w({},e.recommendations[t.payload.recommendationId]),{},{isDismissed:!0}),r=w(w({},e.recommendations),{},{[t.payload.recommendationId]:w({},n)});return w(w({},e),{},{recommendations:r,topTaskId:t.payload.topTaskId})}case C:{const n=w(w({},e.recommendations[t.payload.recommendationId]),{},{isCompleted:!0}),r=w(w({},e.recommendations),{},{[t.payload.recommendationId]:w({},n)});return w(w({},e),{},{recommendations:r,topTaskId:t.payload.topTaskId})}case I:return w(w({},e),{},{actionPlansComplete:!0});default:return e}},R=(e,t,n)=>null==e?void 0:e.recommendationIds.find(e=>e!==n&&!t[e].isDismissed&&!t[e].isCompleted),M=({accountId:e,ventureId:t,appLocation:n,eventTracker:r,featureFlags:i,onCtaClick:o})=>{const[s,c]=Object(a.useReducer)(x,j),u=Object(a.useMemo)(()=>({accountId:e,ventureId:t,appLocation:n,featureFlags:i}),[e,t,n,i]),l=Object(a.useCallback)(()=>c({type:O}),[]),d=Object(a.useCallback)((t,n,r)=>{const i=[],a=Object.keys(t).reduce((n,r)=>(n[r]=w(w({},t[r]),{},{isDismissed:!1}),i.push({cardId:t[r].metadataId,data:{accountId:e,dismissed:null}}),n),{}),o=n.find(e=>p(e,a))||n[r];if(null==o)return void c({type:I});const l=R(o,a,s.topTaskId)||o.recommendationIds.find(e=>!a[e].isCompleted)||o.recommendationIds[0];D(i,u),c({type:N,payload:{recommendations:a,selectedActionPlanId:null==o?void 0:o.id,topTaskId:l}})},[e,u,s.topTaskId]),f=Object(a.useCallback)(({actionPlanMap:e=s.actionPlanMap,recommendations:t=s.recommendations})=>{const n=Array.from(e.keys()),r=(n.indexOf(s.selectedActionPlanId)+1)%n.length,i=Array.from(e.values()),a=i.slice(r).find(e=>e.id!==s.selectedActionPlanId&&p(e,t));if(a){const e=R(a,t);c({type:k,payload:{selectedActionPlanId:null==a?void 0:a.id,topTaskId:e}})}else d(t,i,r)},[d,s.recommendations,s.actionPlanMap,s.selectedActionPlanId]),h=Object(a.useCallback)(({metadataId:t,nextTopTask:n,taskId:i})=>{const a=new Date;c({type:T,payload:{recommendationId:i,topTaskId:n}});D([{cardId:t,data:{accountId:e,dismissed:a}}],u),r.trackEvent(v.a.CARD_DISMISS)},[e,u,r]),E=Object(a.useCallback)((e,t)=>{const n=s.actionPlanMap.get(s.selectedActionPlanId),r=R(n,s.recommendations,e)||null;r?h({metadataId:t,nextTopTask:r,taskId:e}):(h({metadataId:t,nextTopTask:r,taskId:e}),f({actionPlanMap:s.actionPlanMap,recommendations:s.recommendations}))},[f,s.actionPlanMap,s.recommendations,s.selectedActionPlanId,h]),M=Object(a.useCallback)(e=>{r.trackEvent(v.a.CARD_IMPRESSION,g(e))},[r]),L=Object(a.useCallback)((t,n)=>{const i=s.recommendations[t],a=i.cta.url,l=new Date;let d=[{cardId:n,data:{accountId:e,clicked:l,dismissed:null}}];if(r.trackEvent(v.a.CARD_CLICK,w(w({},g(t)),{},{cardId:t,Type:i.isCompleted?"Start Again":"Start"})),i.openNewTab){const r=s.actionPlanMap.get(s.selectedActionPlanId),i=R(r,s.recommendations,t);c({type:C,payload:{recommendationId:t,topTaskId:i}}),d=[{cardId:n,data:{accountId:e,userCompleted:l}}]}D(d,u),o?o({recommendation:i}):y(a,{openNewTab:i.openNewTab})},[e,u,r,s,o]),P=Object(a.useCallback)(async()=>{try{const[{actionPlanMap:t,recommendations:n},i]=await Promise.all([m(u),Object(b.a)(e)]);r.trackEvent(v.a.LOAD_ACTION_PLAN_DATA_SUCCESS),c({type:_,payload:{actionPlanMap:t,recommendations:n,entitlements:i}}),f({actionPlanMap:t,recommendations:n})}catch(e){r.trackEvent(v.a.LOAD_ACTION_PLAN_DATA_FAILED),c({type:S,payload:e})}},[u,r,e,f]);return Object(a.useEffect)(()=>{s.isLoading&&P()},[P,s.isLoading]),Object(a.useEffect)(()=>{s.selectedActionPlanId&&r.trackEvent(v.a.ACTION_PLAN_IMPRESSION)},[s.selectedActionPlanId,r]),{state:s,dismissTaskAction:E,primaryCTAAction:L,selectNextPlanAction:f,retryLoadActionPlanAction:l,cardImpressionAction:M,setTopTaskAction:e=>{r.trackEvent(v.a.CARD_PREVIEW_CLICK,w(w({},g(e)),{},{cardId:e})),c({type:A,payload:{topTaskId:e}})}}}},"6JX1":function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a={error:null},o=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=a,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),o.getDerivedStateFromError=function(e){return{error:e}};var s=o.prototype;return s.reset=function(){this.setState(a)},s.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},s.componentDidUpdate=function(e,t){var n,r,i,a,o=this.state.error,s=this.props.resetKeys;null!==o&&null!==t.error&&(void 0===(i=e.resetKeys)&&(i=[]),void 0===(a=s)&&(a=[]),i.length!==a.length||i.some((function(e,t){return!Object.is(e,a[t])})))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,s),this.reset())},s.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent,a=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(a))return a;if("function"==typeof n)return n(o);if(i)return r.createElement(i,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(r.Component);e.ErrorBoundary=o,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],i=t[1];if(null!=e)throw e;if(null!=n)throw n;return i},e.withErrorBoundary=function(e,t){var n=function(n){return r.createElement(o,t,r.createElement(e,n))},i=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+i+")",n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("cDcd"))},"6h/i":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n("lSNA"),i=n.n(r),a=n("cjSZ"),o=n.n(a);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=async()=>new Promise((e,t)=>{window._expDataLayer.push({schema:"get_tracking_values",version:"v1",data:{callback:n=>{n.vg?e(n):t(n)}}})}),l=e=>{window._expDataLayer.push({schema:"add_impression",version:"v1",data:c({eid:e.eid,properties:e.properties},e.element&&{dom_element:e.element})})},d=e=>{window._expDataLayer.push({schema:"add_event",version:"v1",data:c(c({eid:e.eid,type:"click",dom_event:e.event},e.element&&{dom_element:e.element}),{},{custom_properties:e.properties})})},f=e=>{const t=o()(e,(e,t)=>"insight_event_metrics_api_"+t);window._expDataLayer.push({schema:"add_perf",version:"v1",data:{type:"component_page_perf",custom_properties:t}})},h=e=>({"data-eid":e.eid,"data-tdata":Object.entries(e.properties||{}).map(([e,t])=>`${e},${t}`).join("^")})},"8vFS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.app,n=e.idType,r=e.id,o=e.preloadLocation,s=void 0===o?"__splitCachePreload":o,c=e.windowOverride,u=void 0===c?window:c,l=e.loadData;return(l===void 0?i["default"]:l)({serializedData:u[s],userId:(0,a.getSubjectKey)({idType:n,id:r}),storagePrefix:"".concat(t)}),!!u[s]};var r,i=(r=n("PI2D"))&&r.__esModule?r:{default:r},a=n("xnZ5")},"9lTW":function(e,t,n){"use strict";(function(t){var r=n("MgzW");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n("MCLT"),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function d(e){return!a(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=y,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||v(e,!0,t,"==",f.ok)}function b(e,t,n,r){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=E(e),a=E(t);if(i&&!a||!i&&a)return!1;if(i)return e=c.call(e),t=c.call(t),b(e,t,n);var s,u,l=S(e),d=S(t);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),u=l.length-1;u>=0;u--)if(l[u]!==d[u])return!1;for(u=l.length-1;u>=0;u--)if(s=l[u],!b(e[s],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function E(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function O(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&w(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!w(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=v,f.ok=y,f.equal=function(e,t,n){e!=t&&v(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){O(!0,e,t,n)},f.doesNotThrow=function(e,t,n){O(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||v(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var S=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n("yLpj"))},AL7F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("pBbz"),i=n("xnZ5");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=this,o=t.splitioOptions,s=t.app,c=t.subject,u=t.splitioClients,l=t.splitioManager,d=t.preloadExists,f=t.usePreload,h=void 0===f||f,p=t.windowOverride,m=void 0===p?window:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var g,v=Object.entries(c)[0];o.core.key=(0,i.getSubjectKey)({id:v[1],idType:v[0]}),o.storage={type:h?"LOCALSTORAGE":"MEMORY",prefix:"".concat(s)},o.streamingEnabled=!1,u&&l||(g=(0,r.SplitFactory)(o)),u||Object.entries(c).forEach((function(e,t){var n,r,o,s=a(e,2),c=s[0],l=s[1];0===t?(n={},r=c,o=g.client(),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,u=n):u[c]=g.client((0,i.getSubjectKey)({id:l,idType:c}))})),l||(l=g.manager()),this._splitioClients=u,this._splitioManager=l,this._clientsReady=Promise.all(Object.values(this._splitioClients).map((function(e){return new Promise((function(t){return e.on(d?e.Event.SDK_READY_FROM_CACHE:e.Event.SDK_READY,t)}))}))),this._managerReady=new Promise((function(e){return n._splitioManager.on(d?n._splitioManager.Event.SDK_READY_FROM_CACHE:n._splitioManager.Event.SDK_READY,e)})),this._allReady=Promise.all([this._clientsReady,this._managerReady]),h||this._clearLocalStorage({app:s,windowOverride:m})}var t,n,o;return t=e,(n=[{key:"_clearLocalStorage",value:function(e){var t=this,n=e.app,r=e.windowOverride;this._splitioManager.on(this._splitioManager.Event.SDK_READY,(function(){t._splitioManager.splits().forEach((function(e){return r.localStorage.removeItem("".concat(n,".SPLITIO.split.").concat(e.name))})),r.localStorage.removeItem("".concat(n,".SPLITIO.splits.lastUpdated")),r.localStorage.removeItem("".concat(n,".SPLITIO.splits.till")),r.localStorage.removeItem("".concat(n,".SPLITIO.splits.usingSegments"))}))}},{key:"ready",get:function(){return this._allReady}},{key:"getCohortAllocations",value:function(e){var t=e.idType,n=e.experiments,r=void 0===n?[]:n,a=e.attributes,o=void 0===a?{}:a,s=this._splitioClients[t].getTreatmentsWithConfig(r,o);return(0,i.treatmentsToCohortAllocations)(s)}},{key:"getExperimentsById",value:function(e){var t=this,n=e.map((function(e){return t._splitioManager.split(e)}));return e.reduce((function(e,t,r){var a=n[r];return null!==a&&(e[t]=(0,i.transformSplitToExperiment)(a)),e}),{})}},{key:"getExperiments",value:function(){return this._splitioManager.splits().reduce((function(e,t){return e[t.name]=(0,i.transformSplitToExperiment)(t),e}),{})}},{key:"destroy",value:function(){var e=this;return Promise.all(Object.entries(this._splitioClients).map((function(t){var n=a(t,2),r=n[0];n[1].destroy().then((function(){delete e._splitioClients[r]}))})))}}])&&s(t.prototype,n),o&&s(t,o),e}();t.default=c},AWuw:function(e,t,n){var r=n("0YsK"),i=n("5V+5").parse;function a(e){this.mf=e,this.lc=null,this.locales={},this.runtime={},this.formatters={}}e.exports=a,a.propname=function(e,t){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(e)&&["break","continue","delete","else","for","function","if","in","new","return","this","typeof","var","void","while","with","case","catch","default","do","finally","instanceof","switch","throw","try"].indexOf(e)<0)return t?t+"."+e:e;var n=JSON.stringify(e);return t?t+"["+n+"]":n},a.funcname=function(e){var t=e.trim().replace(/\W+/g,"_");return r.check(t,"es2015",!0)||/^\d/.test(t)?"_"+t:t},a.bidiMarkText=function(e,t){var n=JSON.stringify(function(e){return new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^")).test(e)}(t)?"‏":"‎");return n+" + "+e+" + "+n},a.prototype.cases=function(e,t){var n="select"===e.type||!this.mf.hasCustomPluralFuncs,r=e.cases.map((function(e){"other"===e.key&&(n=!1);var r=e.tokens.map((function(e){return this.token(e,t)}),this);return a.propname(e.key)+": "+(r.join(" + ")||'""')}),this);if(n)throw new Error("No 'other' form found in "+JSON.stringify(e));return"{ "+r.join(", ")+" }"},a.prototype.token=function(e,t){if("string"==typeof e)return JSON.stringify(e);var n,r=[a.propname(e.arg,"d")];switch(e.type){case"argument":return this.mf.bidiSupport?a.bidiMarkText(r[0],this.lc):r[0];case"select":n="select",r.push(this.cases(e,this.mf.strictNumberSign?null:t)),this.runtime.select=!0;break;case"selectordinal":n="plural",r.push(0,a.funcname(this.lc),this.cases(e,e),1),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"plural":n="plural",r.push(e.offset||0,a.funcname(this.lc),this.cases(e,e)),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"function":if(!(e.key in this.mf.fmt)&&e.key in this.mf.constructor.formatters){var i=this.mf.constructor.formatters[e.key];this.mf.fmt[e.key]=i(this.mf)}if(!this.mf.fmt[e.key])throw new Error("Formatting function "+JSON.stringify(e.key)+" not found!");r.push(JSON.stringify(this.lc)),"string"==typeof e.param&&r.push(JSON.stringify(e.param.trim())),n=a.propname(e.key,"fmt"),this.formatters[e.key]=!0;break;case"octothorpe":if(!t)return'"#"';n="number",r=[a.propname(t.arg,"d"),JSON.stringify(t.arg)],t.offset&&r.push(t.offset),this.runtime.number=!0}if(!n)throw new Error("Parser error for token "+JSON.stringify(e));return n+"("+r.join(", ")+")"},a.prototype.compile=function(e,t,n){if("object"!=typeof e){this.lc=t;var r=n[t]||{cardinal:[],ordinal:[]};return r.strictNumberSign=!!this.mf.strictNumberSign,"function(d) { return "+(i(e,r).map((function(e){return this.token(e)}),this).join(" + ")||'""')+"; }"}var a={};for(var o in e){var s=n.hasOwnProperty(o)?o:t;a[o]=this.compile(e[o],s,n)}return a}},Ab2p:function(e,t,n){"use strict";(function(e){var r=n("+qE3"),i=n.n(r),a=n("JMSx"),o=n("3HEq");t.a=t=>{e.insightEvents=e.insightEvents||new i.a.EventEmitter,e.insightEvents.on("insight_api_failure",e=>{Object(o.a)({data:e,eventTracker:t})}),e.insightEvents.on("insight_api_request",e=>{t.trackEvent(a.a.API_REQUEST,e)}),e.insightEvents.on("insight_rad_request",({warnings:e=[],shopperWarnings:n=[]})=>{e.forEach(e=>{t.trackEvent(a.a.CARD_CATALOG_WARNINGS,{warning:e})}),n.forEach(({code:e,message:n,type:r})=>{t.trackEvent(a.a.CARD_CATALOG_SHOPPER_WARNINGS,{code:e,message:n,type:r})})})}}).call(this,n("yLpj"))},AhjJ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n("lSNA"),i=n.n(r),a=n("aiZp"),o=n("qv5s");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=async({accountId:t,ventureId:n,appLocation:r,featureFlags:i,opts:s,jwt:u})=>{const l=Object(o.a)({featureFlags:i,appLocation:r}).map(e=>Object(a.a)({accountId:t,ventureId:n,appLocation:r,jwt:u},c(c({},s),{},{path:"/v4/cards/"+e,params:c({},s.params),trackingProps:{api:"getCardCatalog"}})));return Promise.all(l).then(t=>{var n,r;const i=t.flatMap(e=>e.warnings),a=t.flatMap(e=>e.shopperWarnings);return null===(n=e)||void 0===n||null===(r=n.insightEvents)||void 0===r||r.emit("insight_rad_request",{warnings:i,shopperWarnings:a}),{complete:t.flatMap(e=>e.complete),warnings:i,plInfo:t.find(e=>e.plInfo).plInfo}})}}).call(this,n("yLpj"))},BD0T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserSdkKeys=void 0,t.getClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.readyTimeout,n=e.mockData,r=e.usePreload,o=e.Client,c=void 0===o?s.default:o,u=e.initClient,l=void 0===u?h:u,d=window,f=d.ux,p=(f=void 0===f?{}:f).data,m=(p=void 0===p?{}:p).app,g=void 0===m?"default":m,v=p.env,y=void 0===v?"dev":v;(0,i.updateAuthTokens)();var b=(0,i.getShopperId)(),E=(0,a.getVisitorId)(),w={Client:c,app:g,env:y,shopperId:b,visitorGuid:E,readyTimeout:t,mockData:n,usePreload:r};return E?l(w):new Promise((function(e){window._expDataLayer.push({schema:"get_tracking_values",version:"v1",data:{callback:function(t){var n=t.vtg;w.visitorGuid=n,e(l(w))}}})}))},t.initHivemind=h;var r,i=n("Pw3O"),a=n("ZL8N"),o=n("xnZ5"),s=(r=n("1+TE"))&&r.__esModule?r:{default:r};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={},f={dev:"mbqv2tai7f3k04c7rm4dnombdfuvvddtmgku",test:"k0kgs7d57kss5jbkfsdto70ierl2tgvivl0v",prod:"pbqj1rfhsn00ukm2lv96jcg4rmbktkrdsmm0"};function h(e){var t=e.Client,n=e.app,r=e.env,i=e.shopperId,a=e.visitorGuid,s=e.readyTimeout,c=e.mockData,h=e.usePreload,p="".concat(n).concat(r).concat(i).concat(a).concat(s).concat(!!c).concat(h);return d[p]||(d[p]=new t({app:n.replace(/\./g,"-"),splitioOptions:{core:{authorizationKey:f[r]}},subject:u(u({},i&&l({},o.hivemindConstants.idTypes.SHOPPER_ID,i)),a&&l({},o.hivemindConstants.idTypes.VISITOR_GUID,a)),preloadLocation:"__hivemindPreload",readyTimeout:s,mockData:c,usePreload:h})),d[p].ready.then((function(){return d[p]}))}t.browserSdkKeys=f},DIf3:function(e,t,n){"use strict";const r=n("2X3e");e.exports=r("clock","false")},HDzB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r={personalPlan:"1138037",businessPlusPlan:"1167298",commercePlan:"1177611",statsShopper:"1246429",gcmShopper:"1303207"},i={local:r,dev:r,test:{personalPlan:"1296955",businessPlusPlan:"1329614",commercePlan:"1338856",statsShopper:"1458732",gcmShopper:"1596204"},prod:{personalPlan:"140852913"}}},Hxxg:function(e,t,n){"use strict";const r=n("2X3e");e.exports=r("link-arrow","false")},Icqa:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("lSNA"),i=n.n(r),a=n("QILm"),o=n.n(a),s=n("bOux");const c=["method","path","data","headers"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}async function d(e={},t){const{method:n="GET",path:r,data:i,headers:a={}}=e,u=`${t}${r}`,d=l(l({},o()(e,c)),{},{method:n,headers:a,credentials:"include"});"GET"!==n&&i&&Object.assign(d,{body:JSON.stringify(i)});const f=await Object(s.a)(u.toString(),d),h=f.headers.get("content-type");if(!h||!h.includes("application/json"))return Promise.resolve(f);if(!f.ok)throw new Error(f.statusText);return await f.json()}},J3mW:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("PP42");const i=Object(r.a)(),a={DM:"wam-general"},o={development:"https://rad-api.dev-godaddy.com",test:"https://rad-api.test-godaddy.com",production:"https://rad-api.godaddy.com"}[i],s={development:"https://websites.api.dev-godaddy.com/v2",test:"https://websites.api.test-godaddy.com/v2",production:"https://websites.api.godaddy.com/v2"}[i],c={development:"https://dashboard.dev-godaddy.com",test:"https://dashboard.test-godaddy.com",production:"https://dashboard.godaddy.com"}[i],u={development:"https://websites.accounts.api.dev-godaddy.com/v1",test:"https://websites.accounts.api.test-godaddy.com/v1",production:"https://websites.accounts.api.godaddy.com/v1"}[i],l={development:"https://categories.api.dev-godaddy.com/v4",test:"https://categories.api.test-godaddy.com/v4",production:"https://categories.api.godaddy.com/v4"}[i],d={development:"le227o3q020fqlmqklpq0fe6crkeq6ncdjmp",test:"c7uk9jg1rushrun1fl04jihm4vhhvhu1ajnj",production:"kmaj4jr5so2bo7oiff6a9b79mliahp7hjgo9"}[i],f={COMPLETED:0,NOT_APPLICABLE:-1},h={ABSOLUTE_URL:/^(http(s)?:)?\/\//},p={FLYOUT:"flyout",DASHBOARD:"dashboard"},m={PRIMARY:"primary",SECONDARY:"secondary",USER_COMPLETED:"user_completed"}},JMSx:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const r=(e,t,n,r="")=>r.toLowerCase().replace(/\s/gi,"_"),i="click",a="impression",o={ACTION_PLAN_IMPRESSION:["gd_insight Action Plan Impression",a],API_FAILURE:["gd_insight Request failure",a],API_REQUEST:["gd_insight Request",a],CARD_CATALOG_WARNINGS:["gd_insight Card Catalog Warnings",a],CARD_CATALOG_SHOPPER_WARNINGS:["gd_insight Card Catalog Shopper Warnings",a],CARD_CLICK:["gd_insight Card Click",i],CARD_DISMISS:["gd_insight Card Dismiss",a],CARD_IMPRESSION:["gd_insight Card Impression",a],CARD_PREVIEW_CLICK:["gd_insight Card Preview Click",i],EDIT_GOALS:["gd_insight Edit Goals",i],EMBEDDED_GOALS_IMPRESSION:["gd_insight Embedded Goals Impression",a],GENERIC_ERROR_IMPRESSION:["gd_insight Generic Error Impression",a],GOAL_CLICK:["gd_insight Goal Click",i],INSIGHT_EXPERIMENT:["gd_insight Insight Experiment",a],LOAD_ACTION_PLAN_DATA_FAILED:["gd_insight Load Action Plan Data Request Failed",a],LOAD_ACTION_PLAN_DATA_SUCCESS:["gd_insight Load Action Plan Data Request Suceeded",a],SAVE_GOALS_FAILURE:["gd_insight Save Goals Failure",a],SAVE_GOALS_SUCCESS:["gd_insight Save Goals Success",a],SAVE_GOALS:["gd_insight Save Goals",i],START_NEXT_PLAN_CLICK:["gd_insight Start Next Plan Click",i],VIEW_ACTION_PLAN_ITEMS:["gd_insight View Action Plan Items",i],IQ_ASSESSMENT_EXPLAINER_CLICK:["gd_insight Assessment Explainer Click",i]},s={},c=Object.keys(o).reduce((e,t)=>{const[n,i]=o[t];return e[n]={mixpanel:[n,{}],traffic2:[r,i||a]},s[t]=n,e},{});t.b=c},OriJ:function(e,t,n){e.exports={date:n("SB4S"),duration:n("oqEv"),number:n("TDPR"),time:n("R5vL")}},PP42:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));const r={dev:"development",test:"test",prod:"production"},i=()=>{var t,n,i;return(null===(t=e.window)||void 0===t||null===(n=t.ux)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.env)?r[e.window.ux.data.env]:r.prod}}).call(this,n("yLpj"))},R5vL:function(e,t){function n(e,t,n){var r={second:"numeric",minute:"numeric",hour:"numeric"};switch(n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}return new Date(e).toLocaleTimeString(t,r)}e.exports=function(){return n}},SB4S:function(e,t){function n(e,t,n){var r={day:"numeric",month:"short",year:"numeric"};switch(n){case"full":r.weekday="long";case"long":r.month="long";break;case"short":r.month="numeric"}return new Date(e).toLocaleDateString(t,r)}e.exports=function(){return n}},TDPR:function(e,t){function n(e,t,n){var r=n&&n.split(":")||[],i={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:r[1]&&r[1].trim()||CURRENCY,minimumFractionDigits:2,maximumFractionDigits:2}};return new Intl.NumberFormat(t,i[r[0]]||{}).format(e)}e.exports=function(e){var t=n.toString().replace("CURRENCY",JSON.stringify(e.currency||"USD")).match(/\(([^)]*)\)[^{]*{([\s\S]*)}/);return new Function(t[1],t[2])}},UJXj:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("cDcd");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=new Map,s=new WeakMap,c=0,u=void 0;function l(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(s.has(n)||(c+=1,s.set(n,c.toString())),s.get(n)):"0":e[t]);var n})).toString()}function d(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=u),void 0===window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=function(e){var t=l(e),n=o.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},o.set(t,n)}return n}(n),s=a.id,c=a.observer,d=a.elements,f=d.get(e)||[];return d.has(e)||d.set(e,f),f.push(t),c.observe(e),function(){f.splice(f.indexOf(t),1),0===f.length&&(d.delete(e),c.unobserve(e)),0===d.size&&(c.disconnect(),o.delete(s))}}var f=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function h(e){return"function"!=typeof e.children}var p=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),h(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var s=o.prototype;return s.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},s.componentWillUnmount=function(){this.unobserve(),this.node=null},s.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,a=e.delay,o=e.fallbackInView;this._unobserveCb=d(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:a},o)}},s.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},s.render=function(){if(!h(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var a=this.props,o=a.children,s=a.as,c=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(a,f);return r.createElement(s||"div",i({ref:this.handleNode},c),o)},o}(r.Component);p.displayName="InView",p.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var m=n("qCQx");let g=!1;const v=e=>{const t=()=>{},n=function(e){var t=void 0===e?{}:e,n=t.threshold,i=t.delay,a=t.trackVisibility,o=t.rootMargin,s=t.root,c=t.triggerOnce,u=t.skip,l=t.initialInView,f=t.fallbackInView,h=r.useRef(),p=r.useState({inView:!!l}),m=p[0],g=p[1],v=r.useCallback((function(e){void 0!==h.current&&(h.current(),h.current=void 0),u||e&&(h.current=d(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&c&&h.current&&(h.current(),h.current=void 0)}),{root:s,rootMargin:o,threshold:n,trackVisibility:a,delay:i},f))}),[Array.isArray(n)?n.toString():n,s,o,c,u,a,f,i]);Object(r.useEffect)((function(){h.current||!m.entry||c||u||g({inView:!!l})}));var y=[v,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}(e);return"undefined"!=typeof window&&null==window.IntersectionObserver?(g||(m.a.trackPerfEvent({event:"inview_failure",message:"Intersection observer was undefined."}),g=!0),[t,!1,void 0]):n}},URYl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"getClient",{enumerable:!0,get:function(){return a.getClient}}),Object.defineProperty(t,"hivemindConstants",{enumerable:!0,get:function(){return i.hivemindConstants}});var r,i=n("xnZ5"),a=n("BD0T");var o=((r=n("1+TE"))&&r.__esModule?r:{default:r}).default;t.default=o},Uevq:function(e,t,n){"use strict";var r=n("Icqa"),i=n("J3mW");t.a=async e=>await Object(r.a)({path:`/accounts/${e}/entitlements?transitionable=true&used=true`,trackingProps:{api:"getEntitlements"}},i.k)},VW8Q:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const r={dark:"#004249",medium:"#09757A",light:"#D8EFEF",name:"teal",lightMedium:"#09757A33"},i={dark:"#600801",medium:"#AE1302",light:"#FADCD9",name:"red",lightMedium:"#AE130233"},a={dark:"#000",medium:"#767676",light:"#FFF",name:"blackwhite",lightMedium:"#A1A1A1"},o=[r,i,{dark:"#2F1C4C",medium:"#613EA3",light:"#E9E4F2",name:"purple",lightMedium:"#613EA333"},{dark:"#0B3354",medium:"#145FA9",light:"#DDEAF8",name:"blue",lightMedium:"#145FA933"},{dark:"#003A15",medium:"#00782E",light:"#D9F2E2",name:"green",lightMedium:"#00782E33"},{dark:"#5B003B",medium:"#B4006C",light:"#FBD9ED",name:"magenta",lightMedium:"#B4006C33"},{dark:"#744125",medium:"#EF6C0F",light:"#FDE9DB",name:"orange",lightMedium:"#EF6C0F33"}]},Wf1Y:function(e,t,n){var r,i,a=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];void 0===(i="function"==typeof(r={af:a[1],ak:a[1],am:a[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},ars:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:a[1],ast:a[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:a[1],bez:a[1],bg:a[1],bh:a[1],bm:a[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:a[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:a[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:a[1],cgg:a[1],chr:a[1],ckb:a[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:a[1],de:a[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:a[1],dz:a[0],ee:a[1],el:a[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:a[1],es:a[1],et:a[1],eu:a[1],fa:a[1],ff:a[1],fi:a[1],fil:a[2],fo:a[1],fr:a[2],fur:a[1],fy:a[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["one","two","few","other"]},gl:a[1],gsw:a[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:a[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:a[1],haw:a[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:a[2],hy:a[2],ia:a[1],id:a[0],ig:a[0],ii:a[0],in:a[0],io:a[1],is:a[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:a[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:a[0],jbo:a[0],jgo:a[1],ji:a[1],jmc:a[1],jv:a[0],jw:a[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:a[1],kaj:a[1],kcg:a[1],kde:a[0],kea:a[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:a[1],kl:a[1],km:a[0],kn:a[1],ko:a[0],ks:a[1],ksb:a[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:a[1],kw:a[3],ky:a[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:a[1],lg:a[1],lkt:a[0],ln:a[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:a[1],mg:a[1],mgo:a[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:a[1],mn:a[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:a[0],nah:a[1],naq:a[3],nb:a[1],nd:a[1],ne:a[2],nl:a[1],nn:a[1],nnh:a[1],no:a[1],nqo:a[0],nr:a[1],nso:a[1],ny:a[1],nyn:a[1],om:a[1],or:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},os:a[1],pa:a[1],pap:a[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:a[1],pt:a[1],"pt-PT":a[1],rm:a[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:a[1],root:a[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:a[1],sah:a[0],saq:a[1],sc:{cardinal:["one","other"],ordinal:["many","other"]},scn:{cardinal:["one","other"],ordinal:["many","other"]},sd:a[1],sdh:a[1],se:a[3],seh:a[1],ses:a[0],sg:a[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:a[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:a[3],smi:a[3],smj:a[3],smn:a[3],sms:a[3],sn:a[1],so:a[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:a[1],ssy:a[1],st:a[1],sv:a[2],sw:a[1],syr:a[1],ta:a[1],te:a[1],teo:a[1],th:a[0],ti:a[1],tig:a[1],tk:{cardinal:["one","other"],ordinal:["few","other"]},tl:a[2],tn:a[1],to:a[0],tr:a[1],ts:a[1],tzm:a[1],ug:a[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:a[1],uz:a[1],ve:a[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:a[1],vun:a[1],wa:a[1],wae:a[1],wo:a[0],xh:a[1],xog:a[1],yi:a[1],yo:a[0],yue:a[0],zh:a[0],zu:a[1]})?r.call(t,n,t,e):r)||(e.exports=i)},X6UL:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("cDcd"),i=n.n(r),a=n("ef/e"),o=n("k004"),s=n("y8rA"),c=n.n(s),u=n("UJXj");const l=({recommendation:e,theme:t,cardImpressionAction:n,handlePrimaryClick:a,handleSecondaryClick:s})=>{const[l,d]=Object(u.a)({triggerOnce:!0,threshold:.5}),{id:f,title:h,description:p,cta:m}=e,g=Object(o.useIntl)(),v=m.text.length>12||g.formatMessage({id:"NOT_NOW"}).length>12?"separate-row-layout":"";return Object(r.useEffect)(()=>{d&&n(e.id)},[d,n,e]),i.a.createElement("div",{"data-aid":f,className:"FlyoutInsightCard",ref:l,style:{backgroundColor:t.light,color:t.dark}},i.a.createElement("div",{className:"FlyoutInsightCard-content"},i.a.createElement("div",{className:"headline-brand FlyoutInsightCard-title"},h),p&&i.a.createElement("div",{className:"FlyoutInsightCard-body"},p)),i.a.createElement("div",{className:"FlyoutInsightCard-buttons"},i.a.createElement("section",{className:"TaskCTAs-Button-set "+v},i.a.createElement(c.a,{design:"primary",onClick:a,text:m.text}),i.a.createElement(c.a,{className:"TaskCTAs-Button-secondary",design:"inline",onClick:s,text:i.a.createElement(o.FormattedMessage,{id:"NOT_NOW"})}))))},d=({cardImpressionAction:e,dismissTaskAction:t,onClickViewAll:n,primaryCTAAction:o,recommendation:s,selectTheme:c,theme:u})=>{const d=Object(r.useCallback)(()=>{c(u),o(s.id,s.metadataId)},[u,c,o,s]),f=Object(r.useCallback)(()=>{c(u),t(s.id,s.metadataId)},[u,c,t,s]);return i.a.createElement("div",null,s?i.a.createElement(l,{recommendation:s,cardImpressionAction:e,handlePrimaryClick:d,handleSecondaryClick:f,theme:u}):null,i.a.createElement(a.a,{onClick:n}))}},Xxlw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("VW8Q");function i(){const e=r.a.slice();for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}const t=e.findIndex(e=>e.name===r.d.name);return[e[0],e[t]]=[e[t],e[0]],e}},ZOAG:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.asOptions=void 0,t.default=function(e){const{as:t,className:n,emphasis:r,size:a}=e||{};return(0,i.default)("ux-text",n,{["ux-text-size"+a]:"number"==typeof a&&a>=-2&&a<6,["ux-text-"+t]:t&&o.includes(t),["ux-text-feedback-"+r]:r&&s.includes(r)})},t.emphasisOptions=void 0;var i=r(n("TSYQ")),a=r(n("UWYs"));const o=["title","heading","paragraph","action","input","label","caption"];t.asOptions=o;const s=Object.values(a.default).map(e=>e.toLowerCase());t.emphasisOptions=s},Zbbm:function(e,t){e.exports={sha256:e=>{const t=(e,t)=>{const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},n=(e,t)=>e>>>t|e<<32-t,r=(e,t)=>e>>>t,i=(e,t,n)=>e&t^~e&n,a=(e,t,n)=>e&t^e&n^t&n,o=e=>n(e,2)^n(e,13)^n(e,22),s=e=>n(e,6)^n(e,11)^n(e,25),c=e=>n(e,7)^n(e,18)^r(e,3);return(e=>{const t="0123456789abcdef";let n="";for(let r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n})(((e,u)=>{const l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],f=new Array(64);let h,p,m,g,v,y,b,E,w,O,S,_;for(e[u>>5]|=128<<24-u%32,e[15+(u+64>>9<<4)]=u,w=0;w<e.length;w+=16){for(h=d[0],p=d[1],m=d[2],g=d[3],v=d[4],y=d[5],b=d[6],E=d[7],O=0;O<64;O++)f[O]=O<16?e[O+w]:t(t(t((k=f[O-2],n(k,17)^n(k,19)^r(k,10)),f[O-7]),c(f[O-15])),f[O-16]),S=t(t(t(t(E,s(v)),i(v,y,b)),l[O]),f[O]),_=t(o(h),a(h,p,m)),E=b,b=y,y=v,v=t(g,S),g=m,m=p,p=h,h=t(S,_);d[0]=t(h,d[0]),d[1]=t(p,d[1]),d[2]=t(m,d[2]),d[3]=t(g,d[3]),d[4]=t(v,d[4]),d[5]=t(y,d[5]),d[6]=t(b,d[6]),d[7]=t(E,d[7])}var k;return d})((e=>{const t=[];for(let n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t})(e=(e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t})(e)),8*e.length))}}},ZqfD:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("lCf4"),a=n("tLFe"),o=n("koM2");function s(e,t){var n=t||{},s=n.locale,c=n.field,u=void 0===c?"content":c,l=n.customDataFields,d=n.noCopy?e:JSON.parse(JSON.stringify(e)),f=i(d,u);if(!f)throw new Error(u+" not found in card");var h=e.dataBinding,p=(h=void 0===h?{}:h).compound,m=void 0===p?{}:p,g="function"==typeof l?l({compound:m}):r({compound:m},l);if(Object.keys(g).length){var v=o.render(f,g,{locale:s});if(f!==v)return a(d,u,v)}return d}e.exports={renderAllCards:function(e,t){var n=[],i=[];return e.forEach((function(e){try{n.push(s(e,t))}catch(t){i.push(r({message:t.message},e))}})),{result:n,warnings:i}},renderCard:s}},ZzkE:function(e,t,n){"use strict";e.exports=class{constructor({mockData:e}){this._mockData=e}get ready(){return Promise.resolve()}getCohortAllocations({experiments:e}){const{cohorts:t}=this._mockData;return Object.entries(t).reduce((t,[n,r])=>{if(e.includes(n)){const{data:e,cohortId:i}=r;t[n]={data:e,cohortId:i}}return t},{})}getExperimentsById(e){const{cohorts:t}=this._mockData;return Object.keys(t).reduce((t,n)=>(e.includes(n)&&Object.assign(t,this._getExperimentById(n)),t),{})}getExperiments(){const{cohorts:e}=this._mockData;return Object.keys(e).reduce((e,t)=>Object.assign(e,this._getExperimentById(t)),{})}_getExperimentById(e){const{cohorts:t}=this._mockData,n=t[e].cohortId,r=t[e].data||{};return{[e]:{experimentId:e,subjectIdType:t[e].subjectType,killed:!1,cohorts:[n],cohortData:{[n]:r},labels:r.labels||[]}}}}},aiZp:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n("lSNA"),i=n.n(r),a=n("QILm"),o=n.n(a),s=n("bOux"),c=n("J3mW");const u=["headers","method","path","params","data"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=({accountId:e,entities:t,entitiesInclude:n={},product:r,ventureId:i})=>t.map(t=>{if(t.startsWith("wsbvnext")){const i="metrics"===r?",includegpstrends":"";return n[t]?`${t}:(includes:'${n[t].join(",")}',filter:'accountId:${e}${i}')`:`${t}:(filter:'accountId:${e}${i}')`}if(t.startsWith("mktgasst"))return`${t}:(filter:'id:${e}')`;if(t.startsWith("o365"))return`${t}:(filter:'id:${e}')`;if(i){if(t.startsWith("uce"))return`${t}:(ventureId:'${i}')`;if(t.startsWith("projects"))return`${t}:(filter:'ventureId:${i}')`}return t}).join(",");t.a=async(e,t={})=>{const{headers:n={},method:r="GET",path:i,params:a,data:l}=t,h=o()(t,u),{accountId:p,jwt:m,appLocation:g,ventureId:v}=e;n["Accept-Encoding"]="gzip";const y=new URL(`${c.c}${i}`),b=d(d({},h),{},{headers:n,method:r,params:{}});return m?n.Authorization="sso-jwt "+m:b.credentials="include",a&&(b.params=a,b.params.entities=f({accountId:p,entities:["mktgasstlite","wsbvnextlite","o365","uce"],ventureId:v})),"GET"!==r&&l&&Object.assign(b,{body:JSON.stringify(l)}),new Promise((e,t)=>{window._expDataLayer=window._expDataLayer||[],window._expDataLayer.push({schema:"get_tracking_values",version:"v1",data:{callback:n=>{n.vg?e(n):t(n)}}})}).then(async({vg:e,vtg:t})=>{Object.assign(b.params,{visitorType:"radcaller",visitorId:t,visitId:e,appName:g}),Object.keys(b.params).forEach(e=>y.searchParams.append(e,b.params[e]));const n=await Object(s.a)(y.toString(),b),r=n.headers.get("content-type");return r&&r.includes("application/json")&&204!==n.status&&404!==n.status?await n.json():Promise.resolve(n)}).catch(async e=>e)}},bOux:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n("lSNA"),i=n.n(r);n("cnSC");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s({request:t,code:n,message:r,trackingProps:i={}}){var a,s;const{url:c,method:u,headers:l}=t,d=Array.from(l.keys()).reduce((e,t)=>(e[t]=l.get(t).length,e),{}),f=Object.fromEntries(document.cookie.split("; ").map(e=>{const[t,...n]=e.split("=");return[t,n.join("=").length]}));null===(a=e)||void 0===a||null===(s=a.insightEvents)||void 0===s||s.emit("insight_api_failure",o({code:n,message:r,method:u,url:c,headerSizes:JSON.stringify(d),cookieSizes:JSON.stringify(f)},i))}function c(t,n){const r=new Request(t,n),{trackingProps:i}=n;return function({request:t,trackingProps:n}){var r,i;const{url:a,method:s}=t;null===(r=e)||void 0===r||null===(i=r.insightEvents)||void 0===i||i.emit("insight_api_request",o({url:a,method:s},n))}({request:r,trackingProps:i}),fetch(r).then(e=>(e.ok||e.clone().text().then(t=>{s({request:r,code:e.status,message:t,trackingProps:i})}),e)).catch(e=>{throw s({request:r,code:"0",message:e.message,trackingProps:i}),e})}}).call(this,n("yLpj"))},bdgK:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&c()}function s(){a(o)}function c(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=v(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=l(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=f(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=h(r,"left","right")+a),Math.round(c+o)!==n&&(c-=h(r,"top","bottom")+o)),!function(e){return e===l(e).document.documentElement}(e)){var u=Math.round(s+a)-t,p=Math.round(c+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(c-=p)}return v(i.left,i.top,s,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return r?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):p(e):d}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,i,a,o,s,c,l=(r=(n=t).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),c);u(this,{target:e,contentRect:l})},E=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new E(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var S=void 0!==i.ResizeObserver?i.ResizeObserver:O;t.a=S}).call(this,n("yLpj"))},cnSC:function(e,t){!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];w.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new w(i,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=f,e.Request=b,e.Response=w),t.Headers=f,t.Request=b,t.Response=w,t.fetch=S}({})}("undefined"!=typeof self?self:this)},dBqK:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("cDcd"),i=n.n(r),a=n("k004"),o=n("wIJX"),s=n("y8rA"),c=n.n(s),u=n("JMSx"),l=n("VW8Q");const d=({eventTracker:e,onRetry:t})=>(Object(r.useEffect)(()=>{e.trackEvent(u.a.GENERIC_ERROR_IMPRESSION)},[e]),i.a.createElement("div",{className:"FlyoutInsightCard",style:{backgroundColor:l.c.light,color:l.c.dark}},i.a.createElement("div",{className:"FlyoutInsightCard-content"},i.a.createElement("div",{className:"FlyoutInsightCard-icon"},i.a.createElement(o.a,{name:"alert",size:24,fill:l.c.dark})),i.a.createElement("div",{className:"headline-brand FlyoutInsightCard-title"},i.a.createElement(a.FormattedMessage,{id:"TROUBLE_LOADING"})),i.a.createElement("div",{className:"FlyoutInsightCard-body"},i.a.createElement(a.FormattedMessage,{id:"PLEASE_TRY_AGAIN"}))),i.a.createElement("div",{className:"FlyoutInsightCard-buttons"},i.a.createElement(c.a,{design:"primary",onClick:t,text:i.a.createElement(a.FormattedMessage,{id:"RETRY"})}))))},dwco:function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,r=e.HTMLElement||e.Element,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,o=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):i.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?i.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=f(this),r=n.getBoundingClientRect(),a=this.getBoundingClientRect();n!==t.body?(p.call(this,n,n.scrollLeft+a.left-r.left,n.scrollTop+a.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+o<e.scrollHeight:"X"===t?e.clientWidth+o<e.scrollWidth:void 0}function l(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function d(e){var t=u(e,"Y")&&l(e,"Y"),n=u(e,"X")&&l(e,"X");return t||n}function f(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}function h(t){var n,r,i,o,s=(a()-t.startTime)/468;o=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*o)),r=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,i),r===t.x&&i===t.y||e.requestAnimationFrame(h.bind(e,t))}function p(n,r,o){var c,u,l,d,f=a();n===t.body?(c=e,u=e.scrollX||e.pageXOffset,l=e.scrollY||e.pageYOffset,d=i.scroll):(c=n,u=n.scrollLeft,l=n.scrollTop,d=s),h({scrollable:c,method:d,startTime:f,startX:u,startY:l,x:r,y:o})}}}}()},eRjL:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n("lSNA"),i=n.n(r),a=n("cDcd"),o=n("4dC9"),s=n("qCQx");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=e.window?e.window.performance:{now:n("bQgK")},d=(e,t)=>{switch(t.type){case"FETCH":return{isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{isLoading:!1,isError:!1,data:t.payload.data};case"FETCH_FAILURE":return{isLoading:!1,isError:!0}}},f=e=>{const[t,n]=Object(a.useReducer)(d,{isLoading:!0,isError:!1}),r=Object(a.useCallback)(()=>{n({type:"FETCH"})},[n]);return Object(a.useEffect)(()=>{const r=new AbortController,i=r.signal;let a=!1;if(t.isLoading){const t=l.now();e(i).then(({data:e,metadata:{apiName:r,app:i,event:o,size:c,status:u}})=>{a||(s.a.trackPerfEvent({apiName:r,app:i,duration:Math.round(l.now()-t),event:o,size:c,status:u}),n({type:"FETCH_SUCCESS",payload:{data:e}}))}).catch(e=>{var r;if(a||n({type:"FETCH_FAILURE"}),"aborterror"!==(null==e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase()))if(e instanceof o.a){const{apiName:n,app:r,event:i,message:a,stack:o,size:c,status:d,url:f}=e;s.a.trackPerfEvent(u(u({apiName:n,app:r,duration:Math.round(l.now()-t),event:i,message:a,size:c},o&&{jsStackTrace:o}),{},{status:d,url:f}))}else{const{name:t,message:n,stack:r}=e;s.a.trackPerfEvent(u({event:"exception",name:t,message:n},r&&{jsStackTrace:r}))}})}return()=>{a=!0,r.abort()}},[e,t.isLoading]),[t,r]}}).call(this,n("yLpj"))},ebS1:function(e,t,n){var r,i;void 0===(i="function"==typeof(r={af:function(e,t){return t?"other":1==e?"one":"other"},ak:function(e,t){return t?"other":0==e||1==e?"one":"other"},am:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ar:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},ars:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},asa:function(e,t){return t?"other":1==e?"one":"other"},ast:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},az:function(e,t){var n=String(e).split(".")[0],r=n.slice(-1),i=n.slice(-2),a=n.slice(-3);return t?1==r||2==r||5==r||7==r||8==r||20==i||50==i||70==i||80==i?"one":3==r||4==r||100==a||200==a||300==a||400==a||500==a||600==a||700==a||800==a||900==a?"few":0==n||6==r||40==i||60==i||90==i?"many":"other":1==e?"one":"other"},be:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?2!=i&&3!=i||12==a||13==a?"other":"few":1==i&&11!=a?"one":i>=2&&i<=4&&(a<12||a>14)?"few":r&&0==i||i>=5&&i<=9||a>=11&&a<=14?"many":"other"},bem:function(e,t){return t?"other":1==e?"one":"other"},bez:function(e,t){return t?"other":1==e?"one":"other"},bg:function(e,t){return t?"other":1==e?"one":"other"},bh:function(e,t){return t?"other":0==e||1==e?"one":"other"},bm:function(e,t){return"other"},bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},bo:function(e,t){return"other"},br:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return t?"other":1==i&&11!=a&&71!=a&&91!=a?"one":2==i&&12!=a&&72!=a&&92!=a?"two":(3==i||4==i||9==i)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":0!=e&&r&&0==o?"many":"other"},brx:function(e,t){return t?"other":1==e?"one":"other"},bs:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=u?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},ca:function(e,t){var n=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&n?"one":"other"},ce:function(e,t){return t?"other":1==e?"one":"other"},cgg:function(e,t){return t?"other":1==e?"one":"other"},chr:function(e,t){return t?"other":1==e?"one":"other"},ckb:function(e,t){return t?"other":1==e?"one":"other"},cs:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1];return t?"other":1==e&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var n=String(e).split("."),r=n[0],i=Number(n[0])==e;return t||1!=e&&(i||0!=r&&1!=r)?"other":"one"},de:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},dsb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-2),s=i.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},dv:function(e,t){return t?"other":1==e?"one":"other"},dz:function(e,t){return"other"},ee:function(e,t){return t?"other":1==e?"one":"other"},el:function(e,t){return t?"other":1==e?"one":"other"},en:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?1==a&&11!=o?"one":2==a&&12!=o?"two":3==a&&13!=o?"few":"other":1==e&&r?"one":"other"},eo:function(e,t){return t?"other":1==e?"one":"other"},es:function(e,t){return t?"other":1==e?"one":"other"},et:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},eu:function(e,t){return t?"other":1==e?"one":"other"},fa:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ff:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},fi:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},fil:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=i.slice(-1);return t?1==e?"one":"other":a&&(1==r||2==r||3==r)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},fo:function(e,t){return t?"other":1==e?"one":"other"},fr:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fur:function(e,t){return t?"other":1==e?"one":"other"},fy:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},ga:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e||11==e?"one":2==e||12==e?"two":3==e||13==e?"few":"other":1==e||11==e?"one":2==e||12==e?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},gl:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},gsw:function(e,t){return t?"other":1==e?"one":"other"},gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},guw:function(e,t){return t?"other":0==e||1==e?"one":"other"},gv:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return t?"other":i&&1==a?"one":i&&2==a?"two":!i||0!=o&&20!=o&&40!=o&&60!=o&&80!=o?i?"other":"many":"few"},ha:function(e,t){return t?"other":1==e?"one":"other"},haw:function(e,t){return t?"other":1==e?"one":"other"},he:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&i?"one":2==r&&i?"two":i&&(e<0||e>10)&&a&&0==o?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},hr:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=u?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},hsb:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-2),s=i.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},ia:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},id:function(e,t){return"other"},ig:function(e,t){return"other"},ii:function(e,t){return"other"},in:function(e,t){return"other"},io:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},is:function(e,t){var n=String(e).split("."),r=n[0],i=Number(n[0])==e,a=r.slice(-1),o=r.slice(-2);return t?"other":i&&1==a&&11!=o||!i?"one":"other"},it:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},iu:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},iw:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&i?"one":2==r&&i?"two":i&&(e<0||e>10)&&a&&0==o?"many":"other"},ja:function(e,t){return"other"},jbo:function(e,t){return"other"},jgo:function(e,t){return t?"other":1==e?"one":"other"},ji:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},jmc:function(e,t){return t?"other":1==e?"one":"other"},jv:function(e,t){return"other"},jw:function(e,t){return"other"},ka:function(e,t){var n=String(e).split(".")[0],r=n.slice(-2);return t?1==n?"one":0==n||r>=2&&r<=20||40==r||60==r||80==r?"many":"other":1==e?"one":"other"},kab:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},kaj:function(e,t){return t?"other":1==e?"one":"other"},kcg:function(e,t){return t?"other":1==e?"one":"other"},kde:function(e,t){return"other"},kea:function(e,t){return"other"},kk:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1);return t?6==i||9==i||r&&0==i&&0!=e?"many":"other":1==e?"one":"other"},kkj:function(e,t){return t?"other":1==e?"one":"other"},kl:function(e,t){return t?"other":1==e?"one":"other"},km:function(e,t){return"other"},kn:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ko:function(e,t){return"other"},ks:function(e,t){return t?"other":1==e?"one":"other"},ksb:function(e,t){return t?"other":1==e?"one":"other"},ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:function(e,t){return t?"other":1==e?"one":"other"},kw:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},ky:function(e,t){return t?"other":1==e?"one":"other"},lag:function(e,t){var n=String(e).split(".")[0];return t?"other":0==e?"zero":0!=n&&1!=n||0==e?"other":"one"},lb:function(e,t){return t?"other":1==e?"one":"other"},lg:function(e,t){return t?"other":1==e?"one":"other"},lkt:function(e,t){return"other"},ln:function(e,t){return t?"other":0==e||1==e?"one":"other"},lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var n=String(e).split("."),r=n[1]||"",i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?"other":1==a&&(o<11||o>19)?"one":a>=2&&a<=9&&(o<11||o>19)?"few":0!=r?"many":"other"},lv:function(e,t){var n=String(e).split("."),r=n[1]||"",i=r.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),c=r.slice(-2),u=r.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==o&&11!=s||2==i&&1==u&&11!=c||2!=i&&1==u?"one":"other"},mas:function(e,t){return t?"other":1==e?"one":"other"},mg:function(e,t){return t?"other":0==e||1==e?"one":"other"},mgo:function(e,t){return t?"other":1==e?"one":"other"},mk:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return t?1==o&&11!=s?"one":2==o&&12!=s?"two":7!=o&&8!=o||17==s||18==s?"other":"many":a&&1==o&&11!=s||1==c&&11!=u?"one":"other"},ml:function(e,t){return t?"other":1==e?"one":"other"},mn:function(e,t){return t?"other":1==e?"one":"other"},mo:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||1!=e&&i>=1&&i<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":e>=0&&e<=1?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":1==e?"one":0==e||r>=2&&r<=10?"few":r>=11&&r<=19?"many":"other"},my:function(e,t){return"other"},nah:function(e,t){return t?"other":1==e?"one":"other"},naq:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},nb:function(e,t){return t?"other":1==e?"one":"other"},nd:function(e,t){return t?"other":1==e?"one":"other"},ne:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?r&&e>=1&&e<=4?"one":"other":1==e?"one":"other"},nl:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},nn:function(e,t){return t?"other":1==e?"one":"other"},nnh:function(e,t){return t?"other":1==e?"one":"other"},no:function(e,t){return t?"other":1==e?"one":"other"},nqo:function(e,t){return"other"},nr:function(e,t){return t?"other":1==e?"one":"other"},nso:function(e,t){return t?"other":0==e||1==e?"one":"other"},ny:function(e,t){return t?"other":1==e?"one":"other"},nyn:function(e,t){return t?"other":1==e?"one":"other"},om:function(e,t){return t?"other":1==e?"one":"other"},or:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e||5==e||r&&e>=7&&e<=9?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":1==e?"one":"other"},os:function(e,t){return t?"other":1==e?"one":"other"},pa:function(e,t){return t?"other":0==e||1==e?"one":"other"},pap:function(e,t){return t?"other":1==e?"one":"other"},pl:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return t?"other":1==e&&i?"one":i&&a>=2&&a<=4&&(o<12||o>14)?"few":i&&1!=r&&(0==a||1==a)||i&&a>=5&&a<=9||i&&o>=12&&o<=14?"many":"other"},prg:function(e,t){var n=String(e).split("."),r=n[1]||"",i=r.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),c=r.slice(-2),u=r.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==i&&c>=11&&c<=19?"zero":1==o&&11!=s||2==i&&1==u&&11!=c||2!=i&&1==u?"one":"other"},ps:function(e,t){return t?"other":1==e?"one":"other"},pt:function(e,t){var n=String(e).split(".")[0];return t?"other":0==n||1==n?"one":"other"},"pt-PT":function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},rm:function(e,t){return t?"other":1==e?"one":"other"},ro:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||1!=e&&i>=1&&i<=19?"few":"other"},rof:function(e,t){return t?"other":1==e?"one":"other"},root:function(e,t){return"other"},ru:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return t?"other":i&&1==a&&11!=o?"one":i&&a>=2&&a<=4&&(o<12||o>14)?"few":i&&0==a||i&&a>=5&&a<=9||i&&o>=11&&o<=14?"many":"other"},rwk:function(e,t){return t?"other":1==e?"one":"other"},sah:function(e,t){return"other"},saq:function(e,t){return t?"other":1==e?"one":"other"},sc:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},scn:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},sd:function(e,t){return t?"other":1==e?"one":"other"},sdh:function(e,t){return t?"other":1==e?"one":"other"},se:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},seh:function(e,t){return t?"other":1==e?"one":"other"},ses:function(e,t){return"other"},sg:function(e,t){return"other"},sh:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=u?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},shi:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":e>=0&&e<=1?"one":r&&e>=2&&e<=10?"few":"other"},si:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"";return t?"other":0==e||1==e||0==r&&1==i?"one":"other"},sk:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1];return t?"other":1==e&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},sl:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=r.slice(-2);return t?"other":i&&1==a?"one":i&&2==a?"two":i&&(3==a||4==a)||!i?"few":"other"},sma:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smi:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smj:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smn:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sms:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sn:function(e,t){return t?"other":1==e?"one":"other"},so:function(e,t){return t?"other":1==e?"one":"other"},sq:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==e?"one":4==i&&14!=a?"many":"other":1==e?"one":"other"},sr:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),c=i.slice(-1),u=i.slice(-2);return t?"other":a&&1==o&&11!=s||1==c&&11!=u?"one":a&&o>=2&&o<=4&&(s<12||s>14)||c>=2&&c<=4&&(u<12||u>14)?"few":"other"},ss:function(e,t){return t?"other":1==e?"one":"other"},ssy:function(e,t){return t?"other":1==e?"one":"other"},st:function(e,t){return t?"other":1==e?"one":"other"},sv:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return t?1!=a&&2!=a||11==o||12==o?"other":"one":1==e&&r?"one":"other"},sw:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},syr:function(e,t){return t?"other":1==e?"one":"other"},ta:function(e,t){return t?"other":1==e?"one":"other"},te:function(e,t){return t?"other":1==e?"one":"other"},teo:function(e,t){return t?"other":1==e?"one":"other"},th:function(e,t){return"other"},ti:function(e,t){return t?"other":0==e||1==e?"one":"other"},tig:function(e,t){return t?"other":1==e?"one":"other"},tk:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-1);return t?6==r||9==r||10==e?"few":"other":1==e?"one":"other"},tl:function(e,t){var n=String(e).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=i.slice(-1);return t?1==e?"one":"other":a&&(1==r||2==r||3==r)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},tn:function(e,t){return t?"other":1==e?"one":"other"},to:function(e,t){return"other"},tr:function(e,t){return t?"other":1==e?"one":"other"},ts:function(e,t){return t?"other":1==e?"one":"other"},tzm:function(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":0==e||1==e||r&&e>=11&&e<=99?"one":"other"},ug:function(e,t){return t?"other":1==e?"one":"other"},uk:function(e,t){var n=String(e).split("."),r=n[0],i=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),c=r.slice(-1),u=r.slice(-2);return t?3==o&&13!=s?"few":"other":i&&1==c&&11!=u?"one":i&&c>=2&&c<=4&&(u<12||u>14)?"few":i&&0==c||i&&c>=5&&c<=9||i&&u>=11&&u<=14?"many":"other"},ur:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},uz:function(e,t){return t?"other":1==e?"one":"other"},ve:function(e,t){return t?"other":1==e?"one":"other"},vi:function(e,t){return t&&1==e?"one":"other"},vo:function(e,t){return t?"other":1==e?"one":"other"},vun:function(e,t){return t?"other":1==e?"one":"other"},wa:function(e,t){return t?"other":0==e||1==e?"one":"other"},wae:function(e,t){return t?"other":1==e?"one":"other"},wo:function(e,t){return"other"},xh:function(e,t){return t?"other":1==e?"one":"other"},xog:function(e,t){return t?"other":1==e?"one":"other"},yi:function(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"},yo:function(e,t){return"other"},yue:function(e,t){return"other"},zh:function(e,t){return"other"},zu:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"}})?r.call(t,n,t,e):r)||(e.exports=i)},"ef/e":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("cDcd"),i=n.n(r),a=n("k004"),o=n("y8rA"),s=n.n(o);const c=({onClick:e})=>i.a.createElement(s.a,{className:"FlyoutInsightViews-button-view-all",design:"secondary",onClick:e,icon:i.a.createElement(u,null),text:i.a.createElement(a.FormattedMessage,{id:"VIEW_ALL_ITEMS"})}),u=()=>i.a.createElement("svg",{className:"FlyoutInsightViews-arrow",viewBox:"0 0 21 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2177 0L13.1324 1.10097L17.1731 5.2H0.132355V6.8H17.1731L13.1324 10.899L14.2177 12L20.1324 6L14.2177 0Z",fill:"currentColor"}))},g9Uv:function(e,t,n){"use strict";var r=n("oVF6");function i(e){return e?(e=e.toLowerCase(),["https://","http://","www"].forEach((function(t){0===e.indexOf(t)&&(e=e.substring(t.length))})),e):""}t.extractGDAppDomains=function(e){if(!e)return"";var t=(e=i(e=e.toLowerCase())).split("/")[0].split(":")[0].split("."),n=void 0,r=void 0;return["dev-godaddy","dev-secureserver","test-godaddy","test-secureserver","godaddy","secureserver"].forEach((function(e){n=t.indexOf(e),!r&&n>-1&&(r=!0,t=t.slice(0,n+1))})),r?t.join("."):""},t.getDefaultValuesForReferrer=function(e){var t=i(e),n=Object.keys(r.REFERRER_MATCH_TO_ORIGIN).find((function(e){return new RegExp(e).test(t)}));return r.REFERRER_MATCH_TO_ORIGIN[n]||{}},t.parseDocumentCookie=function(e){var t={},n=void 0;return e.split(";").forEach((function(e){n=e.trim().split("="),t[n[0].trim()]=n[1].trim()})),t},t.stripSchemeWWW=i},h7Xi:function(e,t,n){var r=n("Wf1Y"),i=n("ebS1");function a(e,t,n){var i=function(){return t.apply(this,arguments)};if(i.toString=function(){return t.toString()},n)i.cardinal=[],i.ordinal=[];else{var a=r[e]||{};i.cardinal=a.cardinal,i.ordinal=a.ordinal}return i}e.exports={get:function(e,t){for(var n=e;n;n=n.replace(/[-_]?[^-_]*$/,"")){var r=i[n];if(r)return a(n,r,t)}throw new Error("Localisation function not found for locale "+JSON.stringify(e))},getAll:function(e){return Object.keys(i).reduce((function(t,n){return t[n]=a(n,i[n],e),t}),{})}}},hKzD:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("cDcd")),a=r(n("rf6O")),o=r(n("TSYQ")),s=r(n("wWro")),c=r(n("9/PS")),u=r(n("ZOAG"));function l(e){const{children:t,className:n,divider:r,gap:a,id:l,invalid:d,label:f,helpMessage:h,errorMessage:p,required:m,orientation:g="horizontal",stretch:v,wrap:y}=e||{};if(!t)return null;const b=f&&l&&l+"-label",E=h&&l&&l+"-help",w=p&&l&&l+"-error";return i.default.createElement("div",{className:(0,o.default)("ux-sibling-set",n,"ux-sibling-set-"+g,{["ux-sibling-set-gap-"+a]:a,"ux-sibling-set--stretch":v,"ux-sibling-set--wrap":y}),role:"group","aria-labelledby":b,"aria-describedby":[E,w].filter(Boolean).join(" ")},b&&i.default.createElement(s.default,{className:"ux-sibling-set-label",id:b,htmlFor:l,required:m},f),r&&i.default.createElement("hr",null),i.default.createElement("div",{id:l,"aria-invalid":d,className:(0,u.default)({className:"ux-sibling-set-children",emphasis:d?"critical":null}),style:{"--ux-siblingset-amount":t.length}},t),h&&i.default.createElement(c.default.p,{text:h,as:"caption",id:E,emphasis:"passive"}),p&&i.default.createElement(c.default.p,{text:p,as:"caption",id:w,emphasis:"critical",role:"alert"}))}function d(e,t,n){const r=e.label&&!e.id,i=e.helpMessage&&!e.id,o=e.errorMessage&&!e.id;return r||i||o?new Error("When using a label, helpMessage or errorMessage, the 'id' prop is required"):a.default.checkPropTypes({[t]:a.default.node},e,t,n)}l.propTypes={children:a.default.node,className:a.default.string,divider:a.default.bool,gap:a.default.oneOf(["sm","md","lg"]),id:d,invalid:a.default.oneOfType([a.default.bool,a.default.oneOf(["grammar","spelling"])]),label:d,helpMessage:d,errorMessage:d,orientation:a.default.oneOf(["horizontal","vertical"]),required:s.default.propTypes.required,stretch:a.default.bool,wrap:a.default.bool},l.displayName="SiblingSet";var f=l;t.default=f},hj7e:function(e,t){e.exports={idTypes:{SHOPPER_ID:"shopperId",VISITOR_GUID:"visitorGuid"},DEFAULT_COHORT:"ineligible",PARAMETER_LABEL:"parameter"}},iwe8:function(e,t,n){"use strict";const{DEFAULT_COHORT:r}=n("hj7e");e.exports={validateApp:function(e=""){if(!e.match(/^[a-z0-9_-]+$/))throw new Error("Parameter 'app' must match regex '/^[a-z0-9_-]+$/'")},updateCohortAllocationsWithEid:function(e,t){return Object.keys(e).forEach(n=>{const r=e[n].error?"error":e[n].cohortId;e[n].eid=`hivemind.${t}.experiment.${n}.${r}.impression`}),e},generateDefaultAllocations:function(e){return e.reduce((e,t)=>Object.assign(e,{[t]:{cohortId:r,data:{}}}),{})},groupEligibleExperimentsById:function({subject:e,experiments:t,experimentsMetadata:n}){const r=t.filter(e=>!(e in n));return{experimentsByIdType:Object.entries(n).reduce((t,[n,i])=>(e[i.subjectIdType]?(t[i.subjectIdType]||(t[i.subjectIdType]=[]),t[i.subjectIdType].push(n)):r.push(n),t),{}),ineligibleExperiments:r}}}},jDx7:function(e,t,n){"use strict";var r=n("1dkQ").dateOffset;e.exports={dateOffset:r}},koM2:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n("lCf4"),o=n("5R4b"),s=n("jDx7");function c(e,t){var n=0,r={};return[e.replace(/({+\s*)([\w.]+)(\s*[,}])/g,(function(e,i,o,s){var c=~o.indexOf(".")?"identifier"+n++:o;return r[c]=a(t,o),""+i+c+s})),r]}e.exports={replaceSnippet:c,render:function e(t,n,a){if("string"==typeof t&&t.indexOf("{")>=0){var u=(a||{}).locale,l=new o("en-US");if(u)try{l=new o(u)}catch(e){}l.addFormatters(s);var d=c(t,n),f=i(d,2),h=f[0],p=f[1];return l.compile(h)(p)}if("object"!==(void 0===t?"undefined":r(t)))return t;var m=Array.isArray(t)?[]:{};return Object.keys(t).forEach((function(r){m[r]=e(t[r],n,a)})),m}}},lfCk:function(e,t,n){!function(){"use strict";function e(e){var t=!0,n=!1,r=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function a(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function s(e){t=!1}function c(){document.addEventListener("mousemove",u),document.addEventListener("mousedown",u),document.addEventListener("mouseup",u),document.addEventListener("pointermove",u),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",u),document.addEventListener("touchmove",u),document.addEventListener("touchstart",u),document.addEventListener("touchend",u)}function u(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",u),document.removeEventListener("pointermove",u),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",u),document.removeEventListener("touchmove",u),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",u))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(a(e.activeElement)&&o(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerdown",s,!0),document.addEventListener("touchstart",s,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),c())}),!0),c(),e.addEventListener("focus",(function(e){var n,r,s;a(e.target)&&(t||(n=e.target,r=n.type,"INPUT"===(s=n.tagName)&&i[r]&&!n.readOnly||"TEXTAREA"===s&&!n.readOnly||n.isContentEditable))&&o(e.target)}),!0),e.addEventListener("blur",(function(e){var t;a(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},nkmI:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return wt})),n.d(t,"getEventTracker",(function(){return ot})),n.d(t,"trackedFetch",(function(){return De.a})),n.d(t,"shouldShowInsight",(function(){return Ot})),n.d(t,"EVENT_NAMES",(function(){return g.a})),n.d(t,"DiscoverRecommendations",(function(){return Cn})),n.d(t,"SetupRecommendations",(function(){return rr})),n.d(t,"MetricsSummary",(function(){return Ql}));var r=n("lSNA"),i=n.n(r),a=n("cDcd"),o=n.n(a),s=n("rf6O"),c=n.n(s),u=n("k004"),l=(n("lfCk"),n("6JX1")),d=n("qCQx");const f=({children:e,renderFallback:t})=>{const n=Object(a.useCallback)((e,t)=>{d.a.trackPerfEvent({event:"exception",name:e.name,message:e.message,reactStackTrace:t.componentStack,jsStackTrace:e.stack||""})},[]);return o.a.createElement(l.ErrorBoundary,{fallbackRender:({resetErrorBoundary:e})=>t(e),onError:n},e)};var h=n("xKPx"),p=n("y8rA"),m=n.n(p),g=n("JMSx");const v=({className:e="",trackingProps:t,eventTracker:n,intl:r,retryFunc:i})=>{const{formatMessage:s}=r;return Object(a.useEffect)(()=>{n.trackEvent(g.a.GENERIC_ERROR_IMPRESSION,t)},[n,t]),o.a.createElement("div",{className:"GenericError "+e},o.a.createElement("div",{className:"headline-brand GenericError-title"},s({id:"GENERIC_TROUBLE_LOADING"})),o.a.createElement("div",{className:"headline-brand GenericError-title-sub"},s({id:"GENERIC_TROUBLE_LOADING_SUB"})),o.a.createElement("div",{className:"DashboardErrorCard-buttons"},o.a.createElement(m.a,{design:"primary",onClick:i,text:o.a.createElement(u.FormattedMessage,{id:"RETRY"})})))};v.propTypes={className:c.a.string,eventTracker:c.a.object.isRequired,intl:c.a.object,retryFunc:c.a.func.isRequired,trackingProps:c.a.object};var y=Object(u.injectIntl)(v),b=n("zgRa"),E=n.n(b),w=n("aiZp"),O=async({accountId:e,appLocation:t})=>{await Object(w.a)({appLocation:t},{method:"DELETE",path:"/me/card-metadata",data:{filter:{accountId:e}}})},S=n("Icqa"),_=n("J3mW"),k=async(e,t={})=>{const{accountId:n}=e;return Object(S.a)({method:"PUT",path:`/accounts/${n}/intents`,headers:{"Content-Type":"application/json"},data:t,trackingProps:{api:"saveGoals"}},_.k)},T=n("Uevq"),C=async e=>await Object(S.a)({path:"/websites/"+e,trackingProps:{api:"getWebsiteDetails"}},_.j);const A=({verticalTags:e=[]})=>{const t=e.map(e=>{const[,t]=e.split(":");return t});return t.includes("service_area")||t.includes("brick_and_mortar")},N=({entitlements:e={}},t)=>{const{current:n={},transitionable:r={}}=e;return n[t]||null!=r[t]},I="REGULAR",j="DM_SUITE",D={getNoticed:{title:"GOALS_TITLE_SHOW_UP",description:"GOALS_DESCRIPTION_SHOW_UP",name:"Get Noticed",image:"https://img1.wsimg.com/rad/il-Get-Noticed-2.png"},localCustomers:{title:"GOALS_TITLE_LOCAL",description:"GOALS_DESCRIPTION_LOCAL",name:"Attract Local",image:"https://img1.wsimg.com/rad/il-Attract-Local-2.png"},onlineStore:{title:"GOALS_TITLE_SELL",description:"GOALS_DESCRIPTION_SELL",name:"Sell Products",image:"https://img1.wsimg.com/rad/il-Online-Store-2.png"},onlineAppointments:{title:"GOALS_TITLE_APPOINTMENTS",description:"GOALS_DESCRIPTION_APPOINTMENTS",name:"Appointments",image:"https://img1.wsimg.com/rad/il-Bookings-2.png"},getNoticedDm:{title:"GOALS_TITLE_SHOW_UP",description:"GOALS_DESCRIPTION_SHOW_UP",name:"Get Noticed",image:"https://img1.wsimg.com/rad/il-Get-Noticed-2.png"},localCustomersDm:{title:"GOALS_TITLE_LOCAL",description:"GOALS_DESCRIPTION_LOCAL",name:"Attract Local",image:"https://img1.wsimg.com/rad/il-Attract-Local-2.png"},manageSocialMedia:{title:"GOALS_MANAGE_SOCIAL_MEDIA",description:"GOALS_MANAGE_SOCIAL_MEDIA",name:"Manage social media",image:"https://img1.wsimg.com/rad/il-Manage-social-2.png"},marketEmailSubscribers:{title:"GOALS_EMAIL_MARKET",description:"GOALS_EMAIL_MARKET",name:"Mail subscribers",image:"https://img1.wsimg.com/rad/il-Manage-Email-2.png"}},x={[I]:e=>({getNoticed:!0,localCustomers:!0,onlineStore:N(e,"commerce"),onlineAppointments:N(e,"appointments")}),[j]:()=>({getNoticedDm:!0,localCustomersDm:!0,manageSocialMedia:!0,marketEmailSubscribers:!0})},R={[I]:e=>{var t,n,r,i,a,o;return{getNoticed:!0,localCustomers:A(e),onlineStore:null!==(t=null==e||null===(n=e.entitlements)||void 0===n||null===(r=n.used)||void 0===r?void 0:r.commerce)&&void 0!==t&&t,onlineAppointments:null!==(i=null==e||null===(a=e.entitlements)||void 0===a||null===(o=a.used)||void 0===o?void 0:o.appointments)&&void 0!==i&&i}},[j]:()=>({getNoticedDm:!0,localCustomersDm:!0,manageSocialMedia:!0,marketEmailSubscribers:!0})};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const P="LOAD_GOALS",F="LOAD_FAILED",U="LOAD_SUCCESS",G="SAVE_GOALS",q="SAVE_FAILED",V="SAVE_SUCCESS",B="UPDATE_GOALS",H={isLoading:!0,hasLoadingFailed:!1,isSaving:!1,hasSavingFailed:!1,isAutoOnboarding:!1,goals:null,allowedGoals:null},z=async({accountId:e,websiteId:t})=>{var n,r,i,a;const[o,s]=await Promise.all([Object(T.a)(e),C(t)]),c=await(async e=>{const{category:t}=e;return await Object(S.a)({path:"/vertical_tag/"+t,trackingProps:{api:"getVerticalTags"}},_.e)})({category:null==s||null===(n=s.properties)||void 0===n?void 0:n.businessCategory}),u=((e={})=>{const{current:{website:t,socialMediaManager:n}={}}=e;return n&&"integrated"!==t})(o),l={entitlements:o,verticalTags:null==c||null===(r=c.result)||void 0===r?void 0:r.data},d=u?x[j](l):x[I](l);let f=null!==(i=null==s||null===(a=s.data)||void 0===a?void 0:a.customerIntentions)&&void 0!==i?i:{};if(f=Object.keys(f).reduce((e,t)=>(D[t]&&(e[t]=f[t]),e),{}),Object.keys(f).length)return{allowedGoals:d,goals:f,isAutoOnboarding:!1};return{allowedGoals:d,goals:u?R[j](l):R[I](l),isAutoOnboarding:!0}},K=(e,t)=>{switch(t.type){case P:return L(L({},e),{},{isLoading:!0,hasLoadingFailed:!1});case F:return L(L({},e),{},{isLoading:!1,hasLoadingFailed:!0,error:t.payload});case U:return L(L({},e),{},{isLoading:!1,hasLoadingFailed:!1},t.payload);case G:return L(L({},e),{},{isSaving:!0,hasSavingFailed:!1});case q:return L(L({},e),{},{isSaving:!1,hasSavingFailed:!0,error:t.payload});case V:return L(L({},e),{},{isSaving:!1,hasSavingFailed:!1});case B:return L(L({},e),{},{goals:t.payload});default:return e}};var W=n("ue6h"),Y=n.n(W),$=n("PyZ9"),J=n.n($),Q=n("TSYQ"),X=n.n(Q),Z=n("wIJX"),ee=n("pVnL"),te=n.n(ee),ne=n("QILm"),re=n.n(ne);const ie=["compact","title","description","imageLink"],ae=e=>{let{compact:t,title:n,description:r,imageLink:i}=e,a=re()(e,ie);const{checked:s,disabled:c,value:u}=a;return o.a.createElement("label",{htmlFor:"GoalCard-checkbox-"+u,className:X()("GoalCard",{"GoalCard-compact":t,"GoalCard-full":!t,"GoalCard-enable-hover":!c})},o.a.createElement("input",te()({},a,{type:"checkbox",className:"GoalCard-checkbox",id:"GoalCard-checkbox-"+u})),o.a.createElement("div",{className:"GoalCard-content"},o.a.createElement("div",{className:"GoalCard-icon"},s?o.a.createElement("div",{className:"GoalCard-check"},o.a.createElement(Z.a,{name:"checkmark",size:14,fill:"#fff"})):o.a.createElement("span",{className:"circle-outline"})),o.a.createElement("p",{className:"GoalCard-content-title"},n),o.a.createElement("p",{className:"GoalCard-content-description"},r),o.a.createElement("div",{className:"GoalCard-image-container"},o.a.createElement("img",{className:"GoalCard-image",src:i}))))};ae.propTypes={compact:c.a.bool.isRequired,title:c.a.string.isRequired,description:c.a.string.isRequired,imageLink:c.a.string.isRequired};var oe=ae,se=n("UJXj");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const le=({allowedGoals:e,app:t,compact:n,eventTracker:r,goals:i,isSaving:s,onChange:c,onSave:l,hasSaveError:d,showEmbeddedGoals:f})=>{const[h,p]=Object(se.a)({threshold:1}),v=Object(u.useIntl)(),{formatMessage:y}=v;Object(a.useEffect)(()=>{r.trackEvent(g.a.EMBEDDED_GOALS_IMPRESSION)},[r]);const b=Object(a.useCallback)(e=>{e.preventDefault(),l()},[l]),E=Object(a.useCallback)(e=>{const t=ue(ue({},i),{},{[e.target.value]:e.target.checked});c(t)},[c,i]),w=Object(a.useMemo)(()=>s||!Object.keys(i).find(t=>e[t]&&i[t]),[e,i,s]),O=o.a.createElement("span",null,y({id:"GOALS_DIDNT_SAVE"}),o.a.createElement("a",{className:"alert-link",href:"#",onClick:b},y({id:"CLICK_HERE_TO_RETRY"})));return o.a.createElement("form",{className:X()("EmbeddedGoalsView card ux-card u-displayFlex u-width100",{"EmbeddedGoalsView-compact":n,Flyout:t===_.a.FLYOUT}),onSubmit:b},o.a.createElement(m.a,{className:"EmbeddedGoalsView-back-btn",design:"secondary",icon:o.a.createElement(Z.a,{name:"chevron-left",size:24}),onClick:()=>f(!1),text:n?"":"Back "}),d&&o.a.createElement("div",{className:"EmbeddedGoalsView-error-alert"},o.a.createElement(Y.a,{emphasis:"critical",dismissible:!0},y({id:"OOPS"})," ",O)),o.a.createElement("div",{className:"EmbeddedGoalsView-header text-center"},o.a.createElement("h4",null,y({id:"SELECT_GOALS"})),o.a.createElement("span",null,y({id:"SELECT_GOALS_DESCRIPTION"}))),o.a.createElement("div",{className:"EmbeddedGoalsView-goals"},Object.keys(e).filter(t=>e[t]).map(e=>{const t=D[e];return o.a.createElement("div",{key:e,className:"EmbeddedGoalsView-goalContainer"},o.a.createElement(oe,{compact:n,checked:i[e],disabled:s,value:e,onChange:E,title:y({id:t.title}),description:y({id:t.description}),imageLink:t.image}))})),o.a.createElement("div",{className:"EmbeddedGoalsView-buttonWrapper "+(p?"":"EmbeddedGoalsView-buttonWrapper-stuck")},o.a.createElement(m.a,{className:"EmbeddedGoalsView-button",design:"primary",disabled:w,type:"submit",text:s?o.a.createElement("div",{className:"EmbeddedGoalsView-button-save-pending"},o.a.createElement(J.a,{className:"save-goals-spinner",size:"sm",shade:"light"}),y({id:"SAVING_GOALS"})):y({id:"SAVE_AND_CONTINUE"})})),o.a.createElement("div",{className:"sticky-sentinel",ref:h}))};le.propTypes={allowedGoals:c.a.object,app:c.a.string.isRequired,compact:c.a.bool,eventTracker:c.a.object.isRequired,goals:c.a.object.isRequired,isSaving:c.a.bool,onChange:c.a.func.isRequired,onSave:c.a.func.isRequired,hasSaveError:c.a.bool.isRequired,showEmbeddedGoals:c.a.func.isRequired};var de=le;const fe=e=>{const t=Object(a.useMemo)(()=>window.matchMedia(e),[e]),[n,r]=Object(a.useState)(t.matches),i=Object(a.useCallback)(()=>r(t.matches),[t]);return Object(a.useEffect)(()=>(t.addListener(i),()=>t.removeListener(i)),[t,i]),n};fe.propTypes={query:c.a.string.isRequired};var he=fe,pe=n("VW8Q");const me=({accountId:e,app:t,eventTracker:n,websiteId:r,showEmbeddedGoals:i})=>{const[s,c]=(({accountId:e,appLocation:t,eventTracker:n,websiteId:r,showEmbeddedGoals:i})=>{const[o,s]=Object(a.useReducer)(K,H),c=Object(a.useRef)(),u=Object(a.useCallback)(async()=>{try{const{allowedGoals:t,goals:n,isAutoOnboarding:i}=await z({accountId:e,websiteId:r});c.current=n,s({type:U,payload:{allowedGoals:t,goals:n,isAutoOnboarding:i}}),i&&s({type:G})}catch(e){s({type:F,payload:e})}},[e,r]),l=Object(a.useCallback)(async()=>{try{await Promise.all([k({accountId:e},o.goals),!E()(c.current,o.goals)&&O({accountId:e,appLocation:t})]),n.trackEvent(g.a.SAVE_GOALS_SUCCESS),s({type:V}),i(!1)}catch(e){n.trackEvent(g.a.SAVE_GOALS_FAILURE),s({type:q,payload:e})}},[e,t,o.goals,n,i]);return Object(a.useEffect)(()=>{o.isLoading&&u()},[u,o.isLoading]),Object(a.useEffect)(()=>{o.isSaving&&l()},[l,o.isSaving]),[o,s]})({accountId:e,appLocation:t,eventTracker:n,websiteId:r,showEmbeddedGoals:i}),u=he("(max-width: 1200px)"),l=t===_.a.FLYOUT||u,d=Object(a.useMemo)(()=>{var e;return{source:"EmbeddedGoals",message:null===(e=s.error)||void 0===e?void 0:e.message}},[s.error]),f=Object(a.useCallback)(e=>{n.trackEvent(g.a.GOAL_CLICK),c({type:B,payload:e})},[c,n]),p=Object(a.useCallback)(()=>{const e=Object.keys(s.goals).filter(e=>s.goals[e]).map(e=>D[e].name);n.trackEvent(g.a.SAVE_GOALS,{"Saved Goals":e}),c({type:G})},[c,n,s.goals]),m=Object(a.useCallback)(()=>{const e=s.hasLoadingFailed?P:G;c({type:e})},[c,s.hasLoadingFailed]);return s.isLoading||s.isAutoOnboarding&&s.isSaving?o.a.createElement(h.a,{color:pe.b.light}):s.hasLoadingFailed||s.isAutoOnboarding&&s.hasSavingFailed?o.a.createElement(y,{eventTracker:n,retryFunc:m,trackingProps:d}):o.a.createElement(de,{allowedGoals:s.allowedGoals,app:t,compact:l,eventTracker:n,goals:s.goals,onChange:f,onSave:p,isSaving:s.isSaving,hasSaveError:s.hasSavingFailed,showEmbeddedGoals:i})};me.propTypes={accountId:c.a.string.isRequired,app:c.a.string.isRequired,eventTracker:c.a.object.isRequired,websiteId:c.a.string.isRequired,showEmbeddedGoals:c.a.func.isRequired};var ge=me,ve=n("68F3");const ye=({classes:e,linkText:t,showEmbeddedGoals:n,eventTracker:r})=>{const i=Object(a.useCallback)(()=>{r.trackEvent(g.a.EDIT_GOALS,{"Click Type":["Open"]}),n(!0)},[r,n]);return o.a.createElement("span",{className:"u-link "+e,onClick:i},t)};ye.propTypes={classes:c.a.string,linkText:c.a.string.isRequired,showEmbeddedGoals:c.a.func,eventTracker:c.a.object,accountId:c.a.string.isRequired};var be=ye;const Ee=({dismissTaskAction:e,intl:{formatMessage:t},primaryCTAAction:n,cardImpressionAction:r,recommendation:i,theme:s})=>{const[c,u]=Object(se.a)({triggerOnce:!0,threshold:.5}),[l,d]=Object(a.useState)(!0);Object(a.useEffect)(()=>{u&&r(i.id)},[u,r,i.id]),Object(a.useEffect)(()=>{d(!0);document.getElementById("TopTaskCard").scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(()=>d(!1),0)},[i]);const{isCompleted:f,description:h,cta:p,title:g,id:v,metadataId:y}=i,b=Object(a.useCallback)(()=>{n(v,y)},[v,y,n]),E=Object(a.useCallback)(()=>{e(v,y)},[v,y,e]);return o.a.createElement("div",{"data-aid":v,className:"TopTaskCard",id:"TopTaskCard",ref:c,style:{backgroundColor:s.light,color:s.dark}},o.a.createElement("div",{className:X()("TopTaskCard-items",{"fade-content":l})},o.a.createElement("div",{className:"TopTaskCard-content"},o.a.createElement("h1",{className:"TopTaskCard-title",style:{color:s.dark}},g),null==h?null:o.a.createElement("div",{className:"TopTaskCard-description"},h)),o.a.createElement("div",{className:"TopTaskCard-buttons"},o.a.createElement(m.a,{className:"TopTaskCard-button",design:"primary",onClick:b,text:p.text}),f?null:o.a.createElement(m.a,{className:"TopTaskCard-button",design:"inline",onClick:E,text:t({id:"NOT_NOW"})}))))};Ee.propTypes={dismissTaskAction:c.a.func.isRequired,intl:c.a.object.isRequired,primaryCTAAction:c.a.func.isRequired,cardImpressionAction:c.a.func.isRequired,recommendation:c.a.object.isRequired,theme:c.a.object.isRequired};var we=Object(u.injectIntl)(Ee);const Oe=({recommendation:{id:e,title:t},setTopTaskAction:n,isTopTask:r})=>{const i=Object(a.useCallback)(()=>{n(e)},[e,n]);return o.a.createElement("button",{"data-aid":e,className:X()("UpNextCard",{"UpNextCard-top-task":r}),onClick:i},o.a.createElement("span",{className:"UpNextCard-checkmark"}),o.a.createElement("span",{className:"UpNextCard-title"},t))};Oe.propTypes={recommendation:c.a.object.isRequired,setTopTaskAction:c.a.func.isRequired,isTopTask:c.a.bool.isRequired};var Se=Oe,_e=n("bdgK");const ke=e=>{const t=Object(a.useRef)(null),n=Object(a.useMemo)(()=>Object.entries(e).map(([e,t])=>[parseInt(e,10),t]).sort(([e],[t])=>t-e),[e]),r=Object(a.useCallback)(([e])=>{const r=((e,t)=>{const n=t.find(([t])=>e>=t);return null!=n?n[1]:null})(null!=e.contentBoxSize&&e.contentBoxSize.length>0?e.contentBoxSize[0].inlineSize:e.contentRect.width,n);r!==t.current&&(null!=t.current&&e.target.classList.remove(t.current),null!=r&&e.target.classList.add(r),t.current=r)},[t,n]),i=Object(a.useMemo)(()=>new _e.a(r),[r]);return Object(a.useCallback)(e=>{i.disconnect(),null!==e&&i.observe(e)},[i])},Te={0:"TopTaskView-mobile",600:"TopTaskView-tablet",917:"TopTaskView-desktop",1118:"TopTaskView-xl"},Ce=({actionPlanMap:e,cardImpressionAction:t,dismissTaskAction:n,eventTracker:r,intl:i,isEditGoalsDisabled:s,primaryCTAAction:c,recommendations:l,selectedActionPlanId:d,selectNextPlanAction:f,showEmbeddedGoals:h,setTopTaskAction:p,topTaskId:v})=>{const{formatMessage:y}=i,b=Object(a.useRef)(),E=Object(a.useCallback)(()=>{r.trackEvent(g.a.START_NEXT_PLAN_CLICK),f({actionPlanMap:e,recommendations:l}),b.current&&b.current.scrollTo({behavior:"smooth",left:0,top:0})},[f,e,l,r]),w=e.get(d),O=(w?w.recommendationIds.map(e=>l[e]):[]).filter(e=>!e.isDismissed);0===O.length&&f(e,l);const S=l[v],_=ke(Te);return o.a.createElement("div",{ref:_},o.a.createElement("div",{className:"TopTaskView"},o.a.createElement("div",{className:"TopTaskView-title"},o.a.createElement(u.FormattedMessage,{id:"SUGGESTED_NEXT_STEP_FULL",values:{b:e=>o.a.createElement("span",null,e),goto:e=>s?y({id:"YOUR_GOALS"}):o.a.createElement(be,{classes:"TopTaskView-edit-goals",linkText:e,showEmbeddedGoals:h,eventTracker:r})}})),o.a.createElement("div",{className:"TopTaskView-top-card"},S?o.a.createElement(we,{dismissTaskAction:n,primaryCTAAction:c,cardImpressionAction:t,theme:pe.d,recommendation:S}):null),o.a.createElement("div",{className:"TopTaskView-next-title"},y({id:"OTHER_SUGGESTIONS"})),o.a.createElement("div",{ref:b,className:"TopTaskView-next-list"},O.map(e=>o.a.createElement(Se,{key:e.id,cardImpressionAction:t,recommendation:e,setTopTaskAction:p,isTopTask:e.id===(null==S?void 0:S.id)})),o.a.createElement(m.a,{className:"TopTaskView-next-list-button",design:"inline",onClick:E,text:y({id:"VIEW_NEXT_SET_OF_TASKS"})}))))};Ce.propTypes={actionPlanMap:c.a.object.isRequired,cardImpressionAction:c.a.func.isRequired,dismissTaskAction:c.a.func.isRequired,eventTracker:c.a.object.isRequired,intl:c.a.object.isRequired,isEditGoalsDisabled:c.a.bool.isRequired,primaryCTAAction:c.a.func.isRequired,recommendations:c.a.object.isRequired,selectedActionPlanId:c.a.string.isRequired,selectNextPlanAction:c.a.func.isRequired,showEmbeddedGoals:c.a.func.isRequired,trackingProps:c.a.object.isRequired,setTopTaskAction:c.a.func.isRequired,topTaskId:c.a.string.isRequired};var Ae=Object(u.injectIntl)(Ce);const Ne=({accountId:e,ventureId:t,appLocation:n,eventTracker:r,featureFlags:i,hideEditGoals:s,showEmbeddedGoals:c,onCtaClick:u})=>{const{state:l,primaryCTAAction:d,dismissTaskAction:f,selectNextPlanAction:p,retryLoadActionPlanAction:m,cardImpressionAction:g,setTopTaskAction:v}=Object(ve.a)({accountId:e,ventureId:t,appLocation:n,eventTracker:r,featureFlags:i,onCtaClick:u}),{selectedActionPlanId:b,actionPlansComplete:E,actionPlanMap:w,error:O,recommendations:S,isLoading:_,hasLoadingFailed:k,topTaskId:T}=l,C=Object(a.useMemo)(()=>({message:null==O?void 0:O.message,source:"TopTaskContainer"}),[O]);if(_)return o.a.createElement("div",{className:"TopTaskContainer-loadingView"},o.a.createElement(h.a,{color:pe.b.light}));if(k)return o.a.createElement(y,{eventTracker:r,retryFunc:m,trackingProps:C});if(E)return null;const{entitlements:{current:A={}}={}}=l;return o.a.createElement(Ae,{actionPlanMap:w,cardImpressionAction:g,dismissTaskAction:f,eventTracker:r,isEditGoalsDisabled:!A["insight.goals"]||s,primaryCTAAction:d,recommendations:S,selectedActionPlanId:b,selectNextPlanAction:p,showEmbeddedGoals:c,setTopTaskAction:v,topTaskId:T})};Ne.propTypes={accountId:c.a.string.isRequired,ventureId:c.a.string,appLocation:c.a.string.isRequired,eventTracker:c.a.object.isRequired,featureFlags:c.a.object.isRequired,hideEditGoals:c.a.bool,isReseller:c.a.bool.isRequired,intl:c.a.object.isRequired,onCtaClick:c.a.func,showEmbeddedGoals:c.a.func.isRequired};var Ie=Ne,je=n("4XgE"),De=n("bOux");const xe=["headers"];function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=async(e={})=>{const{headers:t={}}=e,n=re()(e,xe),r=_.j+"/config/insight",i=Me(Me({},n),{},{trackingProps:{api:"getAppConfig"},method:"GET",headers:t,credentials:"include"}),a=await Object(De.a)(r,i);return await a.json()},Pe=n("URYl"),Fe=n.n(Pe),Ue=n("t35r"),Ge=n("oHc+"),qe=async()=>new Promise((e,t)=>{window._expDataLayer=window._expDataLayer||[],window._expDataLayer.push({schema:"get_tracking_values",version:"v1",data:{callback:n=>{n.vtg?e(n):t(n)}}})}).then(async({vtg:e})=>{const t=e,n=Object(Ue.a)(),r=null!=n&&3===n.length,i=new Fe.a({app:"action-plan",usePreload:!1,splitioOptions:{core:{authorizationKey:_.i}},subject:{[Pe.hivemindConstants.idTypes.SHOPPER_ID]:n,[Pe.hivemindConstants.idTypes.VISITOR_GUID]:t}});await i.ready;const a=Object(Ge.a)();return await i.getCohorts({subject:{[Pe.hivemindConstants.idTypes.SHOPPER_ID]:n,[Pe.hivemindConstants.idTypes.VISITOR_GUID]:t},labels:["gd-insight"],attributes:{market:a,shopperId:n,tla:r},visitorGuid:t})}).catch(async e=>e);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const He="FETCH_INIT",ze="FETCH_SUCCESS",Ke="FETCH_FAILURE",We=(e,t)=>{switch(t.type){case He:return Be(Be({},e),{},{isLoading:!0,isError:!1});case ze:return Be(Be({},e),{},{isLoading:!1,isError:!1,data:t.payload});case Ke:return Be(Be({},e),{},{isLoading:!1,isError:!0,error:t.payload});default:return e}},Ye=e=>{const[{isLoading:t,isError:n,data:r,error:i},o]=Object(a.useReducer)(We,{isLoading:!0,isError:!1,data:{}}),s=Object(a.useCallback)(async()=>{o({type:He});try{const t=await(async e=>{const[{featureFlags:t={}},n,r]=await Promise.all([Le(),qe(),C(e)]);return{hivemindExperiments:n,featureFlags:t,websiteDetails:r}})(e);o({type:ze,payload:t})}catch(e){console.log("WARN: Insight failed to fetch"),o({type:Ke,payload:e})}},[e]);return Object(a.useEffect)(()=>{s()},[s]),{data:r,error:i,isError:n,isLoading:t,retry:s}};var $e=n("1IoZ"),Je=n.n($e);const Qe={INSIGHT_DISCOVER_GRAYED_UX:"INSIGHT_DISCOVER_GRAYED_UX"},Xe=o.a.createContext({}),Ze=(Xe.Consumer,({children:e,hivemindExperiments:t,featureFlags:n,eventTracker:r})=>{const i=Object(a.useMemo)(()=>Je()(Qe,e=>(({hivemindExperiments:{cohorts:e={}}={},experimentId:t,featureFlags:{insightExperiments:n={}}={}})=>{var r,i;const a=n[t];if(!a)return!1;const o=null==a||null===(r=a.cohorts)||void 0===r?void 0:r.TREATMENT;return(null==e||null===(i=e[a.id])||void 0===i?void 0:i.cohortId)===o})({hivemindExperiments:t,experimentId:e,featureFlags:n})),[n,t]);return Object(a.useEffect)(()=>{Object.keys(Qe).forEach(e=>{var i,a;const o=null===(i=n.insightExperiments[e])||void 0===i?void 0:i.id,s=t.cohorts,c=s?null===(a=s[o])||void 0===a?void 0:a.cohortId:null;o&&c&&r.trackEvent(g.a.INSIGHT_EXPERIMENT,{experiment:o,cohort:c})})},[n,t,r]),o.a.createElement(Xe.Provider,{value:i},e)});Ze.propTypes={children:c.a.node,hivemindExperiments:c.a.object.isRequired,eventTracker:c.a.object.isRequired,featureFlags:c.a.object.isRequired};var et=n("/dV3");function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const rt=e=>{const{app:t="",appLocation:n,websitePlanType:r}=e;return{shopperId:Object(Ue.a)(),"App Location":n,"Insight Application":t,websitePlanType:r}};var it=class{constructor(e){const t=Object(et.a)(e);this.eventSuperProps=rt(e),this.trackEvent=(e,n={},r={})=>{r&&t.addMixpanelUserProperties(r),e&&t.track(e,nt(nt({},this.eventSuperProps),n))},this.addMixpanelUserProperties=e=>{t.addMixpanelUserProperties(e)},this.addSuperProps=e=>{this.eventSuperProps=nt(nt({},this.eventSuperProps),rt(e))}}};const at={},ot=e=>{const{app:t}=e;if(!t)throw new Error("Insight Event Tracker has to have parent app");let n=at[t];if(n)n.addSuperProps(e);else{if(!e)throw new Error("Insight Event Tracker hasn't been initialised");n=new it(e),at[t]=n}return n};var st=ot,ct=n("Ab2p");const ut=new Map,lt=async e=>(ut.has(e)||ut.set(e,n("/39o")(`./${e}.json`).then(t=>(ut.set(e,t.default),t.default))),ut.get(e)),dt=Object(Ge.a)();let ft,ht=null;const pt=()=>{const[e,t]=Object(a.useState)(ht);return Object(a.useEffect)(()=>{e||(ft=ft||(async e=>{const t=await Promise.all([lt("en-US"),"en-US"!==e?lt(e).catch(()=>{const t=e.split("-")[0];return"en"!==t?lt(t).catch(()=>({})):{}}):{}]);return Object.assign({},...t)})(dt),ft.then(e=>{t(e),ht=e}))},[e]),{messages:e,locale:dt}};var mt=({featureFlags:e={},websiteDetails:t={}})=>{const{dashboard:{rollout:{piq:{showIntroModal:n}={}}={}}={}}=e,{data:{customerIntentions:r={}}={}}=t;return n&&!Object.keys(r).length};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const yt=e=>{const{accountId:t,analytics:{config:{mixpanelDebugToken:n,mixpanelToken:r}={},websitePlanType:i},app:s,appLocation:c,hideEditGoals:u,isReseller:l,onClose:d,onCtaClick:p,websiteId:m,ventureId:g}=e,{data:v,data:{hivemindExperiments:b={},featureFlags:E={}},error:w,isLoading:O,isError:S,retry:k}=Ye(m),T=Object(a.useMemo)(()=>({message:null==w?void 0:w.message}),[w]),C=Object(a.useMemo)(()=>st({accountId:t,app:s,appLocation:c,config:{mixpanelDebugToken:n,mixpanelToken:r},websiteId:m,websitePlanType:i}),[t,s,c,n,r,m,i]);if(Object(a.useEffect)(()=>{Object(ct.a)(C)},[C]),O)return o.a.createElement(h.a,{color:s===_.a.DASHBOARD?pe.b.light:null});if(S)return o.a.createElement(y,{eventTracker:C,retryFunc:k,trackingProps:vt(vt({},T),{},{source:"InsightRoot if(isError)"})});const A={initializeIntoEmbeddedGoals:mt(v),featureFlags:E,eventTracker:C,accountId:t,app:s,appLocation:c,hideEditGoals:u,isReseller:l,onClose:d,onCtaClick:p,websiteId:m,ventureId:g};return o.a.createElement("div",{className:"fs-unmask"},o.a.createElement(f,{renderFallback:e=>o.a.createElement(y,{eventTracker:C,retryFunc:e,trackingProps:vt(vt({},T),{},{source:"InsightRoot Error Boundary"})})},o.a.createElement(Ze,{hivemindExperiments:b,featureFlags:E,eventTracker:C},o.a.createElement(Et,A))))};yt.propTypes={accountId:c.a.string.isRequired,hideEditGoals:c.a.boolean,isReseller:c.a.bool.isRequired,app:c.a.string,onClose:c.a.func,onCtaClick:c.a.func,websiteId:c.a.string.isRequired,analytics:c.a.object,appLocation:c.a.string,ventureId:c.a.string};const bt=e=>{const{messages:t,locale:n}=pt(),[r,i]=Object(se.a)({triggerOnce:!0,threshold:.5});return t?o.a.createElement(u.IntlProvider,{locale:n,messages:t},o.a.createElement("div",{ref:r},i&&o.a.createElement(yt,e))):o.a.createElement(h.a,{color:e.app===_.a.DASHBOARD?pe.b.light:null})};bt.propTypes={accountId:c.a.string.isRequired,hideEditGoals:c.a.boolean,isReseller:c.a.bool.isRequired,app:c.a.string,onClose:c.a.func,onCtaClick:c.a.func,websiteId:c.a.string.isRequired,analytics:c.a.object,appLocation:c.a.string};const Et=({initializeIntoEmbeddedGoals:e,featureFlags:t,eventTracker:n,accountId:r,app:i,appLocation:s,hideEditGoals:c,isReseller:u,onClose:l,onCtaClick:d,websiteId:f,ventureId:h})=>{const[p,m]=Object(a.useState)(e);return p?o.a.createElement(ge,{accountId:r,app:i,eventTracker:n,websiteId:f,showEmbeddedGoals:m}):o.a.createElement(a.Fragment,null,i===_.a.DASHBOARD?o.a.createElement(Ie,{accountId:r,ventureId:h,appLocation:s,eventTracker:n,featureFlags:t,hideEditGoals:c,onCtaClick:d,showEmbeddedGoals:m}):o.a.createElement(je.a,{accountId:r,appLocation:s,eventTracker:n,isReseller:u,featureFlags:t,onClose:l}))};Et.propTypes={accountId:c.a.string.isRequired,isReseller:c.a.bool.isRequired,app:c.a.string,featureFlags:c.a.object,eventTracker:c.a.object,hideEditGoals:c.a.boolean,onClose:c.a.func,onCtaClick:c.a.func,websiteId:c.a.string.isRequired,appLocation:c.a.string,initializeIntoEmbeddedGoals:c.a.bool.isRequired,ventureId:c.a.string};var wt=bt;const Ot=({entitlements:e={}})=>e.presenceIQ,St=()=>o.a.createElement("div",{className:"DiscoverLoadingTile"},o.a.createElement("div",{className:"DiscoverLoadingTile-checkbox Skeleton__animated-bg"}),o.a.createElement("div",{className:"DiscoverLoadingTile-image Skeleton__animated-bg"}),o.a.createElement("div",{className:"DiscoverLoadingTile-title Skeleton__animated-bg"}),o.a.createElement("div",{className:"DiscoverLoadingTile-description Skeleton__animated-bg"}),o.a.createElement("div",{className:"DiscoverLoadingTile-cta Skeleton__animated-bg"})),_t=()=>o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"DisoverLoadingTiles-title Skeleton__animated-bg"}),o.a.createElement("section",{className:"DiscoverLoadingTiles-wrapper"},o.a.createElement(St,null),o.a.createElement(St,null),o.a.createElement(St,null)));const kt=o.a.createContext(()=>{}),Tt=({spaConfig:e,children:t})=>{const n=null==e?void 0:e.basename,r=null==e?void 0:e.navigate,i=Object(a.useCallback)(e=>{const{target:t,href:i}=e.currentTarget;if(!(e.defaultPrevented||0!==e.button||t&&"_self"!==t||(a=e,a.metaKey||a.altKey||a.ctrlKey||a.shiftKey))){var a;if(null!=r){let t=new URL(n||"/",window.location.origin).toString();if(t.endsWith("/")&&(t=t.substring(0,t.length-1)),i.startsWith(t)){let n=i.substring(t.length);return n.startsWith("/")||(n="/"+n),e.preventDefault(),r(n)}}e.preventDefault(),setTimeout(()=>{window.location.href=i},75)}},[r,n]);return o.a.createElement(kt.Provider,{value:i},t)},Ct=()=>Object(a.useContext)(kt);var At=n("6h/i");function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const jt=o.a.createContext(null),Dt=({appLocation:e,children:t,domain:n,rootEid:r})=>{const i=`${r.area}.${r.product}.${r.section}`,s=Object(a.useCallback)(({eid:t,properties:r={}})=>At.d({eid:`${i}.${t}`,properties:It(It({},r),{},{appLocation:e},n&&{domainName:n.name,domainId:n.id})}),[e,n,i]),c=Object(a.useCallback)(({eid:t,properties:r})=>{At.c({eid:`${i}.${t}`,properties:It(It({},r),{},{appLocation:e},n&&{domainName:n.name,domainId:n.id})})},[i,n,e]),u=Object(a.useCallback)(({eid:t,properties:r})=>{At.d({eid:`${i}.${t}`,properties:It(It({},r),{},{appLocation:e},n&&{domainName:n.name,domainId:n.id})})},[i,n,e]),l=Object(a.useCallback)(({eid:t,properties:r={}})=>At.a({eid:`${i}.${t}`,properties:It(It({},r),{},{appLocation:e},n&&{domainName:n.name,domainId:n.id})}),[e,n,i]),d=Object(a.useMemo)(()=>({trackImpression:s,trackClick:c,trackEvent:u,getClickTrackingProps:l}),[s,c,u,l]);return o.a.createElement(jt.Provider,{value:d},t)},xt=()=>{const e=Object(a.useContext)(jt);if(null==e)throw new Error("useAnalyticsTracker requires an AnalyticsTrackerProvider");return e},Rt=(e,t)=>{const n=xt(),[r,i]=Object(se.a)({triggerOnce:!0,threshold:.5}),o=Object(a.useMemo)(e,t);return Object(a.useEffect)(()=>{i&&n.trackImpression(o)},[i,n,o]),r},Mt=(e,t)=>{const n=xt(),r=Object(a.useMemo)(e,t);return n.getClickTrackingProps(r)},Lt=({recommendation:e})=>{const[t,n]=Object(a.useState)(""),{title:r,cta:i,isCompleted:s,id:c,image:{src:u,alt:l}={}}=e,d=i.allCtas,f=Rt(()=>({eid:"recommendation.impression",properties:{cardId:c,cardStyle:"list_item"}}),[c]),h=i.url&&i.url.trim().length>0,{trackClick:p}=xt(),g=Ct(),v=X()("DiscoverTileAnimated",{"DiscoverTileAnimated-hover-enabled":h});return o.a.createElement("div",{"data-aid":c,className:`${v} ${t}`,ref:f},o.a.createElement("div",{className:"DiscoverTileAnimated-front",onClick:()=>{p({eid:"cta.click",properties:{cardId:c,cardStyle:"list_item"}}),n("sideA"===t||""===t?"sideB":"sideA")}},o.a.createElement("div",{className:"DiscoverTileAnimated-checkbox "+(s?"completed":"")},s&&o.a.createElement(Z.a,{name:"checkmark",size:25,fill:"#FFFFFF"})),o.a.createElement("div",{className:"DiscoverTileAnimated-image-container"},o.a.createElement("img",{className:"DiscoverTileAnimated-image",src:u,alt:l})),o.a.createElement("p",{className:"DiscoverTileAnimated-title "+(s?"completed":"")},r),!s&&o.a.createElement("div",{className:"DiscoverTileAnimated-link"},i.text,i.text&&o.a.createElement(Z.a,{name:"chevron-right",size:16,fill:"#09757A"}))),o.a.createElement("div",{className:"DiscoverTileAnimated-back"},o.a.createElement("div",{className:"DiscoverTileAnimated-close",onClick:()=>{p({eid:"back_cta.click",properties:{cardId:c,cardStyle:"list_item",ctaType:"close"}}),"sideB"===t&&n("sideA")}},o.a.createElement(Z.a,{className:"DiscoverTileAnimated-close-icon",name:"x",fill:"#111111"})),o.a.createElement("div",{className:"DiscoverTileAnimated-ctas"},null==d?void 0:d.map(e=>o.a.createElement(m.a,{"data-aid":c,key:e.ctaType,className:"DiscoverTileAnimated-cta-button",design:"secondary",href:e.value,text:e.text,onClick:t=>((e,t)=>{p({eid:"back_cta.click",properties:{cardId:c,cardStyle:"list_item",ctaType:t}}),g(e)})(t,e.ctaType)})))))},Pt=({recommendation:e})=>{const{title:t,cta:n,id:r,image:{src:i,alt:s}={}}=e,c=Rt(()=>({eid:"recommendation.impression",properties:{cardId:r,cardStyle:"list_item"}}),[r]),u=n.url&&n.url.trim().length>0,{trackClick:l}=xt(),d=Ct(),f=Object(a.useCallback)(e=>{l({eid:"cta.click",properties:{cardId:r,cardStyle:"list_item"}}),d(e)},[l,d,r]);return o.a.createElement("a",{"data-aid":r,className:"DiscoverOnboardingTile",href:u?n.url:"#",ref:c,onClick:f},o.a.createElement("div",{className:"DiscoverOnboardingTile-image-container"},o.a.createElement("img",{className:"DiscoverOnboardingTile-image",src:i,alt:s})),o.a.createElement("p",{className:"DiscoverOnboardingTile-title",dangerouslySetInnerHTML:{__html:t}}))};var Ft=n("4dC9");function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=async e=>{const{response:t}=e,{url:n,status:r}=t,i=t.headers.get("Content-Type"),a=t.headers.get("Content-Length");let o,s,c="",u=a?parseInt(a,10):0;if(i&&i.includes("application/json")){o=await t.json();const{message:e,error:n,errors:r,messages:i}=o;s=!(null==t?void 0:t.ok)&&(e||n||r||i).toString(),u||(u=JSON.stringify(o).length)}else o=await t.arrayBuffer(),u||(u=o.byteLength);return(null==t?void 0:t.ok)||(c=s||t.statusText||"Unknown Fetch Error"),Gt(Gt({},e),{},{message:c,responseData:o,size:u,status:r,url:n})};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Ht;!function(e){e.INSIGHT_DISCOVER_TERTIARY_DESCRIPTIONS="INSIGHT_DISCOVER_TERTIARY_DESCRIPTIONS",e.INSIGHT_DISCOVER_MORE_SECONDARY="INSIGHT_DISCOVER_MORE_SECONDARY",e.INSIGHT_DISCOVER_TILE_FLIP="INSIGHT_DISCOVER_TILE_FLIP",e.INSIGHT_DISCOVER_GRAYED_UX="INSIGHT_DISCOVER_GRAYED_UX",e.INISGHT_DISCOVER_ONBOARDING="INISGHT_DISCOVER_ONBOARDING"}(Ht||(Ht={}));const zt=Object(a.createContext)(null),Kt=()=>{const e=Object(a.useContext)(zt);if(null==e)throw new Error("useFeatureFlagContext must be used within a FeatureFlagProvider");return e},Wt=({children:e,featureFlags:t})=>o.a.createElement(zt.Provider,{value:t},e),Yt=(e,t,n)=>{const r=t[n];if(!r)return["",!1];const i=r.cohorts.TREATMENT,a=e.cohorts[r.id];return[a,a===i]},$t=Object(a.createContext)(null),Jt=({children:e,hivemindExperiments:t})=>{const n=Kt(),r={cohorts:Object(a.useMemo)(()=>Je()(Ht,e=>Yt(t,n.insightExperiments,e)[0]),[n.insightExperiments,t]),experiments:Object(a.useMemo)(()=>Je()(Ht,e=>Yt(t,n.insightExperiments,e)[1]),[n.insightExperiments,t])};return o.a.createElement($t.Provider,{value:r},e)},Qt=()=>{const e=Object(a.useContext)($t);if(null==e)throw new Error("useExperiment must be used within a ExperimentProvider");return e.experiments},Xt=({recommendation:e})=>{const{title:t,cta:n,isCompleted:r,id:i,image:{src:s,alt:c}={}}=e,u=Rt(()=>({eid:"recommendation.impression",properties:{cardId:i,cardStyle:"list_item"}}),[i]),l=n.url&&n.url.trim().length>0,d=Qt(),{trackClick:f}=xt(),h=Ct(),p=Object(a.useCallback)(e=>{f({eid:"cta.click",properties:{cardId:i,cardStyle:"list_item"}}),h(e)},[f,h,i]),m=r&&d.INSIGHT_DISCOVER_GRAYED_UX,g=X()("DiscoverTile",m?{"DiscoverTile-grayed":d.INSIGHT_DISCOVER_GRAYED_UX}:{"DiscoverTile-hover-enabled":l});return o.a.createElement("a",{"data-aid":i,className:g,href:l?n.url:"#",ref:u,onClick:p},o.a.createElement("div",{className:"DiscoverTile-checkbox "+(r?"completed":"")},r&&o.a.createElement(Z.a,{name:"checkmark",size:25,fill:"#FFFFFF"})),o.a.createElement("div",{className:"DiscoverTile-image-container"},o.a.createElement("img",{className:"DiscoverTile-image",src:s,alt:c})),o.a.createElement("p",{className:"DiscoverTile-title "+(r?"completed":"")},t),o.a.createElement("div",{"data-aid":i,className:"DiscoverTile-link"},n.text,n.text&&o.a.createElement(Z.a,{name:"chevron-right",size:16,fill:"#09757A"})))};var Zt=n("uaG2"),en=n.n(Zt),tn=n("ZqfD");function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const an=async({accountId:e,apiName:t,app:n,domain:r,entities:i,product:a,radset:o,signal:s,ventureId:c})=>{const u=new URL(`${_.c}/v4/cards/${o}`),l=e||c?Object(w.b)({accountId:e,entities:i,product:a,ventureId:c}):i.join(",");u.searchParams.append("entities",l);const f=await sn({apiName:t,app:n,url:u,requestArgs:{credentials:"include",headers:new Headers({"Accept-Encoding":"gzip"}),signal:s}}),h=f.responseData,{complete:p,plInfo:m={},shopperWarnings:g=[],warnings:v=[]}=h;g.forEach(({code:e,message:t,type:n})=>{d.a.trackPerfEvent({event:"rad_shopper_warning",code:e,message:t,type:n})}),v.forEach(e=>{d.a.trackPerfEvent({event:"rad_warning",message:e})});const y=Object(Ge.a)(),b=p,{result:E}=Object(tn.renderAllCards)(b,{noCopy:!0,locale:y,customDataFields:e=>rn(rn({},e),{},{baseUrl:m.rootDomain,plInfo:m,returnUrl:encodeURIComponent(window.location.href)},r&&{compound:rn(rn({},e.compound),{},{primaryDomain:r.name,primaryDomainId:r.id})})});return{formattedRads:E,metadata:f}},on=({metadataToUpdate:e})=>{const t=_.c+"/me/card-metadata",n=JSON.stringify(e.map(e=>rn({action:"patch"},e))),r=new Blob([n],{type:"application/json; charset=UTF-8"});navigator.sendBeacon(t,r)},sn=async({apiName:e,app:t,url:n,requestArgs:r})=>{const{vg:i,vtg:a}=await Object(At.b)();n.searchParams.append("useCardMetadata","true"),n.searchParams.append("visitorType","radcaller"),n.searchParams.append("visitorId",a),n.searchParams.append("visitId",i),n.searchParams.append("appName",t);const o=new Request(n.toString(),r);let s;try{s=await fetch(o)}catch(r){throw new Ft.a({apiName:e,app:t,message:r.message,response:r.response,stackTrace:r.stack,status:r.status,url:n.toString(),size:0})}const c=await qt({apiName:e,app:t,response:s});if(!s.ok)throw new Ft.a(c);return c},cn=({recommendation:e,recommendationType:t})=>{const{cta:n,description:r,id:i,image:s,metadataId:c,title:l,tooltipMessageId:d}=e,f=Rt(()=>({eid:"recommendation.impression",properties:{cardId:i,cardStyle:t}}),[i]),{trackClick:h,getClickTrackingProps:p}=xt(),g=Ct(),v=Object(a.useCallback)(e=>{const n=[{cardId:c,data:{clicked:new Date}}];on({metadataToUpdate:n}),h({eid:"cta.click",properties:{cardId:i,cardStyle:t}}),g(e)},[i,c,g,t,h]);return o.a.createElement("div",{"data-aid":i,className:"VentureRecommendationCard "+t},o.a.createElement("div",{className:"VentureRecommendationCard-content"},o.a.createElement("h1",{className:"VentureRecommendationCard-title"},l),r&&o.a.createElement("p",{className:"VentureRecommendationCard-description"},r,d&&o.a.createElement(en.a,te()({id:"tooltip-anchor-"+i,openOnHover:!0,autoHideTimeout:5e3,text:o.a.createElement("span",{className:"text-default"},o.a.createElement(Z.a,{name:"alert",size:18})),message:o.a.createElement(u.FormattedMessage,{id:d})},p({eid:"tooltip.click",properties:{cardId:i,cardStyle:t}})))),o.a.createElement("span",{ref:f},o.a.createElement(m.a,{"data-aid":i,className:"VentureRecommendationCard-button",design:"primary",href:n.url,text:n.text,onClick:v}))),o.a.createElement("img",{className:"VentureRecommendationCard-image",src:null==s?void 0:s.src,alt:null==s?void 0:s.alt}))},un=({recommendation:e})=>{const{title:t,description:n,cta:r,id:i,icon:{src:s,alt:c}={},tooltipMessageId:l}=e,d=Qt(),f=Rt(()=>({eid:"recommendation.impression",properties:{cardId:i,cardStyle:"tertiary"}}),[i]),{trackClick:h,getClickTrackingProps:p}=xt(),m=Ct(),g=Object(a.useCallback)(e=>{h({eid:"cta.click",properties:{cardId:i,cardStyle:"tertiary"}}),m(e)},[h,m,i]);return o.a.createElement("a",{"data-aid":i,className:"TertiaryDiscoverCard",href:r.url,ref:f,onClick:g},o.a.createElement("img",{className:"TertiaryDiscoverCard-image",src:s,alt:c}),o.a.createElement("div",{className:"TertiaryDiscoverCard-text"},o.a.createElement("div",{className:"TertiaryDiscoverCard-title"},t,l&&o.a.createElement(en.a,te()({id:"swap-icon",openOnHover:!0,autoHideTimeout:5e3,text:o.a.createElement("span",{className:"text-default"},o.a.createElement(Z.a,{name:"alert",size:18})),message:o.a.createElement(u.FormattedMessage,{id:l})},p({eid:"tooltip.click",properties:{cardId:i,cardStyle:"tertiary"}})))),d.INSIGHT_DISCOVER_TERTIARY_DESCRIPTIONS&&o.a.createElement("div",{className:"TertiaryDiscoverCard-description"},n)),o.a.createElement("div",{"data-aid":i,className:"TertiaryDiscoverCard-link"},r.text,o.a.createElement(Z.a,{name:"chevron-right",size:10})))},ln=({className:e="",onRetry:t})=>{const n=Object(u.useIntl)(),{formatMessage:r}=n,i=Rt(()=>({eid:"error_page.impression"}),[]),a=Mt(()=>({eid:"error_page_retry.click"}),[]);return o.a.createElement("div",{className:"VentureRecommendationsError "+e,ref:i},o.a.createElement("div",{className:"VentureRecommendationsError-content"},o.a.createElement(Z.a,{name:"alert",size:24}),o.a.createElement("p",{className:"VentureRecommendationsError-title"},r({id:"GENERIC_TROUBLE_LOADING"})),o.a.createElement(m.a,{className:"VentureRecommendationsError-button",clickTrackingProps:a,design:"inline",onClick:t,text:r({id:"RETRY"})})))},dn=({recommendation:e})=>{const{cta:t,description:n,id:r,image:i,metadataId:s,title:c,tooltipMessageId:l}=e,d=Rt(()=>({eid:"recommendation.impression",properties:{cardId:r,cardStyle:"secondary"}}),[r]),{trackClick:f,getClickTrackingProps:h}=xt(),p=Ct(),g=Object(a.useCallback)(e=>{const t=[{cardId:s,data:{clicked:new Date}}];on({metadataToUpdate:t}),f({eid:"cta.click",properties:{cardId:r,cardStyle:"secondary"}}),p(e)},[r,s,p,f]);return o.a.createElement("div",{"data-aid":r,className:"SecondaryDiscoverCard"},o.a.createElement("div",{className:"SecondaryDiscoverCard-content"},o.a.createElement("h4",{className:"SecondaryDiscoverCard-title"},c),n&&o.a.createElement("p",{className:"SecondaryDiscoverCard-description"},n,l&&o.a.createElement(en.a,te()({id:"tooltip-anchor-"+r,openOnHover:!0,autoHideTimeout:5e3,text:o.a.createElement("span",{className:"text-default"},o.a.createElement(Z.a,{name:"alert",size:18})),message:o.a.createElement(u.FormattedMessage,{id:l})},h({eid:"tooltip.click",properties:{cardId:r,cardStyle:"secondary"}})))),o.a.createElement("span",{ref:d},o.a.createElement(m.a,{"data-aid":r,className:"SecondaryDiscoverCard-button",design:"secondary",href:t.url,text:t.text,onClick:g}))),o.a.createElement("img",{className:"SecondaryDiscoverCard-image",src:null==i?void 0:i.src,alt:null==i?void 0:i.alt}))},fn={all:!1},hn=({state:e,retry:t})=>{var n;const r=Rt(()=>({eid:"root.impression"}),[]);if(e.isLoading)return o.a.createElement(_t,null);if(e.isError||(null===(n=e.data)||void 0===n?void 0:n.hasGraphqlError))return o.a.createElement(ln,{onRetry:t});const{tasks:i,parent:a}=e.data;return a?o.a.createElement(mn,{tasks:i,parent:a,impressionRef:r}):o.a.createElement(pn,{tasks:i,impressionRef:r})},pn=({tasks:e,impressionRef:t})=>{const[n,...r]=e.filter(e=>!e.isCompleted);return o.a.createElement("div",{className:"DiscoverContainer"},n&&o.a.createElement("div",{className:"DiscoverContainer-primary-section","data-aid":"DISCOVER_RECOMMENDATION_primary_section",ref:t},o.a.createElement("div",{className:"DiscoverContainer-section-text"},o.a.createElement(u.FormattedMessage,{id:"SUGGESTED_NEXT_STEP"})),o.a.createElement(cn,{recommendation:n,recommendationType:"primary"})),o.a.createElement(gn,{tasks:r}))},mn=({tasks:e,parent:t,impressionRef:n})=>{var r,i;Object(d.b)("discover");const{trackEvent:s}=xt(),c=null===(r=Qt())||void 0===r?void 0:r.INISGHT_DISCOVER_ONBOARDING,u=null===(i=(()=>{const e=Object(a.useContext)($t);if(null==e)throw new Error("useGetCohort must be used within a ExperimentProvider");return e.cohorts})())||void 0===i?void 0:i.INISGHT_DISCOVER_ONBOARDING,l=((e,t,n,r)=>{let i=t.taskIds.reduce((t,n)=>{const r=e.find(e=>e.id===n);return r&&t.push(r),t},[]);const{isTreatment:a=!1,cohort:o=""}=r,[s=[],c=[]]=(u=e=>{var t;return!(null==e||null===(t=e.id)||void 0===t?void 0:t.includes("Onboarding"))},i.reduce((e,t)=>(e[+!u(t)].push(t),e),[[],[]]));var u;const l=a&&c.length>=3;return(l||"default"===o)&&n({eid:"pandc.vnext.recommendations.discover.experiment/continuous_onboarding.impression"}),i=l?c.slice(0,3):s,{tileTasks:i,isOnboardingTask:l}})(e,t,s,{isTreatment:c,cohort:u}),{tileTasks:f=[],isOnboardingTask:h=!1}=l,p=f.every(e=>e.isCompleted),m=e.filter(e=>!e.isCompleted&&!t.taskIds.includes(e.id));return p&&!h?(fn.all||(s({eid:"discovertiles_all_completed.impression"}),fn.all=!0),o.a.createElement(pn,{tasks:m,impressionRef:n})):o.a.createElement("div",{className:"DiscoverContainer","data-aid":"DISCOVER_RECOMMENDATION_primary_section"},o.a.createElement("div",{className:"DiscoverContainer-section-text"},t.headline),o.a.createElement("div",{className:"DiscoverContainer-tiles",ref:n},f.map((e,t)=>{var n,r;const i=(null==e||null===(n=e.cta)||void 0===n||null===(r=n.allCtas)||void 0===r?void 0:r.length)||0;return h||!e.isCompleted||fn[e.id]||(s({eid:"completed_discover_tile.impression",properties:{cardId:e.id,cardStyle:"tile"}}),fn[e.id]=!0),h?o.a.createElement(Pt,{recommendation:e,key:t}):i>1?o.a.createElement(Lt,{recommendation:e,key:t}):o.a.createElement(Xt,{recommendation:e,key:t})})),o.a.createElement(gn,{tasks:m}))},gn=({tasks:e})=>{const t=Qt();if(0===e.length)return null;const n=t.INSIGHT_DISCOVER_MORE_SECONDARY?3:2,r=e.slice(0,n),i=e.slice(n);return o.a.createElement("div",{className:"SecondaryAndTertiaryContainer"},r.length>0&&o.a.createElement("div",{className:"DiscoverContainer-secondary-section","data-aid":"DISCOVER_RECOMMENDATION_secondary_section"},o.a.createElement("div",{className:"DiscoverContainer-section-text"},o.a.createElement(u.FormattedMessage,{id:"OTHER_WAYS_TO_GROW"})),r.map(e=>o.a.createElement(dn,{recommendation:e,key:e.id}))),i.length>0&&o.a.createElement("div",{className:"DiscoverContainer-tertiary-section","data-aid":"DISCOVER_RECOMMENDATION_tertiary_section"},i.map(e=>o.a.createElement(un,{key:e.id,recommendation:e,recommendationType:"tertiary"}))))};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn=async({accountId:e,callProjectsEntity:t,domain:n,signal:r,ventureId:i})=>{const{formattedRads:a,metadata:o}=await an({apiName:"fetchDiscoverRecommendations",app:"discover",domain:n,entities:t?["projects","uce"]:[null!=e?`subscription,wsbvnextlite:(filter:'accountId:${e}')`:"subscription"],radset:"discover",signal:r,ventureId:i}),s=[];let c;a.forEach(e=>{var t;if(null===(t=e.content.childRads)||void 0===t?void 0:t.length)c={id:e.definitionId,headline:e.content.title,taskIds:e.content.childRads.map(({id:e})=>e)};else{var n,r,i,a,o,u,l,d,f;const t=e.content.ctas.find(e=>e.ctaType===_.b.PRIMARY)||{text:"",value:"",actionData:[]},c=!!(null===(n=e.content.ctas)||void 0===n?void 0:n.find(e=>{var t,n;return"isCompleted"===(null==e||null===(t=e.actionData)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.type)})),{title:b,description:E,assets:w}=e.content,O=null===(r=(null!==(i=null==w||null===(a=w.primaryImage)||void 0===a?void 0:a[0])&&void 0!==i?i:[{}])[0])||void 0===r?void 0:r.src,S=new Image;var h,p,m;if(S)S.src=O,S.alt=(null===(h=(null!==(p=null==w||null===(m=w.primaryImage)||void 0===m?void 0:m[0])&&void 0!==p?p:[{}])[0])||void 0===h?void 0:h.alt)||"";const k=null===(o=(null!==(u=null==w||null===(l=w.primaryFile)||void 0===l?void 0:l[0])&&void 0!==u?u:[{}])[0])||void 0===o?void 0:o.src,T=k?new Image:null;var g,v,y;if(T)T.src=k,T.alt=(null===(g=(null!==(v=null==w||null===(y=w.primaryFile)||void 0===y?void 0:y[0])&&void 0!==v?v:[{}])[0])||void 0===g?void 0:g.alt)||"";s.push(yn(yn({id:e.definitionId,metadataId:e.id,title:b,description:E,image:S},T&&{icon:T}),{},{cta:{text:t.text,url:t.value,allCtas:e.content.ctas},isCompleted:e._score<0||c,tooltipMessageId:null===(d=t.actionData)||void 0===d||null===(f=d.find(({type:e})=>"tooltip"===e))||void 0===f?void 0:f.value}))}});const{responseData:{shopperWarnings:u=[]}={}}=o||{},l=s.find(e=>"Discover-Tile-Domain-0gNMA9ZU~"===e.id),d=s.find(e=>e.id.includes("Email")),f=s.find(e=>e.id.includes("Website")),h=u.find(({message:e})=>e.includes("GraphQL Request error"));return{data:{tasks:s,parent:c,hasGraphqlError:!(!l||!h||d||f)},metadata:yn(yn({},o),{},{event:"api_success"})}};const En={0:"VentureRecommendations-mobile",678:"VentureRecommendations-tablet",914:"VentureRecommendations-desktop",1050:"VentureRecommendations-xl"};var wn=n("eRjL");function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _n=()=>o.a.createElement("div",{className:"VentureRecommendationsLoading"},o.a.createElement("div",{className:"VentureRecommendationsLoading-image-section"},o.a.createElement("div",{className:"VentureRecommendationsLoading-image Skeleton__animated-bg"})),o.a.createElement("div",{className:"VentureRecommendationsLoading-content-section"},o.a.createElement("div",{className:"VentureRecommendationsLoading-title Skeleton__animated-bg"}),o.a.createElement("div",{className:"VentureRecommendationsLoading-title line2 Skeleton__animated-bg"}),o.a.createElement("div",{className:"VentureRecommendationsLoading-description Skeleton__animated-bg"}),o.a.createElement("div",{className:"VentureRecommendationsLoading-description Skeleton__animated-bg"}),o.a.createElement("div",{className:"VentureRecommendationsLoading-button Skeleton__animated-bg"}))),kn=({appName:e,appLocation:t,children:n,loadingView:r,spaConfig:i,domain:s})=>{Object(d.c)(e);const{messages:c,locale:l}=pt(),h=Object(a.useMemo)(()=>({area:"pandc.vnext",product:"recommendations",section:e}),[e]);if(!c)return r||o.a.createElement(_n,null);return o.a.createElement("div",{className:"fs-unmask"},o.a.createElement(u.IntlProvider,{locale:l,messages:c},o.a.createElement(Dt,{appLocation:t,rootEid:h,domain:s},o.a.createElement(f,{renderFallback:e=>o.a.createElement(ln,{onRetry:e})},o.a.createElement(Tt,{spaConfig:i},o.a.createElement(Tn,{appName:e,loadingView:r},n))))))},Tn=({appName:e,children:t,loadingView:n})=>{const r=Object(a.useCallback)(t=>async function(e,t){var n,r,i;const a=_.j+"/config/insight",o={method:"GET",credentials:"include",signal:t},s=await fetch(a,o),c=await qt({apiName:"getFeatureFlags",app:e,response:s});if(!s.ok)throw new Ft.a(c);const{featureFlags:u}=c.responseData;return{data:{showMetricsMaintenanceUI:null==u?void 0:u.disableMetricsUIWithinInsight,insightExperiments:(null==u?void 0:u.insightExperiments)||{},insightSegments:(null==u?void 0:u.insightSegments)||{},showIntroModal:(null==u||null===(n=u.dashboard)||void 0===n||null===(r=n.rollout)||void 0===r||null===(i=r.piq)||void 0===i?void 0:i.showIntroModal)||!1},metadata:Bt(Bt({},c),{},{event:"api_success"})}}(e,t),[e]),[i,s]=Object(wn.a)(r),c=Object(a.useCallback)(()=>(async e=>{const t=await Object(At.b)(),{vtg:n}=t,r=Object(Ue.a)(),i=null!=r&&3===r.length,a=await qt({apiName:"getHivemindSplits",app:e,response:new Response});if(null==r||null==n){const e=[],i=[];null==r&&(e.push("shopperId"),i.push("Cookie: "+document.cookie)),null==n&&(e.push("vtg"),i.push("Tracking ids: "+t)),d.a.trackPerfEvent({event:"exception",name:"Failed to get "+e.join(" and "),message:i.join(" , ")})}try{const e=new Fe.a({app:"action-plan",usePreload:!1,splitioOptions:{core:{authorizationKey:_.i}},subject:{[Pe.hivemindConstants.idTypes.SHOPPER_ID]:r,[Pe.hivemindConstants.idTypes.VISITOR_GUID]:n}});await e.ready;const t=Object(Ge.a)(),{cohorts:o}=e.getCohorts({subject:{[Pe.hivemindConstants.idTypes.SHOPPER_ID]:r,[Pe.hivemindConstants.idTypes.VISITOR_GUID]:n},labels:["gd-insight"],attributes:{market:t,shopperId:r,tla:i},visitorGuid:n});return{data:{cohorts:Je()(o,e=>e.cohortId)},metadata:Sn(Sn({},a),{},{status:200,size:JSON.stringify(o).length,event:"api_success"})}}catch(e){let t="";throw e instanceof Error&&(t=e.message),new Ft.a(Sn(Sn({},a),{},{status:400,message:t,size:0}))}})(e),[e]),[u,l]=Object(wn.a)(c),f=Object(a.useCallback)(()=>{i.isError&&s(),u.isError&&l()},[s,i.isError,l,u.isError]);return i.isLoading||u.isLoading?n||o.a.createElement(_n,null):i.isError||u.isError?o.a.createElement(ln,{onRetry:f}):o.a.createElement(Wt,{featureFlags:i.data},o.a.createElement(Jt,{hivemindExperiments:u.data},t))},Cn=o.a.memo(({accountId:e,appLocation:t,domain:n,spaConfig:r,ventureId:i,callProjectsEntity:s,logoUrl:c})=>{const u=Object(a.useCallback)(t=>bn({signal:t,domain:n,accountId:e,ventureId:i,callProjectsEntity:s}),[e,s,n,i]),[l,d]=Object(wn.a)(u),f=Object(a.useRef)(!0);Object(a.useEffect)(()=>{f.current?f.current=!1:d()},[c,d]);const h=ke(En),p=o.a.createElement(_t,null);return o.a.createElement("div",{ref:h},o.a.createElement(kn,{appName:"discover",appLocation:t,domain:n,spaConfig:r,loadingView:p},o.a.createElement(hn,{state:l,retry:d})))});function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In=n("dwco"),jn=n.n(In);const Dn=()=>o.a.createElement("div",{className:"SetupLoading"},o.a.createElement("div",{className:"SetupLoading-progress-title Skeleton__animated-bg"}),o.a.createElement("div",{className:"SetupLoading-progress-bar Skeleton__animated-bg"}),[0,1,2].map(e=>o.a.createElement("div",{className:"SetupLoading-list-item",key:e},o.a.createElement("div",{className:"SetupLoading-checkmark Skeleton__animated-bg"}),o.a.createElement("div",{className:"SetupLoading-list-item-content Skeleton__animated-bg"}))));var xn=n("r2lw"),Rn=n.n(xn);const Mn=({headerText:e,percentComplete:t})=>{const n=Rt(()=>({eid:"progress_header.impression"}),[]),r=Object(u.useIntl)().formatNumber(t,{style:"percent"});return o.a.createElement("div",{className:"ProgressHeader","data-aid":"RECOMMENDATION_checklist_header"},o.a.createElement("h3",{className:"ProgressHeader-title"},null!=e?e:o.a.createElement(u.FormattedMessage,{id:"SETUP_TITLE"})),o.a.createElement("span",{className:"ProgressHeader-progressBar ProgressHeader-description",ref:n},o.a.createElement("div",{className:0===t?"ProgressHeader-progressBar-default-zero-percent-override":""},o.a.createElement(Rn.a,{value:100*t,max:100,size:"small"})),o.a.createElement("div",null,o.a.createElement(u.FormattedMessage,{id:"SETUP_PROGRESS",values:{percentage:r}}))))},Ln=({recommendation:e,renderWithHeader:t})=>{const{title:n,cta:r,id:i,metadataId:s,image:c,description:u}=e,l=Rt(()=>({eid:"recommendation.impression",properties:{cardId:i,cardStyle:"primary"}}),[i]),{trackClick:d}=xt(),f=Ct(),h=Object(a.useCallback)(e=>{const t=[{cardId:s,data:{clicked:new Date}}];on({metadataToUpdate:t}),d({eid:"cta.click",properties:{cardId:i,cardStyle:"list_item"}}),f(e)},[d,f,i,s]);return o.a.createElement("div",{"data-aid":i,className:X()("SetupTaskCard",{"render-with-header":t}),style:t?{backgroundColor:"white"}:{}},o.a.createElement("img",{className:"SetupTaskCard-image",src:null==c?void 0:c.src,alt:null==c?void 0:c.alt}),o.a.createElement("div",{className:"SetupTaskCard-content-wrapper"},o.a.createElement("h1",{className:"SetupTaskCard-title"},n),u&&o.a.createElement("p",{className:"SetupTaskCard-description"},u),o.a.createElement("span",{ref:l},o.a.createElement(m.a,{"data-aid":i,className:"SetupTaskCard-button",design:"primary",href:r.url,text:r.text,onClick:h}))))};var Pn=n("NUC6"),Fn=n.n(Pn);const Un=["children","selected","onClick"],Gn=["children","selected","onClick"],qn=["children"];function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Hn=(e,t)=>e.filter(e=>{if(o.a.isValidElement(e))return e.type===t}),zn=({children:e,onChange:t,selectedIdx:n,componentType:r,className:i})=>{const a=o.a.Children.toArray(e);return o.a.createElement("div",{className:i},(e=>{const i=Hn(e,r)[0];return i&&o.a.isValidElement(i)?o.a.cloneElement(i,{selectedIdx:n,onChange:t}):null})(a),(e=>{const t=Hn(e,Jn)[n];return t&&o.a.isValidElement(t)?o.a.cloneElement(t,{id:"panel-"+(n+1),"aria-labelledby":"tab-"+(n+1)}):null})(a))},Kn=({children:e,onChange:t,selectedIdx:n})=>{const[r,i]=Object(a.useState)({left:0,width:0}),[s,c]=Object(a.useState)({start:!1,end:!1}),[u,l]=Object(a.useState)(!1),d=Object(a.useRef)(document.createElement("button")),f=Object(a.useRef)(document.createElement("button")),h=Object(a.useRef)(document.createElement("div")),p=Object(a.useCallback)(e=>{const t=h.current.clientWidth-d.current.getBoundingClientRect().width;"forward"===e?h.current.scrollTo({left:h.current.scrollLeft+t,behavior:"smooth"}):h.current.scrollTo({left:h.current.scrollLeft-t,behavior:"smooth"})},[]),m=Object(a.useCallback)(()=>{if(null!=d.current){const{scrollWidth:e,clientWidth:t,scrollLeft:n}=h.current,r=n>0,i=n<e-t;r===s.start&&i===s.end||c({start:r,end:i})}},[s.end,s.start]),g=Object(a.useMemo)(()=>Fn()(m,150),[m]),v=Object(a.useCallback)(()=>{if(null!=d.current){const e=d.current.getBoundingClientRect().width,t=d.current.offsetLeft;i({left:t,width:e}),(()=>{const e=d.current.getBoundingClientRect(),t=h.current.getBoundingClientRect(),n=f.current.getBoundingClientRect().width,r=h.current.scrollLeft;e.right>t.right?h.current.scrollTo({left:r+(e.right-t.right+n),behavior:"smooth"}):e.left<t.left&&h.current.scrollTo({left:r+(e.left-t.left-n),behavior:"smooth"})})()}},[]),y=Object(a.useMemo)(()=>Fn()(v,150),[v]),b=Object(a.useCallback)(()=>{u||l(!0)},[u]);return Object(a.useEffect)(()=>{m()},[m]),Object(a.useEffect)(()=>{v()},[v,n]),Object(a.useEffect)(()=>(window.addEventListener("resize",y),window.addEventListener("resize",g),()=>{window.removeEventListener("resize",y),window.removeEventListener("resize",g),y.cancel(),g.cancel()}),[g,y]),o.a.createElement("header",{onScroll:g,onMouseEnter:b},o.a.createElement("button",{className:X()("TabsList-arrow left",{hidden:!s.start}),onClick:()=>p("backward"),ref:f},o.a.createElement(Z.a,{fill:"#767676",name:"chevron-left",size:18})),o.a.createElement("div",{className:"TabsList",ref:h,role:"tablist"},o.a.Children.map(e,(e,r)=>o.a.isValidElement(e)?o.a.cloneElement(e,Bn(Bn({selected:n===r,id:"tab-"+(r+1),"aria-controls":"panel-"+(r+1),"aria-selected":n===r},"function"==typeof t&&{onClick:()=>t(r)}),n===r&&{ref:d})):null),o.a.createElement("span",{style:{width:r.width,left:r.left},className:X()("Tabs-indicator",{animate:u})})),o.a.createElement("button",{className:X()("TabsList-arrow right",{hidden:!s.end}),onClick:()=>p("forward")},o.a.createElement(Z.a,{fill:"#767676",name:"chevron-right",size:18})))},Wn=({children:e,onChange:t,selectedIdx:n})=>{const[r,i]=Object(a.useState)({start:!1,end:!1}),s=Object(a.useRef)(document.createElement("button")),c=Object(a.useRef)(document.createElement("button")),u=Object(a.useRef)(document.createElement("div")),l=Object(a.useCallback)(e=>{const t=u.current.clientWidth-s.current.getBoundingClientRect().width;"forward"===e?u.current.scrollTo({left:u.current.scrollLeft+t,behavior:"smooth"}):u.current.scrollTo({left:u.current.scrollLeft-t,behavior:"smooth"})},[]),d=Object(a.useCallback)(()=>{if(null!=s.current){const{scrollWidth:e,clientWidth:t,scrollLeft:n}=u.current,a=n>0,o=n<e-t;a===r.start&&o===r.end||i({start:a,end:o})}},[r.end,r.start]),f=Object(a.useMemo)(()=>Fn()(d,150),[d]),h=Object(a.useCallback)(()=>{const e=s.current.getBoundingClientRect(),t=u.current.getBoundingClientRect(),n=c.current.getBoundingClientRect().width,r=u.current.scrollLeft;e.right>t.right?u.current.scrollTo({left:r+(e.right-t.right+n),behavior:"smooth"}):e.left<t.left&&u.current.scrollTo({left:r+(e.left-t.left-n),behavior:"smooth"})},[]);return Object(a.useEffect)(()=>{d()},[d]),Object(a.useEffect)(()=>(window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),f.cancel()}),[f]),Object(a.useEffect)(()=>{h()},[h,n]),o.a.createElement("header",{onScroll:f},o.a.createElement("button",{className:X()("RoundedTabsList-arrow left",{hidden:!r.start}),onClick:()=>l("backward"),ref:c},o.a.createElement(Z.a,{fill:"#5E5E5E",name:"chevron-left",size:18})),o.a.createElement("div",{className:"RoundedTabsList",ref:u,role:"tablist"},o.a.Children.map(e,(e,r)=>o.a.isValidElement(e)?o.a.cloneElement(e,Bn(Bn({selected:n===r,id:"tab-"+(r+1),"aria-controls":"panel-"+(r+1),"aria-selected":n===r},"function"==typeof t&&{onClick:()=>t(r)}),n===r&&{ref:s})):null)),o.a.createElement("button",{className:X()("RoundedTabsList-arrow right",{hidden:!r.end}),onClick:()=>l("forward")},o.a.createElement(Z.a,{fill:"#5E5E5E",name:"chevron-right",size:18})))},Yn=Object(a.forwardRef)((e,t)=>{let{children:n,selected:r,onClick:i}=e,a=re()(e,Un);return o.a.createElement("button",te()({className:"Tab",ref:t,role:"tab",onClick:i},a),o.a.createElement("span",{className:X()({active:r})},n))}),$n=Object(a.forwardRef)((e,t)=>{let{children:n,selected:r,onClick:i}=e,a=re()(e,Gn);return o.a.createElement("button",te()({ref:t,role:"tab",onClick:i},a,{className:X()("RoundedTab",{active:r})}),o.a.createElement("span",null,n))}),Jn=e=>{let{children:t}=e,n=re()(e,qn);return o.a.createElement("div",te()({className:"TabContent",role:"tabpanel"},n),t)},Qn=({recommendation:e,className:t})=>{const{title:n,cta:r,description:i,id:s,metadataId:c,isCompleted:l,isPremium:d}=e,f=Rt(()=>({eid:"recommendation.impression",properties:{cardId:s,cardStyle:"list_item"}}),[]),{trackClick:h}=xt(),p=Ct(),m=Object(a.useCallback)(e=>{if(c){const e=[{cardId:c,data:{clicked:new Date}}];on({metadataToUpdate:e})}h({eid:"cta.click",properties:{cardId:s,cardStyle:"list_item"}}),p(e)},[h,p,s,c]);return d?o.a.createElement("a",{className:X()("TaskListItem-premium",t,{"TaskListItem-premium-completed":l}),"data-aid":"RECOMMENDATION_tasklist_item_"+s,href:r.url,ref:f,onClick:m},o.a.createElement("span",{className:"TaskListItem-premium-checkmark "+(!0===l&&"TaskListItem-premium-checkmark-completed")},!0===l?o.a.createElement(Z.a,{name:"checkmark",size:12,fill:"#fff"}):null),o.a.createElement("span",{className:"TaskListItem-premium-content"},o.a.createElement("div",{className:"TaskListItem-premium-title"},n,o.a.createElement("span",{className:"TaskListItem-premium-tag"},o.a.createElement(u.FormattedMessage,{id:"PREMIUM"}))),null!=i&&o.a.createElement("div",{className:"TaskListItem-premium-description"},i)),o.a.createElement("span",{className:"TaskListItem-premium-chevron"},!0!==l&&o.a.createElement(Z.a,{name:"chevron-right",size:24,fill:"#afafaf"}))):o.a.createElement("a",{className:X()("TaskListItem",t,{"TaskListItem-completed":l}),"data-aid":"RECOMMENDATION_tasklist_item_"+s,href:r.url,ref:f,onClick:m},o.a.createElement("span",{className:"TaskListItem-checkmark "+(!0===l&&"TaskListItem-checkmark-completed")},!0===l?o.a.createElement(Z.a,{name:"checkmark",size:12,fill:"#fff"}):null),o.a.createElement("span",{className:"TaskListItem-content"},o.a.createElement("div",{className:"TaskListItem-title"},n),null!=i&&o.a.createElement("div",{className:"TaskListItem-description"},i)),o.a.createElement("span",{className:"TaskListItem-chevron"},!0!==l&&o.a.createElement(Z.a,{name:"chevron-right",size:24,fill:"#afafaf"})))},Xn=e=>{let t=0;return e.reduce((e,n)=>(n.tasks.forEach(n=>{n.isCompleted&&e++,t++}),e),0)/t},Zn=({tasks:e})=>o.a.createElement("div",{className:"SetupContainer-taskList","data-aid":"RECOMMENDATION_tasklist"},e.map(e=>o.a.createElement(Qn,{key:e.id,recommendation:e}))),er=({taskList:e,app:t})=>{if(Object(d.b)(t),1===e.tasks.length)return o.a.createElement(cn,{recommendation:e.tasks[0],recommendationType:"primary"});const n=Xn([e]);return o.a.createElement("div",null,o.a.createElement(Mn,{headerText:e.headline,percentComplete:n}),o.a.createElement(Zn,{tasks:e.tasks}))},tr=({taskLists:e,app:t})=>{Object(d.b)(t);const n=xt(),r=Xn(e),i=e.findIndex(e=>!e.isCompleted),s=-1===i?0:i,[c,u]=Object(a.useState)(s);return o.a.createElement(a.Fragment,null,o.a.createElement(Mn,{percentComplete:r}),o.a.createElement(zn,{onChange:u,selectedIdx:c,componentType:Wn,className:"RoundedTabs"},o.a.createElement(Wn,null,e.map(({name:e,id:t,isCompleted:r},i)=>o.a.createElement($n,te()({key:i},n.getClickTrackingProps({eid:"nav_element.click",properties:{navId:t}}),{className:"RoundedTab"}),r?o.a.createElement("div",{className:"Tab-checkmark"},o.a.createElement(Z.a,{name:"checkmark"}),e):o.a.createElement("div",null,e)))),e.map(({tasks:e},t)=>o.a.createElement(Jn,{key:t},1===e.length?o.a.createElement(Ln,{recommendation:e[0],renderWithHeader:!0}):o.a.createElement(Zn,{tasks:e})))))},nr=({state:e,retry:t})=>{Object(a.useEffect)(()=>{"undefined"!=typeof window&&jn.a.polyfill()},[]);const n=Rt(()=>({eid:"root.impression"}),[]);return e.isLoading?o.a.createElement(Dn,null):e.isError?o.a.createElement(ln,{onRetry:t}):0===e.data.length?null:o.a.createElement("div",{className:"SetupContainer",ref:n},1===e.data.length?o.a.createElement(er,{taskList:e.data[0],app:"setup"}):o.a.createElement(tr,{taskLists:e.data,app:"setup"}))},rr=o.a.memo(({appLocation:e,spaConfig:t,domain:n,accountId:r,ventureId:i,callProjectsEntity:s})=>{const c=Object(a.useCallback)(e=>(async({signal:e,domain:t,accountId:n,callProjectsEntity:r,ventureId:i})=>{const{formattedRads:a,metadata:o}=await an({accountId:n,apiName:"fetchSetupRecommendations",app:"setup",domain:t,entities:r?["projects","uce"]:["subscription","mktgasstlite","wsbvnextlite","o365","mwp",...i?["uce"]:[]],radset:"venture-setup",signal:e,ventureId:i}),s={},c=[],u=[],l=["Setup-WAMWebsite-8KP34238p","Setup-WAMMarketing-GerAgwgKI","Setup-WAMStore-bRv8xND64","Setup-WAMServices-oBZYd5h5Z","Setup-Professional-Email-mDUGGLHYY","Setup-Commerce-NOPu4Oa0E"];return a.forEach(e=>{if(e.content.childRads)(!n||n&&l.includes(e.definitionId))&&c.push(e);else{var t,r,i,a,o,u;const n=(null===(t=e.content.ctas)||void 0===t?void 0:t.find(e=>e.ctaType===_.b.PRIMARY))||{text:"",value:""},c=(null===(r=e.content.ctas)||void 0===r?void 0:r.find(e=>{var t;return null==e||null===(t=e.actionData)||void 0===t?void 0:t[0]}))||{actionData:[{type:"",value:""}]},l="true"===(null==c||null===(i=c.actionData)||void 0===i?void 0:i[0].value),{title:p,assets:m,description:g}=e.content,v=null===(a=(null!==(o=null==m||null===(u=m.primaryImage)||void 0===u?void 0:u[0])&&void 0!==o?o:[{}])[0])||void 0===a?void 0:a.src,y=v?new Image:null;var d,f,h;if(y)y.src=v,y.alt=(null===(d=(null!==(f=null==m||null===(h=m.primaryImage)||void 0===h?void 0:h[0])&&void 0!==f?f:[{}])[0])||void 0===d?void 0:d.alt)||"";s[e.definitionId]=Nn(Nn({id:e.definitionId,metadataId:e.id,title:p,description:g},y&&{image:y}),{},{cta:{url:n.value,text:n.text},isCompleted:-1===e._score,isPremium:l})}}),c.forEach(e=>{var t;const{title:n,description:r}=e.content,i=(null===(t=e.content.childRads)||void 0===t?void 0:t.filter(({id:e})=>s[e]).map(({id:e})=>s[e]))||[];i.length>0&&u.push({id:e.definitionId,name:n,headline:r,isCompleted:i.every(e=>e.isCompleted),tasks:i})}),{data:u,metadata:Nn(Nn({},o),{},{event:"api_success"})}})({signal:e,domain:n,accountId:r,ventureId:i,callProjectsEntity:s}),[n,r,i,s]),[u,l]=Object(wn.a)(c),d=o.a.createElement(Dn,null),f=ke(En);return o.a.createElement("div",{ref:f},o.a.createElement(kn,{appName:"setup",appLocation:e,domain:n,spaConfig:t,loadingView:d},o.a.createElement(nr,{state:u,retry:l})))}),ir=e=>{const t=Object(Ge.a)();return new Intl.DateTimeFormat(t,{month:"numeric",day:"numeric"}).format(e)},ar=e=>{const t=new Date;t.setDate(1),t.setMonth(e);const n=Object(Ge.a)();return new Intl.DateTimeFormat(n,{month:"short"}).format(t)},or=e=>{const t=new Date(e.getTime());return t.getMonth()>1?(t.setDate(29),t.setMonth(1),29===t.getDate()):(t.setFullYear(t.getFullYear()-1),t.setDate(29),t.setMonth(1),29===t.getDate())},sr=e=>{const t=[{month:ar(11),days:31},{month:ar(10),days:30},{month:ar(9),days:31},{month:ar(8),days:30},{month:ar(7),days:31},{month:ar(6),days:31},{month:ar(5),days:30},{month:ar(4),days:31},{month:ar(3),days:30},{month:ar(2),days:31},{month:ar(1),days:or(e)?29:28},{month:ar(0),days:31}],n=e.getMonth(),r=[...t.splice(11-n),...t];return r[0].days=e.getDate(),r},cr=e=>{const t=[];let n=e;for(let e=0;e<30;e++)if(e>0){const e=new Date(n);e.setDate(e.getDate()-1),t.push({bucket:ir(e),value:0}),n=e}else t.push({bucket:ir(n),value:0});return t.reverse()},ur=e=>sr(e).map(({month:e})=>({bucket:e,value:0})).reverse(),lr=(e,t)=>{const n=sr(e);let r=0;return n.map(({month:e,days:n})=>{const i=((e,t,n)=>{let r=0,i=0;for(;i<n;)r+=parseInt(e[t+i]||"0",10),i++;return r})(t,r,n);return r+=n,{bucket:e,value:i}}).reverse()},dr=(e,t)=>{const n=[];let r=e;for(let e=0;e<30;e++){const i=t[e]||"0";if(e>0){const e=new Date(r);e.setDate(e.getDate()-1),n.push({bucket:ir(e),value:parseInt(i||"0",10)}),r=e}else n.push({bucket:ir(r),value:parseInt(i||"0",10)})}return n.reverse()},fr=e=>{if(null==e||0===e.length){const e=new Date;return{30:cr(e),365:ur(e)}}const[t,n]=e.split(":"),r=n.split("|"),i=new Date(t.replace(/-/g,"/")+" 00:00:00");return{30:dr(i,r),365:lr(i,r)}};function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const mr=()=>o.a.createElement("div",{className:"MetricsLoadingView"},o.a.createElement("div",{className:"MetricsLoadingView-tile Skeleton__animated-bg"}),o.a.createElement("div",{className:"MetricsLoadingView-tile Skeleton__animated-bg"})),gr=e=>{const t=Object(Ge.a)(),n={minimumFractionDigits:0,maximumFractionDigits:0};e&&(n.style="currency",n.currency=e);return new Intl.NumberFormat(t,n).format},vr=({tile:e,timeframe:t,setActiveTab:n})=>{const{id:r,title:i,icon:s,dataPoints:{last7Days:c,last30Days:l,last365Days:d,currencyCode:f}}=e,h=Rt(()=>({eid:"recommendation.impression",properties:{cardId:r,cardStyle:"tile"}}),[]),{trackClick:p}=xt(),m=Object(a.useCallback)(()=>{p({eid:"nav_element.click",properties:{navId:r}}),n()},[p,n,r]),g="365"===t?[d,l]:[l,c],v=g[0]>0,y="365"===t?"30":"7",[b,E]=g.map(gr(f));return o.a.createElement("div",{"data-aid":r,className:"MetricsTile",ref:h,onClick:m},null!=s&&o.a.createElement("div",{className:"MetricsTile-icon"},o.a.createElement("img",{src:s})),o.a.createElement("div",{className:"MetricsTile-title"},i),o.a.createElement("div",{className:"MetricsTile-primary-number"},v?b:"--"),v?o.a.createElement("div",{className:"MetricsTile-trend"},o.a.createElement(Z.a,{name:"plus",fill:"#00A63F",size:14,className:"MetricsTile-trend-plus"}),o.a.createElement("div",{className:"MericsTile-trend-text"},o.a.createElement("span",{className:"MetricsTile-trend-text-number"},E," "),o.a.createElement(u.FormattedMessage,{id:"LAST_X_DAYS_PARENTHESIS",values:{number:y}}))):o.a.createElement("div",{className:"MetricsTile-trend"},o.a.createElement(Z.a,{className:"MetricsTile-trend-icon-clock",name:"clock",fill:"#00A63F",size:14}),o.a.createElement("div",{className:"MericsTile-trend-text-no-data"},o.a.createElement(u.FormattedMessage,{id:"NO_DATA"}))))};var yr=n("htpT"),br=n.n(yr);const Er=({sidebarTitle:e,sidebarDescription:t,icon:n,navButton:r,onClick:i})=>o.a.createElement("div",{className:"MetricsDeepDiveSidebar"},null!=n&&o.a.createElement("div",{className:"MetricsDeepDiveSidebar-icon"},o.a.createElement("img",{src:n})),o.a.createElement("h3",{className:"MetricsDeepDiveSidebar-title"}," ",e),o.a.createElement("span",{className:"MetricsDeepDiveSidebar-description"}," ",t),o.a.createElement("div",{className:"MetricsDeepDiveSidebarLoading"},o.a.createElement("div",{className:"MetricsDeepDiveSidebarLoading-tile Skeleton__animated-bg"}),o.a.createElement("div",{className:"MetricsDeepDiveSidebarLoading-tile Skeleton__animated-bg"}),o.a.createElement("div",{className:"MetricsDeepDiveSidebarLoading-tile Skeleton__animated-bg"})),o.a.createElement(m.a,{className:"MetricsDeepDiveSidebar-button",design:"primary",href:r.url,text:r.text,onClick:i})),wr=({recommendation:e})=>{const{title:t,cta:n,id:r,metadataId:i}=e,s=Rt(()=>({eid:"recommendation.impression",properties:{cardId:e.id,cardStyle:"list_item"}}),[]),{trackClick:c}=xt(),u=Ct(),l=Object(a.useCallback)(e=>{if(i){const e=[{cardId:i,data:{clicked:new Date}}];on({metadataToUpdate:e})}c({eid:"cta.click",properties:{cardId:r,cardStyle:"list_item"}}),u(e)},[c,u,r,i]);return o.a.createElement("a",{"data-aid":r,ref:s,onClick:l,href:n.url,className:"MetricsDeepDiveTask"},o.a.createElement("span",{className:"MetricsDeepDiveTask-title"},t),o.a.createElement("span",{className:"MetricsDeepDiveTask-chevron"},o.a.createElement(Z.a,{name:"chevron-right",size:18})))},Or=({className:e="",onRetry:t})=>{const n=Object(u.useIntl)(),{formatMessage:r}=n,i=Rt(()=>({eid:"error_page.impression"}),[]),a=Mt(()=>({eid:"error_page_retry.click"}),[]);return o.a.createElement("div",{className:"MetricsDeepDiveSidebarError "+e,ref:i},o.a.createElement("div",{className:"MetricsDeepDiveSidebarError-content"},o.a.createElement(Z.a,{name:"alert",size:24}),o.a.createElement("p",{className:"MetricsDeepDiveSidebarError-title"},r({id:"GENERIC_TROUBLE_LOADING"})),o.a.createElement(m.a,{className:"MetricsDeepDiveSidebarError-button",clickTrackingProps:a,design:"inline",onClick:t,text:r({id:"RETRY"})})))},Sr=({metricsDetails:e,fetchMetricsRecommendationsState:t,retry:n})=>{const{id:r,icon:i,deepDiveContent:s}=e,{sidebarTitle:c,sidebarDescription:l,navButton:d,recommendationIds:f}=s,{trackClick:h}=xt(),p=Ct(),g=Object(a.useCallback)(e=>{h({eid:"nav_element.click",properties:{navId:r}}),p(e)},[h,p,r]);if(t.isLoading)return o.a.createElement(Er,{sidebarTitle:c,sidebarDescription:l,icon:i,navButton:d,onClick:g});if(t.isError)return o.a.createElement(Or,{onRetry:n});const v=[];f.forEach(e=>{const n=t.data.find(t=>t.id===e);null==n||(null==n?void 0:n.isCompleted)||v.push(n)});const y=v.slice(0,v.length>=3?3:v.length);return o.a.createElement("div",{className:"MetricsDeepDiveSidebar"},null!=i&&o.a.createElement("div",{className:"MetricsDeepDiveSidebar-icon"},o.a.createElement("img",{src:i})),v.length>0?o.a.createElement("div",null,o.a.createElement("h4",{className:"MetricsDeepDiveSidebar-title"}," ",c),o.a.createElement("span",{className:"MetricsDeepDiveSidebar-description"}," ",l),o.a.createElement("div",{className:"MetricsDeepDiveTasks"},y.map((e,t)=>o.a.createElement(wr,{recommendation:e,key:t})))):o.a.createElement("div",null,o.a.createElement("h3",{className:"MetricsDeepDiveSidebar-title"},o.a.createElement(u.FormattedMessage,{id:"METRICS_DEEPDIVE_TITLE"})),o.a.createElement("span",{className:"MetricsDeepDiveSidebar-description-complete"},o.a.createElement(u.FormattedMessage,{id:"METRICS_DEEPDIVE_DESCRIPTION"}))),o.a.createElement(m.a,{className:"MetricsDeepDiveSidebar-button",design:"primary",href:d.url,text:d.text,onClick:g}))};var _r=n("wfjh"),kr=n.n(_r),Tr=n("hKzD"),Cr=n.n(Tr);function Ar(){}var Nr=function(e){return null==e?Ar:function(){return this.querySelector(e)}},Ir=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)};function jr(){return[]}var Dr=function(e){return null==e?jr:function(){return this.querySelectorAll(e)}};var xr=function(e){return function(){return this.matches(e)}};function Rr(e){return function(t){return t.matches(e)}}var Mr=Array.prototype.find;function Lr(){return this.firstElementChild}var Pr=Array.prototype.filter;function Fr(){return this.children}var Ur=function(e){return new Array(e.length)};function Gr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gr.prototype={constructor:Gr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var qr=function(e){return function(){return e}};function Vr(e,t,n,r,i,a){for(var o,s=0,c=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new Gr(e,a[s]);for(;s<c;++s)(o=t[s])&&(i[s]=o)}function Br(e,t,n,r,i,a,o){var s,c,u,l=new Map,d=t.length,f=a.length,h=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(h[s]=u=o.call(c,c.__data__,s,t)+"",l.has(u)?i[s]=c:l.set(u,c));for(s=0;s<f;++s)u=o.call(e,a[s],s,a)+"",(c=l.get(u))?(r[s]=c,c.__data__=a[s],l.delete(u)):n[s]=new Gr(e,a[s]);for(s=0;s<d;++s)(c=t[s])&&l.get(h[s])===c&&(i[s]=c)}function Hr(e){return e.__data__}function zr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Kr="http://www.w3.org/1999/xhtml",Wr={svg:"http://www.w3.org/2000/svg",xhtml:Kr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yr=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Wr.hasOwnProperty(t)?{space:Wr[t],local:e}:e};function $r(e){return function(){this.removeAttribute(e)}}function Jr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qr(e,t){return function(){this.setAttribute(e,t)}}function Xr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zr(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ei(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var ti=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function ni(e){return function(){this.style.removeProperty(e)}}function ri(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ii(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ai(e,t){return e.style.getPropertyValue(t)||ti(e).getComputedStyle(e,null).getPropertyValue(t)}function oi(e){return function(){delete this[e]}}function si(e,t){return function(){this[e]=t}}function ci(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ui(e){return e.trim().split(/^|\s+/)}function li(e){return e.classList||new di(e)}function di(e){this._node=e,this._names=ui(e.getAttribute("class")||"")}function fi(e,t){for(var n=li(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function hi(e,t){for(var n=li(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function pi(e){return function(){fi(this,e)}}function mi(e){return function(){hi(this,e)}}function gi(e,t){return function(){(t.apply(this,arguments)?fi:hi)(this,e)}}di.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vi(){this.textContent=""}function yi(e){return function(){this.textContent=e}}function bi(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Ei(){this.innerHTML=""}function wi(e){return function(){this.innerHTML=e}}function Oi(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Si(){this.nextSibling&&this.parentNode.appendChild(this)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ki(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Kr&&t.documentElement.namespaceURI===Kr?t.createElement(e):t.createElementNS(n,e)}}function Ti(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var Ci=function(e){var t=Yr(e);return(t.local?Ti:ki)(t)};function Ai(){return null}function Ni(){var e=this.parentNode;e&&e.removeChild(this)}function Ii(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ji(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Di(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function xi(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Ri(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Mi(e,t,n){var r=ti(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Li(e,t){return function(){return Mi(this,e,t)}}function Pi(e,t){return function(){return Mi(this,e,t.apply(this,arguments))}}var Fi=[null];function Ui(e,t){this._groups=e,this._parents=t}function Gi(){return new Ui([[document.documentElement]],Fi)}Ui.prototype=Gi.prototype={constructor:Ui,select:function(e){"function"!=typeof e&&(e=Nr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],c=s.length,u=r[i]=new Array(c),l=0;l<c;++l)(a=s[l])&&(o=e.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new Ui(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Ir(t)}}(e):Dr(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(r.push(e.call(o,o.__data__,u,s)),i.push(o));return new Ui(r,i)},selectChild:function(e){return this.select(null==e?Lr:function(e){return function(){return Mr.call(this.children,e)}}("function"==typeof e?e:Rr(e)))},selectChildren:function(e){return this.selectAll(null==e?Fr:function(e){return function(){return Pr.call(this.children,e)}}("function"==typeof e?e:Rr(e)))},filter:function(e){"function"!=typeof e&&(e=xr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&c.push(a);return new Ui(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Hr);var n=t?Br:Vr,r=this._parents,i=this._groups;"function"!=typeof e&&(e=qr(e));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var l=r[u],d=i[u],f=d.length,h=Ir(e.call(l,l&&l.__data__,u,r)),p=h.length,m=s[u]=new Array(p),g=o[u]=new Array(p),v=c[u]=new Array(f);n(l,d,m,g,v,h,t);for(var y,b,E=0,w=0;E<p;++E)if(y=m[E]){for(E>=w&&(w=E+1);!(b=g[w])&&++w<p;);y._next=b||null}}return(o=new Ui(o,r))._enter=s,o._exit=c,o},enter:function(){return new Ui(this._enter||this._groups.map(Ur),this._parents)},exit:function(){return new Ui(this._exit||this._groups.map(Ur),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){if(!(e instanceof Ui))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=t[s],l=n[s],d=u.length,f=o[s]=new Array(d),h=0;h<d;++h)(c=u[h]||l[h])&&(f[h]=c);for(;s<r;++s)o[s]=t[s];return new Ui(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=zr);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],c=s.length,u=i[a]=new Array(c),l=0;l<c;++l)(o=s[l])&&(u[l]=o);u.sort(t)}return new Ui(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=Yr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Jr:$r:"function"==typeof t?n.local?ei:Zr:n.local?Xr:Qr)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ni:"function"==typeof t?ii:ri)(e,t,null==n?"":n)):ai(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?oi:"function"==typeof t?ci:si)(e,t)):this.node()[e]},classed:function(e,t){var n=ui(e+"");if(arguments.length<2){for(var r=li(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?gi:t?pi:mi)(n,t))},text:function(e){return arguments.length?this.each(null==e?vi:("function"==typeof e?bi:yi)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ei:("function"==typeof e?Oi:wi)(e)):this.node().innerHTML},raise:function(){return this.each(Si)},lower:function(){return this.each(_i)},append:function(e){var t="function"==typeof e?e:Ci(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Ci(e),r=null==t?Ai:"function"==typeof t?t:Nr(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ni)},clone:function(e){return this.select(e?ji:Ii)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=Di(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?Ri:xi,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?Pi:Li)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var qi=Gi,Vi=function(e){return"string"==typeof e?new Ui([[document.querySelector(e)]],[document.documentElement]):new Ui([[e]],Fi)},Bi={value:()=>{}};function Hi(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new zi(r)}function zi(e){this._=e}function Ki(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Wi(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Yi(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Bi,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}zi.prototype=Hi.prototype={constructor:zi,on:function(e,t){var n,r=this._,i=Ki(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=Yi(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Yi(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=Wi(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zi(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var $i,Ji,Qi=Hi,Xi=0,Zi=0,ea=0,ta=0,na=0,ra=0,ia="object"==typeof performance&&performance.now?performance:Date,aa="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oa(){return na||(aa(sa),na=ia.now()+ra)}function sa(){na=0}function ca(){this._call=this._time=this._next=null}function ua(e,t,n){var r=new ca;return r.restart(e,t,n),r}function la(){na=(ta=ia.now())+ra,Xi=Zi=0;try{!function(){oa(),++Xi;for(var e,t=$i;t;)(e=na-t._time)>=0&&t._call.call(null,e),t=t._next;--Xi}()}finally{Xi=0,function(){var e,t,n=$i,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:$i=t);Ji=e,fa(r)}(),na=0}}function da(){var e=ia.now(),t=e-ta;t>1e3&&(ra-=t,ta=e)}function fa(e){Xi||(Zi&&(Zi=clearTimeout(Zi)),e-na>24?(e<1/0&&(Zi=setTimeout(la,e-ia.now()-ra)),ea&&(ea=clearInterval(ea))):(ea||(ta=ia.now(),ea=setInterval(da,1e3)),Xi=1,aa(la)))}ca.prototype=ua.prototype={constructor:ca,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?oa():+n)+(null==t?0:+t),this._next||Ji===this||(Ji?Ji._next=this:$i=this,Ji=this),this._call=e,this._time=n,fa()},stop:function(){this._call&&(this._call=null,this._time=1/0,fa())}};var ha=function(e,t,n){var r=new ca;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r},pa=Qi("start","end","cancel","interrupt"),ma=[],ga=function(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(c){var u,l,d,f;if(1!==n.state)return s();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return ha(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(ha((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),u=0,l=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=ua((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:pa,tween:ma,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function va(e,t){var n=ba(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ya(e,t){var n=ba(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ba(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var Ea,wa,Oa,Sa,_a=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},ka=180/Math.PI,Ta={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ca=function(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*ka,skewX:Math.atan(c)*ka,scaleX:o,scaleY:s}};function Aa(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],c=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push("translate(",null,t,null,n);s.push({i:c-4,x:_a(e,i)},{i:c-2,x:_a(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,c),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:_a(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,c),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:_a(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,c),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:_a(e,n)},{i:s-2,x:_a(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,c),a=o=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var Na=Aa((function(e){return"none"===e?Ta:(Ea||(Ea=document.createElement("DIV"),wa=document.documentElement,Oa=document.defaultView),Ea.style.transform=e,e=Oa.getComputedStyle(wa.appendChild(Ea),null).getPropertyValue("transform"),wa.removeChild(Ea),e=e.slice(7,-1).split(","),Ca(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Ia=Aa((function(e){return null==e?Ta:(Sa||(Sa=document.createElementNS("http://www.w3.org/2000/svg","g")),Sa.setAttribute("transform",e),(e=Sa.transform.baseVal.consolidate())?(e=e.matrix,Ca(e.a,e.b,e.c,e.d,e.e,e.f)):Ta)}),", ",")",")");function ja(e,t){var n,r;return function(){var i=ya(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Da(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=ya(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}a.tween=i}}function xa(e,t,n){var r=e._id;return e.each((function(){var e=ya(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ba(e,r).value[t]}}var Ra=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Ma(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function La(){}var Pa="\\s*([+-]?\\d+)\\s*",Fa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ga=/^#([0-9a-f]{3,8})$/,qa=new RegExp("^rgb\\("+[Pa,Pa,Pa]+"\\)$"),Va=new RegExp("^rgb\\("+[Ua,Ua,Ua]+"\\)$"),Ba=new RegExp("^rgba\\("+[Pa,Pa,Pa,Fa]+"\\)$"),Ha=new RegExp("^rgba\\("+[Ua,Ua,Ua,Fa]+"\\)$"),za=new RegExp("^hsl\\("+[Fa,Ua,Ua]+"\\)$"),Ka=new RegExp("^hsla\\("+[Fa,Ua,Ua,Fa]+"\\)$"),Wa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ya(){return this.rgb().formatHex()}function $a(){return this.rgb().formatRgb()}function Ja(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ga.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Qa(t):3===n?new to(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Xa(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Xa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=qa.exec(e))?new to(t[1],t[2],t[3],1):(t=Va.exec(e))?new to(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ba.exec(e))?Xa(t[1],t[2],t[3],t[4]):(t=Ha.exec(e))?Xa(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=za.exec(e))?ao(t[1],t[2]/100,t[3]/100,1):(t=Ka.exec(e))?ao(t[1],t[2]/100,t[3]/100,t[4]):Wa.hasOwnProperty(e)?Qa(Wa[e]):"transparent"===e?new to(NaN,NaN,NaN,0):null}function Qa(e){return new to(e>>16&255,e>>8&255,255&e,1)}function Xa(e,t,n,r){return r<=0&&(e=t=n=NaN),new to(e,t,n,r)}function Za(e){return e instanceof La||(e=Ja(e)),e?new to((e=e.rgb()).r,e.g,e.b,e.opacity):new to}function eo(e,t,n,r){return 1===arguments.length?Za(e):new to(e,t,n,null==r?1:r)}function to(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function no(){return"#"+io(this.r)+io(this.g)+io(this.b)}function ro(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function io(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ao(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new so(e,t,n,r)}function oo(e){if(e instanceof so)return new so(e.h,e.s,e.l,e.opacity);if(e instanceof La||(e=Ja(e)),!e)return new so;if(e instanceof so)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new so(o,s,c,e.opacity)}function so(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function co(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function uo(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Ra(La,Ja,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ya,formatHex:Ya,formatHsl:function(){return oo(this).formatHsl()},formatRgb:$a,toString:$a}),Ra(to,eo,Ma(La,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new to(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new to(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:no,formatHex:no,formatRgb:ro,toString:ro})),Ra(so,(function(e,t,n,r){return 1===arguments.length?oo(e):new so(e,t,n,null==r?1:r)}),Ma(La,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new so(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new so(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new to(co(e>=240?e-240:e+120,i,r),co(e,i,r),co(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var lo=function(e){return function(){return e}};function fo(e,t){return function(n){return e+n*t}}function ho(e){return 1==(e=+e)?po:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):lo(isNaN(t)?n:t)}}function po(e,t){var n=t-e;return n?fo(e,n):lo(isNaN(e)?t:e)}var mo=function e(t){var n=ho(t);function r(e,t){var r=n((e=eo(e)).r,(t=eo(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=po(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function go(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=eo(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}go((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return uo((n-r/t)*t,o,i,a,s)}})),go((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return uo((n-r/t)*t,i,a,o,s)}}));var vo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yo=new RegExp(vo.source,"g");var bo=function(e,t){var n,r,i,a=vo.lastIndex=yo.lastIndex=0,o=-1,s=[],c=[];for(e+="",t+="";(n=vo.exec(e))&&(r=yo.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:_a(n,r)})),a=yo.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})},Eo=function(e,t){var n;return("number"==typeof t?_a:t instanceof Ja?mo:(n=Ja(t))?(t=n,mo):bo)(e,t)};function wo(e){return function(){this.removeAttribute(e)}}function Oo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function So(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function _o(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function ko(e,t,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return(o=this.getAttribute(e))===(s=c+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,c));this.removeAttribute(e)}}function To(e,t,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return(o=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,c));this.removeAttributeNS(e.space,e.local)}}function Co(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ao(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function No(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ao(e,i)),n}return i._value=t,i}function Io(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Co(e,i)),n}return i._value=t,i}function jo(e,t){return function(){va(this,e).delay=+t.apply(this,arguments)}}function Do(e,t){return t=+t,function(){va(this,e).delay=t}}function xo(e,t){return function(){ya(this,e).duration=+t.apply(this,arguments)}}function Ro(e,t){return t=+t,function(){ya(this,e).duration=t}}function Mo(e,t){if("function"!=typeof t)throw new Error;return function(){ya(this,e).ease=t}}function Lo(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?va:ya;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}var Po=qi.prototype.constructor;function Fo(e){return function(){this.style.removeProperty(e)}}function Uo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Go(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Uo(e,a,n)),r}return a._value=t,a}function qo(e){return function(t){this.textContent=e.call(this,t)}}function Vo(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&qo(r)),t}return r._value=e,r}var Bo=0;function Ho(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zo(){return++Bo}var Ko=qi.prototype;Ho.prototype=function(e){return qi().transition(e)}.prototype={constructor:Ho,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Nr(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,c,u=r[o],l=u.length,d=a[o]=new Array(l),f=0;f<l;++f)(s=u[f])&&(c=e.call(s,s.__data__,f,u))&&("__data__"in s&&(c.__data__=s.__data__),d[f]=c,ga(d[f],t,n,f,d,ba(s,n)));return new Ho(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Dr(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c,u=r[s],l=u.length,d=0;d<l;++d)if(c=u[d]){for(var f,h=e.call(c,c.__data__,d,u),p=ba(c,n),m=0,g=h.length;m<g;++m)(f=h[m])&&ga(f,t,n,m,h,p);a.push(h),o.push(c)}return new Ho(a,o,t,n)},filter:function(e){"function"!=typeof e&&(e=xr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,c=r[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&c.push(a);return new Ho(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,u=t[s],l=n[s],d=u.length,f=o[s]=new Array(d),h=0;h<d;++h)(c=u[h]||l[h])&&(f[h]=c);for(;s<r;++s)o[s]=t[s];return new Ho(o,this._parents,this._name,this._id)},selection:function(){return new Po(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=zo(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var l=ba(o,t);ga(o,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ho(r,this._parents,e,n)},call:Ko.call,nodes:Ko.nodes,node:Ko.node,size:Ko.size,empty:Ko.empty,each:Ko.each,on:function(e,t){var n=this._id;return arguments.length<2?ba(this.node(),n).on.on(e):this.each(Lo(n,e,t))},attr:function(e,t){var n=Yr(e),r="transform"===n?Ia:Eo;return this.attrTween(e,"function"==typeof t?(n.local?To:ko)(n,r,xa(this,"attr."+e,t)):null==t?(n.local?Oo:wo)(n):(n.local?_o:So)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Yr(e);return this.tween(n,(r.local?No:Io)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Na:Eo;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=ai(this,e),o=(this.style.removeProperty(e),ai(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,Fo(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=ai(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=ai(this,e)),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}(e,r,xa(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var c=ya(this,e),u=c.on,l=null==c.value[o]?a||(a=Fo(t)):void 0;u===n&&i===l||(r=(n=u).copy()).on(s,i=l),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=ai(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Go(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(xa(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Vo(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=ba(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?ja:Da)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?jo:Do)(t,e)):ba(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?xo:Ro)(t,e)):ba(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Mo(t,e)):ba(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ya(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},c={value:function(){0==--i&&a()}};n.each((function(){var n=ya(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===i&&a()}))},[Symbol.iterator]:Ko[Symbol.iterator]};var Wo={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Yo(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}qi.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)}))},qi.prototype.transition=function(e){var t,n;e instanceof Ho?(t=e._id,e=e._name):(t=zo(),(n=Wo).time=oa(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)(o=s[u])&&ga(o,e,t,u,s,n||Yo(o,t));return new Ho(r,this._parents,e,t)};var $o=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Jo=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return $o(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}};var Qo=Jo($o),Xo=Qo.right,Zo=(Qo.left,Xo);var es=Array.prototype,ts=(es.slice,es.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}),ns=Math.sqrt(50),rs=Math.sqrt(10),is=Math.sqrt(2),as=function(e,t,n){var r,i,a,o,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=os(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(e-s)/o;return r&&a.reverse(),a};function os(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ns?10:a>=rs?5:a>=is?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ns?10:a>=rs?5:a>=is?2:1)}function ss(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ns?i*=10:a>=rs?i*=5:a>=is&&(i*=2),t<e?-i:i}function cs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function us(){}function ls(e,t){var n=new us;if(e instanceof us)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}us.prototype=ls.prototype={constructor:us,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var ds=ls;function fs(){}var hs=ds.prototype;function ps(e,t){var n=new fs;if(e instanceof fs)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}fs.prototype=ps.prototype={constructor:fs,has:hs.has,add:function(e){return this["$"+(e+="")]=e,this},remove:hs.remove,clear:hs.clear,values:hs.keys,size:hs.size,empty:hs.empty,each:hs.each};var ms=Array.prototype,gs=ms.map,vs=ms.slice,ys={name:"implicit"};function bs(){var e=ds(),t=[],n=[],r=ys;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==ys)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=ds();for(var r,a,o=-1,s=n.length;++o<s;)e.has(a=(r=n[o])+"")||e.set(a,t.push(r));return i},i.range=function(e){return arguments.length?(n=vs.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return bs(t,n).unknown(r)},cs.apply(i,arguments),i}function Es(){var e,t,n=bs().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,c=0,u=.5;function l(){var n=r().length,l=a[1]<a[0],d=a[l-0],f=a[1-l];e=(f-d)/Math.max(1,n-s+2*c),o&&(e=Math.floor(e)),d+=(f-d-e*(n-s))*u,t=e*(1-s),o&&(d=Math.round(d),t=Math.round(t));var h=ts(n).map((function(t){return d+e*t}));return i(l?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],l()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.min(1,c=+e),l()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),l()):s},n.paddingOuter=function(e){return arguments.length?(c=+e,l()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.copy=function(){return Es(r(),a).round(o).paddingInner(s).paddingOuter(c).align(u)},cs.apply(l(),arguments)}var ws=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}};function Os(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ss(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Ts(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}var _s=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},ks=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ts(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Ts=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?lo(t):("number"===r?_a:"string"===r?(n=Ja(t))?(t=n,mo):bo:t instanceof Ja?mo:t instanceof Date?_s:Os(t)?ws:Array.isArray(t)?Ss:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ks:_a)(e,t)},Cs=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},As=function(e){return+e},Ns=[0,1];function Is(e){return e}function js(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Ds(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function xs(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=js(i,r),a=n(o,a)):(r=js(r,i),a=n(a,o)),function(e){return a(r(e))}}function Rs(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=js(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Zo(e,t,1,r)-1;return a[n](i[n](t))}}function Ms(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ls(){var e,t,n,r,i,a,o=Ns,s=Ns,c=Ts,u=Is;function l(){return r=Math.min(o.length,s.length)>2?Rs:xs,i=a=null,d}function d(t){return isNaN(t=+t)?n:(i||(i=r(o.map(e),s,c)))(e(u(t)))}return d.invert=function(n){return u(t((a||(a=r(s,o.map(e),_a)))(n)))},d.domain=function(e){return arguments.length?(o=gs.call(e,As),u===Is||(u=Ds(o)),l()):o.slice()},d.range=function(e){return arguments.length?(s=vs.call(e),l()):s.slice()},d.rangeRound=function(e){return s=vs.call(e),c=Cs,l()},d.clamp=function(e){return arguments.length?(u=e?Ds(o):Is,d):u!==Is},d.interpolate=function(e){return arguments.length?(c=e,l()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,l()}}function Ps(e,t){return Ls()(e,t)}var Fs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Us(e){if(!(t=Fs.exec(e)))throw new Error("invalid format: "+e);var t;return new Gs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Gs(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Us.prototype=Gs.prototype,Gs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function qs(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var Vs,Bs,Hs,zs,Ks=function(e){return(e=qs(Math.abs(e)))?e[1]:NaN},Ws=function(e,t){var n=qs(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ys={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ws(100*e,t)},r:Ws,s:function(e,t){var n=qs(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Vs=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+qs(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},$s=function(e){return e},Js=Array.prototype.map,Qs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Bs=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?$s:(t=Js.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?$s:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Js.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Us(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Ys[y]||(void 0===g&&(g=12),v=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",E="$"===f?a:/[%p]/.test(y)?c:"",w=Ys[y],O=/[defgprs%]/.test(y);function S(e){var i,a,c,f=b,S=E;if("c"===y)S=w(e)+S,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0==+e&&"+"!==d&&(_=!1),f=(_?"("===d?d:u:"-"===d||"("===d?"":d)+f,S=("s"===y?Qs[8+Vs/3]:"")+S+(_&&"("===d?")":""),O)for(i=-1,a=e.length;++i<a;)if(48>(c=e.charCodeAt(i))||c>57){S=(46===c?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!h&&(e=r(e,1/0));var k=f.length+e.length+S.length,T=k<p?new Array(p-k+1).join(t):"";switch(m&&h&&(e=r(T+e,T.length?p-S.length:1/0),T=""),n){case"<":e=f+e+S+T;break;case"=":e=f+T+e+S;break;case"^":e=T.slice(0,k=T.length>>1)+f+e+S+T.slice(k);break;default:e=T+f+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=Us(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Ks(t)/3))),i=Math.pow(10,-r),a=Qs[8+r/3];return function(e){return n(i*e)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Hs=Bs.format,zs=Bs.formatPrefix;var Xs=function(e,t,n,r){var i,a=ss(e,t,n);switch((r=Us(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ks(t)/3)))-Ks(Math.abs(e)))}(a,o))||(r.precision=i),zs(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ks(t)-Ks(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Ks(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Hs(r)};function Zs(e){var t=e.domain;return e.ticks=function(e){var n=t();return as(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Xs(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,o=i.length-1,s=i[a],c=i[o];return c<s&&(r=s,s=c,c=r,r=a,a=o,o=r),(r=os(s,c,n))>0?r=os(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=os(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(c/r)*r,t(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(c*r)/r,t(i)),e},e}var ec=new Date,tc=new Date;function nc(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=function(n){return nc((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return ec.setTime(+t),tc.setTime(+r),e(ec),e(tc),Math.floor(n(ec,tc))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var rc=nc((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));rc.every=function(e){return isFinite(e=Math.floor(e))&&e>0?nc((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ic=rc,ac=(rc.range,nc((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})));ac.range;function oc(e){return nc((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var sc=oc(0),cc=oc(1),uc=oc(2),lc=oc(3),dc=oc(4),fc=oc(5),hc=oc(6),pc=(sc.range,cc.range,uc.range,lc.range,dc.range,fc.range,hc.range,nc((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),mc=pc,gc=(pc.range,nc((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),vc=(gc.range,nc((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),yc=(vc.range,nc((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),bc=(yc.range,nc((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));bc.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?nc((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):bc:null};bc.range;function Ec(e){return nc((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var wc=Ec(0),Oc=Ec(1),Sc=Ec(2),_c=Ec(3),kc=Ec(4),Tc=Ec(5),Cc=Ec(6),Ac=(wc.range,Oc.range,Sc.range,_c.range,kc.range,Tc.range,Cc.range,nc((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),Nc=Ac,Ic=(Ac.range,nc((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Ic.every=function(e){return isFinite(e=Math.floor(e))&&e>0?nc((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var jc=Ic;Ic.range;function Dc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Mc,Lc={"-":"",_:" ",0:"0"},Pc=/^\s*\d+/,Fc=/^%/,Uc=/[\\^$*+?|[\]().{}]/g;function Gc(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function qc(e){return e.replace(Uc,"\\$&")}function Vc(e){return new RegExp("^(?:"+e.map(qc).join("|")+")","i")}function Bc(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Hc(e,t,n){var r=Pc.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zc(e,t,n){var r=Pc.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Kc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Yc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $c(e,t,n){var r=Pc.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Jc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qc(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xc(e,t,n){var r=Pc.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Zc(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function eu(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tu(e,t,n){var r=Pc.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nu(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ru(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iu(e,t,n){var r=Pc.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function au(e,t,n){var r=Pc.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ou(e,t,n){var r=Pc.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function su(e,t,n){var r=Fc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cu(e,t,n){var r=Pc.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uu(e,t,n){var r=Pc.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lu(e,t){return Gc(e.getDate(),t,2)}function du(e,t){return Gc(e.getHours(),t,2)}function fu(e,t){return Gc(e.getHours()%12||12,t,2)}function hu(e,t){return Gc(1+mc.count(ic(e),e),t,3)}function pu(e,t){return Gc(e.getMilliseconds(),t,3)}function mu(e,t){return pu(e,t)+"000"}function gu(e,t){return Gc(e.getMonth()+1,t,2)}function vu(e,t){return Gc(e.getMinutes(),t,2)}function yu(e,t){return Gc(e.getSeconds(),t,2)}function bu(e){var t=e.getDay();return 0===t?7:t}function Eu(e,t){return Gc(sc.count(ic(e)-1,e),t,2)}function wu(e){var t=e.getDay();return t>=4||0===t?dc(e):dc.ceil(e)}function Ou(e,t){return e=wu(e),Gc(dc.count(ic(e),e)+(4===ic(e).getDay()),t,2)}function Su(e){return e.getDay()}function _u(e,t){return Gc(cc.count(ic(e)-1,e),t,2)}function ku(e,t){return Gc(e.getFullYear()%100,t,2)}function Tu(e,t){return Gc((e=wu(e)).getFullYear()%100,t,2)}function Cu(e,t){return Gc(e.getFullYear()%1e4,t,4)}function Au(e,t){var n=e.getDay();return Gc((e=n>=4||0===n?dc(e):dc.ceil(e)).getFullYear()%1e4,t,4)}function Nu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gc(t/60|0,"0",2)+Gc(t%60,"0",2)}function Iu(e,t){return Gc(e.getUTCDate(),t,2)}function ju(e,t){return Gc(e.getUTCHours(),t,2)}function Du(e,t){return Gc(e.getUTCHours()%12||12,t,2)}function xu(e,t){return Gc(1+Nc.count(jc(e),e),t,3)}function Ru(e,t){return Gc(e.getUTCMilliseconds(),t,3)}function Mu(e,t){return Ru(e,t)+"000"}function Lu(e,t){return Gc(e.getUTCMonth()+1,t,2)}function Pu(e,t){return Gc(e.getUTCMinutes(),t,2)}function Fu(e,t){return Gc(e.getUTCSeconds(),t,2)}function Uu(e){var t=e.getUTCDay();return 0===t?7:t}function Gu(e,t){return Gc(wc.count(jc(e)-1,e),t,2)}function qu(e){var t=e.getUTCDay();return t>=4||0===t?kc(e):kc.ceil(e)}function Vu(e,t){return e=qu(e),Gc(kc.count(jc(e),e)+(4===jc(e).getUTCDay()),t,2)}function Bu(e){return e.getUTCDay()}function Hu(e,t){return Gc(Oc.count(jc(e)-1,e),t,2)}function zu(e,t){return Gc(e.getUTCFullYear()%100,t,2)}function Ku(e,t){return Gc((e=qu(e)).getUTCFullYear()%100,t,2)}function Wu(e,t){return Gc(e.getUTCFullYear()%1e4,t,4)}function Yu(e,t){var n=e.getUTCDay();return Gc((e=n>=4||0===n?kc(e):kc.ceil(e)).getUTCFullYear()%1e4,t,4)}function $u(){return"+0000"}function Ju(){return"%"}function Qu(e){return+e}function Xu(e){return Math.floor(+e/1e3)}!function(e){Mc=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Vc(i),l=Bc(i),d=Vc(a),f=Bc(a),h=Vc(o),p=Bc(o),m=Vc(s),g=Bc(s),v=Vc(c),y=Bc(c),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:lu,e:lu,f:mu,g:Tu,G:Au,H:du,I:fu,j:hu,L:pu,m:gu,M:vu,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Qu,s:Xu,S:yu,u:bu,U:Eu,V:Ou,w:Su,W:_u,x:null,X:null,y:ku,Y:Cu,Z:Nu,"%":Ju},E={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Iu,e:Iu,f:Mu,g:Ku,G:Yu,H:ju,I:Du,j:xu,L:Ru,m:Lu,M:Pu,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Qu,s:Xu,S:Fu,u:Uu,U:Gu,V:Vu,w:Bu,W:Hu,x:null,X:null,y:zu,Y:Wu,Z:$u,"%":Ju},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:eu,e:eu,f:ou,g:Jc,G:$c,H:nu,I:nu,j:tu,L:au,m:Zc,M:ru,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:Xc,Q:cu,s:uu,S:iu,u:zc,U:Kc,V:Wc,w:Hc,W:Yc,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:Jc,Y:$c,Z:Qc,"%":su};function O(e,t){return function(n){var r,i,a,o=[],s=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(c,s)),null!=(i=Lc[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),c=s+1);return o.push(e.slice(c,s)),o.join("")}}function S(e,t){return function(n){var r,i,a=Rc(1900,void 0,1);if(_(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=xc(Rc(a.y,0,1))).getUTCDay(),r=i>4||0===i?Oc.ceil(r):Oc(r),r=Nc.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Dc(Rc(a.y,0,1))).getDay(),r=i>4||0===i?cc.ceil(r):cc(r),r=mc.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?xc(Rc(a.y,0,1)).getUTCDay():Dc(Rc(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,xc(a)):Dc(a)}}function _(e,t,n,r){for(var i,a,o=0,s=t.length,c=n.length;o<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in Lc?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=O(n,b),b.X=O(r,b),b.c=O(t,b),E.x=O(n,E),E.X=O(r,E),E.c=O(t,E),{format:function(e){var t=O(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=O(e+="",E);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),Mc.format,Mc.parse,Mc.utcFormat,Mc.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Zu=nc((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),el=(Zu.range,nc((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),tl=(el.range,nc((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()})));tl.range;function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const il=[0,10,19,29],al=({xDomain:e,yDomain:t},{xRange:n,yRange:r},i)=>({xScale:Es().range([0,n]).domain(e).padding(i),yScale:function e(){var t=Ps(Is,Is);return t.copy=function(){return Ms(t,e())},cs.apply(t,arguments),Zs(t)}().domain([0,t]).range([r,0])});var ol=Array.prototype.slice,sl=function(e){return e};function cl(e){return"translate("+e+",0)"}function ul(e){return"translate(0,"+e+")"}function ll(e){return t=>+e(t)}function dl(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function fl(){return!this.__axis}function hl(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===e||4===e?-1:1,l=4===e||2===e?"x":"y",d=1===e||3===e?cl:ul;function f(f){var h=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,p=null==i?t.tickFormat?t.tickFormat.apply(t,n):sl:i,m=Math.max(a,0)+s,g=t.range(),v=+g[0]+c,y=+g[g.length-1]+c,b=(t.bandwidth?dl:ll)(t.copy(),c),E=f.selection?f.selection():f,w=E.selectAll(".domain").data([null]),O=E.selectAll(".tick").data(h,t).order(),S=O.exit(),_=O.enter().append("g").attr("class","tick"),k=O.select("line"),T=O.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(_),k=k.merge(_.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),T=T.merge(_.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),f!==E&&(w=w.transition(f),O=O.transition(f),k=k.transition(f),T=T.transition(f),S=S.transition(f).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=b(e))?d(e+c):this.getAttribute("transform")})),_.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:b(e))+c)}))),S.remove(),w.attr("d",4===e||2===e?o?"M"+u*o+","+v+"H"+c+"V"+y+"H"+u*o:"M"+c+","+v+"V"+y:o?"M"+v+","+u*o+"V"+c+"H"+y+"V"+u*o:"M"+v+","+c+"H"+y),O.attr("opacity",1).attr("transform",(function(e){return d(b(e)+c)})),k.attr(l+"2",u*a),T.attr(l,u*m).text(p),E.filter(fl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),E.each((function(){this.__axis=b}))}return f.scale=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return n=ol.call(arguments),f},f.tickArguments=function(e){return arguments.length?(n=null==e?[]:ol.call(e),f):n.slice()},f.tickValues=function(e){return arguments.length?(r=null==e?null:ol.call(e),f):r&&r.slice()},f.tickFormat=function(e){return arguments.length?(i=e,f):i},f.tickSize=function(e){return arguments.length?(a=o=+e,f):a},f.tickSizeInner=function(e){return arguments.length?(a=+e,f):a},f.tickSizeOuter=function(e){return arguments.length?(o=+e,f):o},f.tickPadding=function(e){return arguments.length?(s=+e,f):s},f.offset=function(e){return arguments.length?(c=+e,f):c},f}const pl=(e,t)=>{e.append("line").attr("y1",0).attr("class",t).style("opacity","0")},ml=(e,t,n,{ticks:r,tickSize:i})=>e.append("g").attr("class","yAxis").call(function(e){return hl(4,e)}(t).tickFormat(n).ticks(r).tickSize(i)),gl=(e,t,n)=>e.append("g").attr("class","xAxis").call(function(e){return hl(3,e)}(t).tickFormat(n)),vl=({currencyCode:e,numberFormat:t,data:n,timeframe:r,elementId:i,x:a,y:o})=>{const s=e?t(n.value):n.value,c=Vi("#"+i),u=Vi(`#${i} > .bucket`),l=Vi(`#${i} > .value`),d="30"===r?35:20;"30"===r?(u.text(n.bucket),c.style("min-width","68px")):(u.text(""),c.style("min-width","30px")),l.text(s),c.transition().duration(200).style("opacity","1");const f=parseFloat(c.style("width").slice(0,-2));return c.style("cursor","pointer").style("left",a-f/2+"px").style("top",o-d+"px").style("opacity","1"),c},yl=({tx:e,ty:t},{x1:n,x2:r,y2:i},a)=>Vi("."+a).attr("transform",()=>`translate(${e},${t})`).attr("x1",n).attr("x2",r).attr("y2",i).style("opacity","1"),bl=e=>{Vi(".xAxis").selectAll("text").filter((t,n)=>n===e.i).transition().duration(200).style("font-weight","var(--uxp-font-weight-bold)").style("color","#2b2b2b")},El=Math.PI,wl=2*El,Ol=wl-1e-6;function Sl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _l(){return new Sl}Sl.prototype=_l.prototype={constructor:Sl,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-e,c=r-t,u=a-e,l=o-t,d=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(l*s-c*u)>1e-6&&i){var f=n-a,h=r-o,p=s*s+c*c,m=f*f+h*h,g=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((El-Math.acos((p+d-m)/(2*g*v)))/2),b=y/v,E=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*u)+","+(t+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>u*h)+","+(this._x1=e+E*s)+","+(this._y1=t+E*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+o,u=t+s,l=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+c+","+u),n&&(d<0&&(d=d%wl+wl),d>Ol?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=El)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var kl=_l,Tl=(Array.prototype.slice,function(e){return function(){return e}});function Cl(e){this._context=e}Cl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Al=function(e){return new Cl(e)};function Nl(e){return e[0]}function Il(e){return e[1]}var jl=function(e,t){var n=Tl(!0),r=null,i=Al,a=null;function o(o){var s,c,u,l=(o=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(o)).length,d=!1;for(null==r&&(a=i(u=kl())),s=0;s<=l;++s)!(s<l&&n(c=o[s],s,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,s,o),+t(c,s,o));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?Nl:Tl(e),t="function"==typeof t?t:void 0===t?Il:Tl(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Tl(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Tl(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Tl(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o};const Dl=({trendLine:e,timeframe:t,currencyCode:n,chartType:r})=>{const i=Object(a.useMemo)(()=>gr(n),[n]),s=Object(a.useRef)(document.createElement("div")),c=(e=>{const[t,n]=Object(a.useState)({width:550,height:250});return Object(a.useEffect)(()=>{const t=()=>{if(!e||!e.current)return;const t=e.current.offsetWidth,r=e.current.offsetHeight;n({width:t,height:r})},r=Fn()(t,150);return window.addEventListener("resize",r),t(),()=>{window.removeEventListener("resize",r),r.cancel()}},[e]),t})(s),u=((e,t)=>t[e].map((e,t)=>rl(rl({},e),{},{i:t})))(t,e.trends),l=u.map(e=>e.value),{width:d,height:f,stepValue:h,maxValue:p,margin:m}=((e,t,n,{containerWidth:r,containerHeight:i})=>{const a=Math.max(...e,4)||125,o=a/4,s=n?t(a+o):Math.trunc(a+o),c={top:0===Math.max(...e)?5:30,right:0,bottom:30,left:6.2*(s.toString().length+1)};return{width:r-c.left-c.right,height:i-c.top-c.bottom,stepValue:o,maxValue:a,margin:c}})(l,i,n,{containerWidth:c.width,containerHeight:c.height}),g=0===Math.max(...l),v=u.map(e=>e.bucket),y=p+h||1,b={xDomain:v,yDomain:y},E={xRange:d,yRange:f},{xScale:w,yScale:O}=al(b,E,0),S={timeframe:t,currencyCode:n,margin:m,numberFormat:i,xScale:w,yScale:O,height:f,trendData:u,color:e.color},_=(({timeframe:e,currencyCode:t,margin:n,numberFormat:r,xScale:i,yScale:o,height:s,trendData:c,color:u})=>({handleMouseOver:Object(a.useCallback)((a,s)=>{vl({currencyCode:t,numberFormat:r,data:s,timeframe:e,elementId:"tooltip-mobile",x:i(s.bucket)+n.left+i.bandwidth()/2,y:14}),vl({currencyCode:t,numberFormat:r,data:s,timeframe:e,elementId:"tooltip",x:i(s.bucket)+n.left+i.bandwidth()/2,y:o(s.value)});const c={x1:i(s.bucket),x2:i(s.bucket),y2:o(s.value)},u={tx:i.bandwidth()/2,ty:0},l=yl(u,c,"verticalLine-mobile");l.attr("stroke","#AFAFAF"),l.style("stroke-dasharray","3, 3"),bl(s)},[e,t,r,n.left,i,o]),drawData:Object(a.useCallback)(t=>{const n="365"===e?8:6,r=t.selectAll("rect").data(c).enter().append("g").classed("rect",!0);return r.append("rect").attr("x",e=>i(e.bucket)+i.bandwidth()/2-n/2).attr("rx",4).attr("y",e=>o(e.value)).attr("width",n).attr("height",e=>s-o(e.value)).attr("fill",u),Vi(".xAxis").selectAll(".tick").filter((t,n)=>!il.includes(n)||"365"===e).selectAll("line").remove(),r},[u,s,e,c,i,o])}))(S),k=(({timeframe:e,currencyCode:t,margin:n,numberFormat:r,xScale:i,yScale:o,height:s,trendData:c,color:u})=>({handleMouseOver:Object(a.useCallback)((a,c)=>{Vi(".circle").style("opacity","1").attr("cx",i(c.bucket)+i.bandwidth()/2).attr("cy",o(c.value)),vl({currencyCode:t,numberFormat:r,data:c,timeframe:e,elementId:"tooltip",x:i(c.bucket)+n.left+i.bandwidth()/2,y:o(c.value)}),bl(c);const u={x1:i(c.bucket),x2:i(c.bucket),y2:s-o(c.value)-6},l={tx:i.bandwidth()/2,ty:o(c.value)+6};yl(l,u,"verticalLine").attr("stroke","#444444");const d=yl(l,u,"verticalLine-mobile");d.attr("stroke","#AFAFAF"),d.style("stroke-dasharray","3, 3")},[t,s,n.left,r,e,i,o]),drawData:Object(a.useCallback)(e=>{const t=jl().x(e=>i(e.bucket)+i.bandwidth()/2).y(e=>o(e.value)),n={width:4,color:u};return e.selectAll(".line").data([c]).join("path").attr("class","line").attr("d",e=>t(e)).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.width),pl(e,"verticalLine"),e.append("circle").attr("class","circle").attr("r",5).attr("fill",u).attr("stroke","#FFFFFF").style("opacity","0").attr("stroke-width",1),e.selectAll("rect").data(c).enter()},[c,u,i,o])}))(S),T="Bar"===r?_:k,C=Object(a.useCallback)((e,t)=>{Vi("#tooltip").transition().duration(500).style("opacity",0),Vi(".verticalLine-mobile").style("opacity","0");var n;Vi("#tooltip-mobile").transition().duration(500).style("opacity",0),n=t,Vi(".xAxis").selectAll("text").filter((e,t)=>t===n.i).transition().duration(500).style("font-weight","var(--uxp-font-weight-normal)").style("color","#767676")},[]),A=Object(a.useCallback)(()=>{var e;(e=`#${r}Chart > svg > *`,"string"==typeof e?new Ui([document.querySelectorAll(e)],[document.documentElement]):new Ui([null==e?[]:Ir(e)],Fi)).remove();const a=((e,t,n)=>Vi(e).append("svg").attr("width",t).attr("height",n).append("g"))(`#${r}Chart`,d+m.left+m.right,f+m.top+m.bottom);a.attr("transform",`translate(${m.left},${m.top})`);const o=gl(a,w,(e,n)=>il.includes(n)||"365"===t?e:"");o.attr("transform",`translate(0,${f})`);if(ml(a,O,e=>n?i(e):e,{tickSize:-d,ticks:5}),!g){o.selectAll("text").data(u).on("mouseover touchstart",T.handleMouseOver).on("mouseout touchmove",C);const e=T.drawData(a);pl(a,"verticalLine-mobile");((e,{xCallback:t,yCallback:n},{height:r,width:i})=>e.append("rect").attr("class","invisible-rect").attr("x",t).attr("y",n).attr("width",i).attr("height",r))(e,{xCallback:e=>w(e.bucket),yCallback:()=>O(y)},{width:w.bandwidth(),height:f}).on("mouseover touchstart",T.handleMouseOver).on("mouseout touchmove",C)}},[r,d,m.left,m.right,m.top,m.bottom,f,w,O,g,t,n,i,u,T,C,y]);return Object(a.useEffect)(()=>{A()}),o.a.createElement("div",{id:r+"Chart",ref:s,className:"metrics-chart"},"Bar"===r&&o.a.createElement("div",{id:"tooltip-mobile",className:"tooltip"},o.a.createElement("div",{className:"value"}),o.a.createElement("div",{className:"bucket"})),o.a.createElement("div",{id:"tooltip",className:"tooltip"},o.a.createElement("div",{className:"value"}),o.a.createElement("div",{className:"bucket"})))};var xl=n("2Fyz"),Rl=n.n(xl);const{DropdownItem:Ml}=Rl.a,Ll=({onDropdownChange:e,timeframeIndex:t})=>{const{trackClick:n}=xt(),r=Object(a.useCallback)(()=>{n({eid:"nav_element.click",properties:{navId:"metrics_timeframe"}})},[n]);return o.a.createElement("div",{className:"MetricsTimeFrameSelector",onClick:r},o.a.createElement(Rl.a,{type:"select",name:"datePicker",onChange:e,enableFullscreen:!1,selected:[parseInt(t,10)]},o.a.createElement(Ml,null,o.a.createElement(u.FormattedMessage,{id:"LAST_12_MONTHS"})),o.a.createElement(Ml,null,o.a.createElement(u.FormattedMessage,{id:"LAST_30_DAYS"}))))},Pl=({metricsDetails:e,activeTab:t,timeframe:n,setActiveTab:r,setTimeframe:i})=>{const s=e[t],{deepDiveContent:{trendLines:c}}=s,[l,d]=Object(a.useState)(0),f=Rt(()=>({eid:"recommendation.impression",properties:{cardStyle:"details",cardId:s.id}}),[]),{trackClick:h}=xt(),p=c.filter(e=>{let t=0;return Object.values(e.trends[365]).forEach(e=>{t+=e.value}),t>0}),m=c.length>1&&p.length>0?p:c,g=e=>{const t=m.findIndex(t=>t.label===e.target.value);d(t)},v=m.map((e,t)=>{return{label:e.label,name:"trendLines",value:e.label,defaultChecked:0===t,onChange:g,disabled:!1,className:(n=e.label,"MetricsDeepDiveDetails-radio-"+n.toLowerCase().replace(" ","-"))};var n});Object(a.useEffect)(()=>{m.forEach(({color:e,label:t},n)=>{const r=document.querySelector(`#${t.replace(/\s/g,"-")} + .ux-control-indicator`);null!=r&&(n===l&&1!==v.length?(r.removeAttribute("style"),r.setAttribute("style",`border: 1px solid ${e}; background-color: ${e};`)):n===l&&1===v.length?(r.removeAttribute("style"),r.setAttribute("style",`border: none; background-color: ${e};`)):r.removeAttribute("style"))})},[m,l,v.length]);return o.a.createElement("div",{ref:f,className:"MetricsDeepDiveDetails"},o.a.createElement(zn,{onChange:e=>{h({eid:"nav_element.click",properties:{navId:"metrics_tabs"}}),d(0),r(e)},selectedIdx:t,componentType:Kn,className:"Tabs"},o.a.createElement(Kn,null,e.map(({title:e,id:t},n)=>o.a.createElement(Yn,{"data-aid":t,key:n,className:"Tab"},o.a.createElement("div",null,e)))),e.map(({deepDiveContent:e,dataPoints:t},r)=>{const{graphTitle:a,graphType:s,informationalText:d}=e,{last30Days:f,last365Days:h,currencyCode:p}=t,g="30"===n?f:h,y=g>0?`${gr(p)(g)} ${a}`:o.a.createElement(u.FormattedMessage,{id:"NO_DATA"}),b=X()("MetricsDeepDiveDetails-radio",{"MetricsDeepDiveDetails-single-radio":1===v.length});return o.a.createElement(Jn,{key:r},o.a.createElement("div",{className:"MetricsDeepDiveDetails-tabcontent"},o.a.createElement("h4",{className:"MetricsDeepDiveDetails-graph-title"},y),o.a.createElement(Ll,{onDropdownChange:i,timeframeIndex:Wl.indexOf(n.toString()).toString()}),c.length>1?o.a.createElement("div",{className:b},o.a.createElement(Fl,{inputs:v})):o.a.createElement("div",{className:"MetricsDeepDiveDetails-radio-spacer"}),o.a.createElement("div",{className:"MetricsDeepDiveDetails-graph"},o.a.createElement(Dl,{chartType:"bar"===s?"Bar":"Line",trendLine:m[l],timeframe:n,currencyCode:p})),null!=d?o.a.createElement("span",{className:"MetricsDeepDiveDetails-info-text"},o.a.createElement(Z.a,{name:"information",size:11}),d):null))})))},Fl=({inputs:e})=>o.a.createElement(Cr.a,{orientation:"horizontal"},e.map(e=>o.a.createElement(kr.a,te()({key:e.label},e))));function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ql=({tiles:e,isOpen:t,activeTab:n,timeframe:r,closeDeepDiveModal:i,metricsSummaryElem:s,setActiveTab:c,setTimeframe:u,accountId:l})=>{const d=Object(a.useCallback)(e=>(async(e,t)=>{const{formattedRads:n,metadata:r}=await an({accountId:t,apiName:"fetchMetrics",app:"metrics",entities:["wsbvnextlite","mktgasstlite"],radset:"wam-general",signal:e}),i=[];return n.forEach(e=>{const{id:t,definitionId:n,componentType:r,_score:a,content:o}=e;if("guidance-task"===r.toLowerCase()&&a!==_.h.NOT_APPLICABLE){const{coverMetadata:e}=o,r=e[0].ctas[0].actions;null!=r&&r.length>0&&i.push({id:n,metadataId:t,title:e[0].title,description:e[0].body,cta:{text:e[0].ctas[0].text,url:r[0].value},isCompleted:a===_.h.COMPLETED})}}),{data:i,metadata:Gl(Gl({},r),{},{event:"api_success"})}})(e,l),[l]),[f,h]=Object(wn.a)(d);return t?o.a.createElement(br.a,{id:"MetricsDeepDiveModal",title:"",onClose:i,className:"MetricsDeepDiveModal",portalElem:s},o.a.createElement("div",{className:"MetricsDeepDiveModal-arrow-left",onClick:i},o.a.createElement(Z.a,{name:"link-arrow",size:24})),o.a.createElement("div",{className:"MetricsDeepDiveModal-content"},o.a.createElement(Pl,{metricsDetails:e,timeframe:r,activeTab:n,setActiveTab:c,setTimeframe:u}),o.a.createElement(Sr,{metricsDetails:e[n],fetchMetricsRecommendationsState:f,retry:h}))):null},Vl=({showInsightScoreModal:e,valueAchievedScore:t})=>{const n=t<20?20:t,r=Rt(()=>({eid:"recommendation.impression",properties:{cardId:"Metrics-ValueAchievedTile",cardStyle:"tile"}}),[]),i=n<40?"VA_SCORE_LEVEL_FAIR":n<60?"VA_SCORE_LEVEL_GOOD":n<80?"VA_SCORE_LEVEL_GREAT":"VA_SCORE_LEVEL_ELITE";return o.a.createElement("div",{className:"ValueAchievedSummaryTile",ref:r,onClick:e},o.a.createElement("div",{className:"ValueAchievedSummaryTile-desc"},o.a.createElement("p",{className:"ValueAchievedSummaryTile-title"},o.a.createElement(u.FormattedMessage,{id:i})),o.a.createElement("span",{className:"u-link ValueAchievedSummaryTile-link"},o.a.createElement(u.FormattedMessage,{id:"VA_SCORE_WHATS_THIS"}))),o.a.createElement(Bl,{score:n}))},Bl=({score:e})=>{const t=Object(a.useCallback)(e=>(e/100*180-90)*Math.PI/180,[]),n=Object(a.useCallback)(e=>{const n=t(e),r=36+36*Math.sin(n),i=36-36*Math.cos(n);return o.a.createElement("line",{key:e,x1:36,y1:40,x2:r,y2:i,stroke:"black"})},[t,36]),r=67.68*Math.PI,i=.5*r,s=`${i} ${r}`,c=i-Math.min(Math.max(e,0),100)/100*i,u=t(e),l=36+34.38*Math.sin(u),d=36-34.38*Math.cos(u);return o.a.createElement("div",{className:"ValueAchievedSummaryGauge"},o.a.createElement("div",{className:"Gauge-wrapper"},o.a.createElement("svg",{className:"ValueAchievedSummaryGauge-svg",viewBox:"0 0 76 46"},o.a.createElement("mask",{id:"gauge-ticks"},o.a.createElement("rect",{x:"0",y:"0",width:76,height:46,fill:"white"}),[16,38,62,84].map(n)),o.a.createElement("g",{mask:"url(#gauge-ticks)"},o.a.createElement("circle",{className:"gauge-base",cx:36,cy:32,fill:"transparent",r:33.84,stroke:"#d4dbe0",strokeWidth:4.32,strokeDasharray:s,transform:"rotate(180, 36, 36)",strokeLinecap:"round"}),o.a.createElement("circle",{className:"gauge-fill",cx:36,cy:32,fill:"transparent",r:33.84,stroke:"#00a4a6",strokeWidth:4.32,strokeDasharray:s,transform:"rotate(180, 36, 36)",strokeDashoffset:c,strokeLinecap:"round"})),o.a.createElement("circle",{className:"gauge-indicator",cx:l,cy:d+4,fill:"#fff",r:36*.09,stroke:"#00a4a6",strokeWidth:2.16}),o.a.createElement("text",{x:"36",y:"42",className:"Gauge-data"},e))))},Hl={visitors:"Metrics-VisitorsTile",sales:"Metrics-SalesTile",orders:"Metrics-OrdersTile",appointments:"Metrics-AppointmentsTile",social:"Metrics-SocialViewsTile"},zl=({tiles:e,timeframe:t,valueAchievedScore:n,showInsightScoreModal:r,setTimeframe:i,accountId:s})=>{Object(d.b)("metrics");const c=Object(a.useRef)(document.createElement("div")),u=window.location,l=new URL(u.href),f=l.searchParams.get("open_tile"),h=Hl[f];const p=e.findIndex(e=>e.id.includes(h));l.searchParams.delete("open_tile");const[m,g]=Object(a.useState)(p>-1),[v,y]=Object(a.useState)(p),b=Object(a.useCallback)(()=>{g(!1),p>-1&&window.history.pushState({},"",l.toString())},[p,l]),E=Object(a.useCallback)(e=>{g(!0),y(e)},[]);return o.a.createElement("div",{className:"MetricsSummaryTiles",ref:c},e.map((e,n)=>o.a.createElement(vr,{key:e.id,tile:e,setActiveTab:()=>E(n),timeframe:t})),null!=n?o.a.createElement(Vl,{valueAchievedScore:n,showInsightScoreModal:r}):null,o.a.createElement(ql,{isOpen:m,tiles:e,activeTab:v,timeframe:t,closeDeepDiveModal:b,metricsSummaryElem:c.current,setActiveTab:y,setTimeframe:i,accountId:s}))},Kl=({warning:e})=>{const{title:t,cta:{text:n,url:r},id:i}=e,s=Rt(()=>({eid:"warning.impression",properties:{cardId:e.id,cardStyle:"alert"}}),[]),{trackClick:c}=xt(),u=Ct(),l=Object(a.useCallback)(e=>{c({eid:"warning.click",properties:{cardId:i,cardStyle:"alert"}}),u(e)},[c,u,i]);return o.a.createElement("div",{"data-aid":i,ref:s,className:"MetricsSummaryWarning"},o.a.createElement("span",{className:"MetricsSummaryWarning-icon"},o.a.createElement(Z.a,{name:"alert",size:22})),o.a.createElement("span",{className:"MetricsSummaryWarning-title"},t),o.a.createElement("a",{href:r,onClick:l,className:"MetricsSummaryWarning-link"},n,o.a.createElement(Z.a,{name:"chevron-right",size:18})))},Wl=["365","30"],Yl=({state:e,retry:t,valueAchievedScore:n,showInsightScoreModal:r,accountId:i})=>{const s=Rt(()=>({eid:"root.impression"}),[]),[c,l]=Object(a.useState)(localStorage.getItem("metricsTimeframe")||"0");o.a.useEffect(()=>{localStorage.setItem("metricsTimeframe",c)},[c]);const d=({selected:e})=>l(e);if(e.isLoading)return o.a.createElement(mr,null);if(e.isError)return o.a.createElement(ln,{onRetry:t});if(null==e.data.metricsTiles||0===e.data.metricsTiles.length)return null;return e.data.metricsTiles.every(e=>0===e.dataPoints.last365Days)?null:o.a.createElement("div",{className:"MetricsSummaryContainer",ref:s},o.a.createElement("div",{className:"MetricsSummaryContainer-header"},o.a.createElement("span",{className:"MetricsSummaryContainer-header-title ms2 font-weight-bold legacy-text-black"},o.a.createElement(u.FormattedMessage,{id:"YOUR_PERFORMANCE"})),o.a.createElement(Ll,{onDropdownChange:d,timeframeIndex:c})),o.a.createElement(zl,{tiles:e.data.metricsTiles,timeframe:Wl[c],valueAchievedScore:n,showInsightScoreModal:r,setTimeframe:d,accountId:i}),null!=e.data.warnings&&e.data.warnings.length>0&&o.a.createElement(Kl,{warning:e.data.warnings[0]}))},$l=()=>{const e=Rt(()=>({eid:"recommendation.impression",properties:{cardId:"Metrics-Maintenance",cardStyle:"alert"}}),[]);return o.a.createElement("section",{className:"MetricsMaintenanceUI",ref:e},[1,2,3].map((e,t,n)=>o.a.createElement("div",{key:e,className:X()("MetricsMaintenanceTile",{lastTile:t===n.length-1})},o.a.createElement("div",{className:"MaintenanceUIHeading"}),o.a.createElement("div",{className:"MaintenanceUIDesc"}),o.a.createElement("div",{className:"MaintenanceUIIcon"}))),o.a.createElement("div",{className:"MaintenanceDetailsWrapper"},o.a.createElement(Z.a,{name:"information",size:20}),o.a.createElement("p",null,o.a.createElement(u.FormattedMessage,{id:"METRICS_MAINTENANCE"}))))},Jl={0:"MetricsSummary-xs-mobile",420:"MetricsSummary-mobile",678:"MetricsSummary-tablet",914:"MetricsSummary-desktop",1050:"MetricsSummary-xl"},Ql=Object(a.memo)(({accountId:e,appLocation:t,domain:n,spaConfig:r,valueAchievedScore:i,showInsightScoreModal:a})=>{const s=ke(Jl),c=o.a.createElement(mr,null);return o.a.createElement("div",{ref:s},o.a.createElement(kn,{appName:"metrics",appLocation:t,domain:n,loadingView:c,spaConfig:r},o.a.createElement(Xl,{accountId:e,valueAchievedScore:i,showInsightScoreModal:a})))}),Xl=({accountId:e,showInsightScoreModal:t,valueAchievedScore:n})=>Kt().showMetricsMaintenanceUI?o.a.createElement($l,null):o.a.createElement(Zl,{accountId:e,showInsightScoreModal:t,valueAchievedScore:n}),Zl=({accountId:e,showInsightScoreModal:t,valueAchievedScore:n})=>{const r=Object(a.useCallback)(t=>(async(e,t)=>{const{formattedRads:n,metadata:r}=await an({accountId:t,apiName:"fetchMetrics",app:"metrics",entities:["wsbvnextlite"],product:"metrics",radset:"venture-metrics",signal:e}),i=[];n.forEach(e=>{if("venture-metrics"===e.componentType){var t;const{content:n,definitionId:r,id:a}=e,{deepDiveProperties:o,childRads:s}=n;i.push({id:r,metadataid:a,title:n.title,icon:n.icon,dataPoints:{last7Days:parseFloat(n.dataPoints.last7Days||"0"),last30Days:parseFloat(n.dataPoints.last30Days||"0"),last365Days:parseFloat(n.dataPoints.last365Days||"0"),currencyCode:n.dataPoints.currencyCode},deepDiveContent:{graphTitle:o.graphTitle,sidebarTitle:o.sidebarTitle,sidebarDescription:o.sidebarDescription,informationalText:n.informationalText||null,graphType:o.graphType,navButton:{text:o.navButton.text,url:o.navButton.url},trendLines:(null==o||null===(t=o.trendLines)||void 0===t?void 0:t.map(e=>({color:e.color,label:e.label,trends:fr(e.serializedData)})))||[],recommendationIds:(null==s?void 0:s.map(e=>e.id))||[]}})}});const a=n.reduce((e,t)=>{if("unified"===t.componentType){const{definitionId:n,id:r,content:{title:i,ctas:a}}=t,o={id:n,metadataId:r,title:i,cta:{text:a[0].text,url:a[0].value}};e.push(o)}return e},[]);return{data:{metricsTiles:i,warnings:a},metadata:pr(pr({},r),{},{event:"api_success"})}})(t,e),[e]),[i,s]=Object(wn.a)(r);return o.a.createElement(Yl,{state:i,retry:s,accountId:e,showInsightScoreModal:t,valueAchievedScore:n})}},"oHc+":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const r=()=>{var t,n,r;return(null===(t=e.window)||void 0===t||null===(n=t.ux)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.market)?e.window.ux.data.market:"en-US"}}).call(this,n("yLpj"))},oVF6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.PRODUCTS={DCC:"DCC",GO:"Go",GOCENTRAL:"GoCentral",MY_PRODUCTS:"My Products"};t.REFERRER_MATCH_TO_ORIGIN={"^account.[^/]*/(home|overview)":{product:r.GO,application:"overview"},"^account.[^/]*/products":{product:r.MY_PRODUCTS,application:"products"},"^account.":{product:r.GO,application:"profile"},"^contacts.":{product:r.GOCENTRAL,application:"contacts"},"^dashboard.":{product:r.GOCENTRAL,application:"dashboard"},"^dcc.":{product:r.DCC,application:"wizard"},"^gem.":{product:r.GOCENTRAL,application:"gem"},"^instantpage.":{product:r.GOCENTRAL,application:"editor"},"^ola.":{product:r.GOCENTRAL,application:"ola"},".onlinestore.":{product:r.GOCENTRAL,application:"ols"},"^searchenginevisibility.":{product:r.GOCENTRAL,application:"seo"},"^websites.":{product:r.GOCENTRAL,application:"editor"}},t.DEFAULT_ORIGIN_VALUES={medium:"web"}},oqEv:function(e,t){function n(e){if(!isFinite(e))return String(e);var t="";e<0?(t="-",e=Math.abs(e)):e=Number(e);var n=e%60,r=[Math.round(n)===n?n:n.toFixed(3)];return e<60?r.unshift(0):(e=Math.round((e-r[0])/60),r.unshift(e%60),e>=60&&(e=Math.round((e-r[0])/60),r.unshift(e))),t+r.shift()+":"+r.map((function(e){return e<10?"0"+String(e):String(e)})).join(":")}e.exports=function(){return n}},pBbz:function(e,t,n){"use strict";n.r(t),n.d(t,"SplitFactory",(function(){return zr}));
/*
Adaptation of "object-assign" library (https://www.npmjs.com/package/object-assign)
exported as an ES module instead of CommonJS, to avoid extra configuration steps when using
the ESM build of the SDK with tools that doesn't support CommonJS by default (e.g. Rollup).

object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var s=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c};var c="control",u={treatment:c,config:null},l="DEBUG",d="OPTIMIZED",f="localhost",h="standalone",p="producer",m="consumer",g="consumer_partial",v="MEMORY",y="LOCALSTORAGE",b={headers:{"Cache-Control":"no-cache"}};function E(e){return"users="+encodeURIComponent(e)}function w(e,t,n){var r=e.urls,i=e.sync.__splitFiltersValidation&&e.sync.__splitFiltersValidation.queryString,a=e.sync.impressionsMode,o=function(e,t,n){var r=e.log,i=e.core.authorizationKey,a=e.version,o=e.runtime,c=o.ip,u=o.hostname,l=n&&n(),d=t&&t();d||r.error(303,["Global fetch API is not available."]);var f={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i,SplitSDKVersion:a};return c&&(f.SplitSDKMachineIP=c),u&&(f.SplitSDKMachineName=u),function(e,t,n,i){void 0===t&&(t={}),void 0===n&&(n=function(){}),void 0===i&&(i=!1);var a=s({headers:t.headers?s({},f,t.headers):f,method:t.method||"GET",body:t.body},l);return d?d(e,a).then((function(e){return e.ok?(n(),e):e.text().then((function(t){return Promise.reject({response:e,message:t})}))})).catch((function(t){var a=t&&t.response,o="";if(a)switch(a.status){case 404:o="Invalid API key or resource not found.";break;default:o=t.message}else o=t.message||"Network Error";a&&403===a.status||r[i?"info":"error"](322,[a?a.status:"NO_STATUS",e,o]);var s=new Error(o);throw s.statusCode=a&&a.status,n(s),s})):Promise.reject(new Error("Global fetch API is not available."))}}(e,t.getFetch,t.getOptions);return{getSdkAPIHealthCheck:function(){var e=r.sdk+"/version";return o(e).then((function(){return!0})).catch((function(){return!1}))},getEventsAPIHealthCheck:function(){var e=r.events+"/version";return o(e).then((function(){return!0})).catch((function(){return!1}))},fetchAuth:function(e){var t=r.auth+"/v2/auth";if(e){var i=e.map(E).join("&");i&&(t+="?"+i)}return o(t,void 0,n.trackHttp("to"))},fetchSplitChanges:function(e,t){var a=r.sdk+"/splitChanges?since="+e+(i||"");return o(a,t?b:void 0,n.trackHttp("sp"))},fetchSegmentChanges:function(e,t,i){var a=r.sdk+"/segmentChanges/"+t+"?since="+e;return o(a,i?b:void 0,n.trackHttp("se"))},fetchMySegments:function(e,t){var i=r.sdk+"/mySegments/"+encodeURIComponent(e);return o(i,t?b:void 0,n.trackHttp("ms"))},postEventsBulk:function(e,t){var i=r.events+"/events/bulk";return o(i,{method:"POST",body:e,headers:t},n.trackHttp("ev"))},postTestImpressionsBulk:function(e,t){var i=r.events+"/testImpressions/bulk";return o(i,{method:"POST",body:e,headers:s({SplitSDKImpressionsMode:a},t)},n.trackHttp("im"))},postTestImpressionsCount:function(e,t){var i=r.events+"/testImpressions/count";return o(i,{method:"POST",body:e,headers:t},n.trackHttp("ic"))},postMetricsConfig:function(e){var t=r.telemetry+"/v1/metrics/config";return o(t,{method:"POST",body:e},n.trackHttp("te"),!0)},postMetricsUsage:function(e){var t=r.telemetry+"/v1/metrics/usage";return o(t,{method:"POST",body:e},n.trackHttp("te"),!0)}}}function O(e,t,n,r){var i;void 0===r&&(r="task");var a,o,s=!1,c=0;function u(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return i?i.then((function(){return u.apply(void 0,n)})):(e.debug(37,[r]),i=t.apply(void 0,n).then((function(e){return i=void 0,e})))}function l(e){return u.apply(void 0,a).then((function(t){return s&&e===c&&(o=setTimeout(l,n,e)),t}))}return{execute:u,isExecuting:function(){return void 0!==i},start:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(!s)return s=!0,c++,a=t,e.debug(36,[r,n]),l(c)},stop:function(){s=!1,o&&(e.debug(38,[r]),clearTimeout(o),o=void 0)},isRunning:function(){return s}}}function S(e,t,n,r,i,a,o,s){void 0===o&&(o=0);var c,u=0;return O(e,(function(){if(n.isEmpty()&&!c)return Promise.resolve();var r="number"==typeof(c=n.pop(c)).length?c.length+" "+i:i;e[s?"debug":"info"](116,[r]);var l=JSON.stringify(a?a(c):c);return o||(c=void 0),t(l).then((function(){u=0,c=void 0})).catch((function(t){o?u===o?(u=0,c=void 0,e[s?"debug":"warn"](209,[r,t])):(u++,e[s?"debug":"warn"](210,[r,t])):e[s?"debug":"warn"](209,[r,t])}))}),r,i+" submitter")}function _(e,t){var n,r=!1,i=e.start;e.start=function(){r=!0,n=setTimeout(i,t)};var a=e.stop;return e.stop=function(){r=!1,clearTimeout(n),a()},e.isRunning=function(){return r},e}function k(e){var t=e.settings,n=t.log,r=t.scheduler.eventsPushRate,i=t.startup.eventsFirstPushWindow,a=e.splitApi.postEventsBulk,o=e.storage.events,s=S(n,a,o,r,"events");return i>0&&(s=_(s,i)),o.setOnFullQueueCb((function(){s.isRunning()&&(n.info(115,["events"]),s.execute())})),s}var T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function A(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;function N(e,t){var n;if(L(e))for(var r=Object.keys(e),i=0;i<r.length&&!n;i++){var a=r[i];t(e[a],a,e)&&(n=e[a])}else if(Array.isArray(e))for(i=0;i<e.length&&!n;i++){t(e[i],i,e)&&(n=e[i])}return n}function I(e,t){if(Array.isArray(e)&&"function"==typeof t)for(var n=0;n<e.length;n++)if(!0===t(e[n],n,e))return n;return-1}function j(e,t){return Object.keys(e).forEach((function(n){return t(e[n],n,e)})),e}function D(e,t,n){var r=n;try{var i=t.split("."),a=e;i.forEach((function(e){return a=a[e]})),void 0!==a&&(r=a)}catch(e){}return r}function x(e){return!0===e||!1===e}function R(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&(Number.isFinite?Number.isFinite(e):isFinite(e))}function M(e){return e instanceof Number&&(e=e.valueOf()),e!=e}function L(e){return null!==e&&"object"==typeof e&&(e.constructor===Object||null!=e.constructor&&"Object"===e.constructor.name)}function P(e){return"string"==typeof e||e instanceof String}function F(e){return P(e)?e.toUpperCase():e}function U(e,t){return!(!P(e)||!P(t))&&e.slice(0,t.length)===t}function G(e){if("number"==typeof e)return e;if(L(e)&&"function"==typeof e.valueOf){var t=e.valueOf();e=L(t)?t+"":t}return"string"!=typeof e?0===e?e:+e:+(e=e.replace(/^\s+|\s+$/g,""))}function q(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return P(e)?e:""}))+"";var t=e+"";return"0"===t&&1/e===Number.NEGATIVE_INFINITY?"-0":t}function V(e){var t={};return e.filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=!0)}))}function B(e,t){var n=function(e,t){var n={};if(Array.isArray(e)&&P(t))for(var r=0;r<e.length;r++){var i=e[r][t];P(i)&&(n[i]||(n[i]=[]),n[i].push(e[r]))}return n}(t,"feature"),r=[];return j(n,(function(t,n){r.push({f:n,i:t.map((function(t){return{k:t.keyName,t:t.treatment,m:t.time,c:t.changeNumber,r:e?t.label:void 0,b:t.bucketingKey?t.bucketingKey:void 0,pt:t.pt?t.pt:void 0}}))})})),r}function H(e){var t=e.settings,n=t.log,r=t.scheduler.impressionsRefreshRate,i=t.core.labelsEnabled,a=e.splitApi.postTestImpressionsBulk,o=e.storage.impressions,s=S(n,a,o,r,"impressions",B.bind(void 0,i),1);return o.setOnFullQueueCb((function(){s.isRunning()&&(n.info(115,["impressions"]),s.execute())})),s}function z(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++){var i=n[r].split("::");if(2===i.length){var a=i[0],o=i[1],s={f:a,m:Number(o),rc:e[n[r]]};t.push(s)}}return{pf:t}}var K="init::ready";var W=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function Y(e,t,n,r){if(void 0===r&&(r="split name"),null==t)e.error(315,[n,r]);else if(P(t)){if(W.test(t)&&(e.warn(214,[n,r,t]),t=t.trim()),t.length>0)return t;e.error(319,[n,r])}else e.error(318,[n,r]);return!1}function $(e,t,n,r,i){if(void 0===r&&(r="split_names"),void 0===i&&(i="split name"),Array.isArray(t)&&t.length>0){var a=[];if(t.forEach((function(t){var r=Y(e,t,n,i);r&&a.push(r)})),a.length)return V(a)}return e.error(320,[n,r]),!1}var J=[{type:"byName",maxLength:400,queryParam:"names="},{type:"byPrefix",maxLength:50,queryParam:"prefixes="}];function Q(e,t,n){var r,i,a={validFilters:[],queryString:null,groupedFilters:{byName:[],byPrefix:[]}};return t?n!==h?(e.warn(219,[h]),a):Array.isArray(t)&&0!==t.length?(a.validFilters=t.filter((function(t,n){return t&&(r=t.type,J.some((function(e){return e.type===r})))&&Array.isArray(t.values)?(a.groupedFilters[t.type]=a.groupedFilters[t.type].concat(t.values),!0):(e.warn(220,[n]),!1);var r})),J.forEach((function(t){var n=t.type,r=t.maxLength;a.groupedFilters[n].length>0&&(a.groupedFilters[n]=function(e,t,n,r){var i=$(e,n,"settings",t+" filter",t+" filter value");if(i){if(i.length>r)throw new Error(r+" unique values can be specified at most for '"+t+"' filter. You passed "+i.length+". Please consider reducing the amount or using other filter.");i.sort()}return i||[]}(e,n,a.groupedFilters[n],r))})),a.queryString=(r=a.groupedFilters,i=[],J.forEach((function(e){var t=e.type,n=e.queryParam,a=r[t];a.length>0&&i.push(n+a.map((function(e){return encodeURIComponent(e)})).join(","))})),i.length>0?"&"+i.join("&"):null),e.debug(39,[a.queryString]),a):(e.warn(221),a):a}function X(e,t,n,r){if(null==t)return e.error(315,[n,r]),!1;if(R(t))return e.warn(213,[n,r,t]),q(t);if(P(t)){if((t=t.trim()).length>0&&t.length<=250)return t;0===t.length?e.error(319,[n,r]):t.length>250&&e.error(316,[n,r])}else e.error(318,[n,r]);return!1}function Z(e,t,n){if(L(t)){var r=X(e,t.matchingKey,n,"matchingKey"),i=X(e,t.bucketingKey,n,"bucketingKey");return r&&i?{matchingKey:r,bucketingKey:i}:(e.error(317,[n]),!1)}return X(e,t,n,"key")}var ee=/[A-Z]/;function te(e,t,n){if(null==t)e.error(315,[n,"traffic_type"]);else if(P(t)){if(0!==t.length)return ee.test(t)&&(e.warn(216,[n]),t=t.toLowerCase()),t;e.error(319,[n,"traffic_type"])}else e.error(318,[n,"traffic_type"]);return!1}var ne={mode:h,core:{authorizationKey:void 0,key:void 0,trafficType:void 0,labelsEnabled:!0,IPAddressesEnabled:void 0},scheduler:{featuresRefreshRate:30,segmentsRefreshRate:60,telemetryRefreshRate:3600,impressionsRefreshRate:300,offlineRefreshRate:15,eventsPushRate:60,eventsQueueSize:500,impressionsQueueSize:3e4,pushRetryBackoffBase:1},urls:{sdk:"https://sdk.split.io/api",events:"https://events.split.io/api",auth:"https://auth.split.io/api",streaming:"https://streaming.split.io",telemetry:"https://telemetry.split.io/api"},storage:void 0,debug:void 0,impressionListener:void 0,version:void 0,integrations:void 0,streamingEnabled:!0,sync:{splitFilters:void 0,impressionsMode:d,localhostMode:void 0,enabled:!0},log:void 0};function re(e){return Math.round(1e3*e)}function ie(e,t){var n=t.defaults,r=t.runtime,i=t.storage,a=t.integrations,o=t.logger,s=t.localhost,c=t.consent,u=function e(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=t;if(L(n)&&Object.keys(n).forEach((function(t){var r=n[t];L(r)&&(r=a[t]&&L(a[t])?e({},a[t],r):e({},r)),void 0!==r&&(a[t]=r)})),r&&r.length){var o=r.splice(0,1)[0];a=e.apply(void 0,A([a,o],r,!1))}return a}({},ne,n,e),v=o(u);u.log=v,u.sync.impressionsMode=function(e,t){return t=F(t),[l,d].indexOf(t)>-1?t:(e.error(321,["impressionsMode",[l,d],d]),d)}(v,u.sync.impressionsMode);var y,b,E,w=u.scheduler,O=u.startup;if(w.featuresRefreshRate=re(w.featuresRefreshRate),w.segmentsRefreshRate=re(w.segmentsRefreshRate),w.offlineRefreshRate=re(w.offlineRefreshRate),w.eventsPushRate=re(w.eventsPushRate),w.telemetryRefreshRate=re((y="telemetryRefreshRate",(b=w.telemetryRefreshRate)>=(E=60)?b:(v.error(326,[y,E]),E))),void 0===D(e,"scheduler.impressionsRefreshRate")&&u.sync.impressionsMode===l&&(w.impressionsRefreshRate=60),w.impressionsRefreshRate=re(w.impressionsRefreshRate),w.metricsRefreshRate&&v.warn("`metricsRefreshRate` will be deprecated soon. For configuring telemetry rates, update `telemetryRefreshRate` value in configs"),O.requestTimeoutBeforeReady=re(O.requestTimeoutBeforeReady),O.readyTimeout=re(O.readyTimeout),O.eventsFirstPushWindow=re(O.eventsFirstPushWindow),u.mode=function(e,t){if("localhost"===e)return f;if(-1===[h,p,m,g].indexOf(t))throw Error("Invalid mode provided");return t}(u.core.authorizationKey,u.mode),i&&(u.storage=i(u)),t.acceptKey){var S=u.core.key;if(u.mode===f&&void 0===S?u.core.key="localhost_key":u.core.key=Z(v,S,"Client instantiation"),t.acceptTT){var _=u.core.trafficType;void 0!==_&&(u.core.trafficType=te(v,_,"Client instantiation"))}}u.runtime=r(u),a&&(u.integrations=a(u)),s&&(u.sync.localhostMode=s(u)),!1!==u.streamingEnabled&&(u.streamingEnabled=!0,w.pushRetryBackoffBase=re(w.pushRetryBackoffBase)),!1!==u.sync.enabled&&(u.sync.enabled=!0);var k=Q(v,u.sync.splitFilters,u.mode);return u.sync.splitFilters=k.validFilters,u.sync.__splitFiltersValidation=k,u.userConsent=c(u),u}var ae,oe,se,ce={};function ue(e,t){var n=function(e,t){var n=!1;return null==t?e.error(315,["Factory instantiation","api_key"]):P(t)?t.length>0?n=t:e.error(319,["Factory instantiation","api_key"]):e.error(318,["Factory instantiation","api_key"]),n}(e,t);return n&&(ce[n]?(e.warn(222,[ce[n]+" factory/ies with this API Key"]),ce[n]++):(ce[n]=1,Object.keys(ce).length>1&&e.warn(222,["an instance of the Split factory"]))),n}function le(e){var t=e();return function(){return Math.round(e()-t)}}function de(e,t,n){return{isEmpty:function(){return!1},clear:function(){},pop:function(){return{lS:e.getLastSynchronization(),mL:e.popLatencies(),mE:e.popExceptions(),hE:e.popHttpErrors(),hL:e.popHttpLatencies(),tR:e.popTokenRefreshes(),aR:e.popAuthRejections(),iQ:e.getImpressionStats(0),iDe:e.getImpressionStats(2),iDr:e.getImpressionStats(1),spC:t.getSplitNames().length,seC:n.getRegisteredSegments().length,skC:n.getKeysCount(),sL:e.getSessionLength(),eQ:e.getEventStats(0),eD:e.getEventStats(1),sE:e.popStreamingEvents(),t:e.popTags()}}}}var fe=((ae={})[h]=0,ae[m]=1,ae[g]=2,ae),he=((oe={})[d]=0,oe[l]=1,oe),pe=((se={}).UNKNOWN=1,se.GRANTED=2,se.DECLINED=3,se);function me(e,t){return{isEmpty:function(){return!1},clear:function(){},pop:function(){var n,r,i=t.urls,a=t.scheduler,o=void 0!==t.core.key;return s((n=t.mode,r=t.storage.type,{oM:fe[n],st:r.toLowerCase(),aF:Object.keys(ce).length,rF:Object.keys(ce).reduce((function(e,t){return e+ce[t]-1}),0)}),{sE:t.streamingEnabled,rR:{sp:a.featuresRefreshRate/1e3,se:o?void 0:a.segmentsRefreshRate/1e3,ms:o?a.segmentsRefreshRate/1e3:void 0,im:a.impressionsRefreshRate/1e3,ev:a.eventsPushRate/1e3,te:a.telemetryRefreshRate/1e3},uO:{s:i.sdk!==ne.urls.sdk,e:i.events!==ne.urls.events,a:i.auth!==ne.urls.auth,st:i.streaming!==ne.urls.streaming,t:i.telemetry!==ne.urls.telemetry},iQ:a.impressionsQueueSize,eQ:a.eventsQueueSize,iM:he[t.sync.impressionsMode],iL:!!t.impressionListener,hP:!1,tR:e.getTimeUntilReady(),tC:e.getTimeUntilReadyFromCache(),nR:e.getNonReadyUsage(),t:e.popTags(),i:t.integrations&&t.integrations.map((function(e){return e.type})),uC:t.userConsent?pe[t.userConsent]:0})}}}function ge(e){var t=[H(e),k(e)],n=function(e){var t=e.settings.log,n=e.splitApi.postTestImpressionsCount,r=e.storage.impressionCounts;if(r)return S(t,n,r,18e5,"impression counts",z,1)}(e);n&&t.push(n);var r=function(e){var t=e.storage,n=t.splits,r=t.segments,i=t.telemetry,a=e.platform.now;if(i&&a){var o=e.settings,s=e.settings,c=s.log,u=s.scheduler.telemetryRefreshRate,l=e.splitApi,d=e.readiness,f=e.sdkReadinessManager,h=le(a),p=_(S(c,l.postMetricsUsage,de(i,n,r),u,"telemetry stats",void 0,0,!0),u);return d.gate.once("init::cache-ready",(function(){i.recordTimeUntilReadyFromCache(h())})),f.incInternalReadyCbCount(),d.gate.once(K,(function(){(i.recordTimeUntilReady(h()),p.isRunning())&&S(c,l.postMetricsConfig,me(i,o),0,"telemetry config",void 0,0,!0).execute()})),p}}(e);return{start:function(e){e||t.forEach((function(e){return e.start()})),r&&r.start()},stop:function(e){t.forEach((function(e){return e.stop()})),!e&&r&&r.stop()},isRunning:function(){return t.some((function(e){return e.isRunning()}))},execute:function(e){var n=e?[]:t.map((function(e){return e.execute()}));return r&&n.push(r.execute()),Promise.all(n)},isExecuting:function(){return t.some((function(e){return e.isExecuting()}))}}}var ve,ye="CONTROL",be="OCCUPANCY";function Ee(e){var t=e.userConsent;return!t||"GRANTED"===t}!function(e){e.STREAMING_DISABLED="STREAMING_DISABLED",e.STREAMING_PAUSED="STREAMING_PAUSED",e.STREAMING_RESUMED="STREAMING_RESUMED",e.STREAMING_RESET="STREAMING_RESET"}(ve||(ve={}));var we=function(){function e(t,n,r){this.baseMillis=n||e.DEFAULT_BASE_MILLIS,this.maxMillis=r||e.DEFAULT_MAX_MILLIS,this.attempts=0,this.cb=t}return e.prototype.scheduleCall=function(){var e=this,t=Math.min(this.baseMillis*Math.pow(2,this.attempts),this.maxMillis);return this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.cb()}),t),this.attempts++,t},e.prototype.reset=function(){this.attempts=0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=void 0)},e.DEFAULT_BASE_MILLIS=1e3,e.DEFAULT_MAX_MILLIS=18e5,e}();var Oe=[/control_pri$/,/control_sec$/],Se=[10,20];function _e(e,t,n){var r=function(e,t){var n=Oe.map((function(e){return{regex:e,hasPublishers:!0,oTime:-1,cTime:-1}})),r=!0,i=!0;return{handleOpen:function(){t.streamingEvent(0),e.emit("PUSH_SUBSYSTEM_UP")},isStreamingUp:function(){return i&&r},handleOccupancyEvent:function(a,o,s){for(var c=0;c<n.length;c++){var u=n[c];if(u.regex.test(o)){if(t.streamingEvent(Se[c],a),s>u.oTime){u.oTime=s,u.hasPublishers=0!==a;var l=n.some((function(e){return e.hasPublishers}));i&&(!l&&r?e.emit("PUSH_SUBSYSTEM_DOWN"):l&&!r&&e.emit("PUSH_SUBSYSTEM_UP")),r=l}return}}},handleControlEvent:function(a,o,s){if(a!==ve.STREAMING_RESET)for(var c=0;c<n.length;c++){var u=n[c];if(u.regex.test(o))return void(s>u.cTime&&(u.cTime=s,a===ve.STREAMING_DISABLED?(t.streamingEvent(30,0),e.emit("PUSH_NONRETRYABLE_ERROR")):r&&(a===ve.STREAMING_PAUSED&&i?(t.streamingEvent(30,2),e.emit("PUSH_SUBSYSTEM_DOWN")):a!==ve.STREAMING_RESUMED||i||(t.streamingEvent(30,1),e.emit("PUSH_SUBSYSTEM_UP"))),i=a===ve.STREAMING_RESUMED))}else e.emit(a)}}}(t,n);return{handleOpen:function(){r.handleOpen()},handleError:function(r){var i=r;try{i=function(e){return P(e.data)&&(e.parsedData=JSON.parse(e.data)),e}(r)}catch(t){e.warn(206,[t])}var a=i.parsedData&&i.parsedData.message||i.message;e.error(305,[a]),!function(e){if(e.parsedData&&e.parsedData.code){var t=e.parsedData.code;if(n.streamingEvent(60,t),40140<=t&&t<=40149)return!0;if(4e4<=t&&t<=49999)return!1}else n.streamingEvent(40,1);return!0}(i)?t.emit("PUSH_NONRETRYABLE_ERROR"):t.emit("PUSH_RETRYABLE_ERROR")},handleMessage:function(n){var i;try{if(!(i=function(e){if(e.data){var t=JSON.parse(e.data);return t.parsedData=JSON.parse(t.data),t.name&&"[meta]occupancy"===t.name&&(t.parsedData.type=be),t}}(n)))return}catch(t){return void e.warn(207,[t])}var a=i.parsedData,o=i.data,s=i.channel,c=i.timestamp;if(e.debug(35,[o]),r.isStreamingUp()||-1!==[be,ye].indexOf(a.type))switch(a.type){case"SPLIT_UPDATE":case"SEGMENT_UPDATE":case"MY_SEGMENTS_UPDATE_V2":case"SPLIT_KILL":t.emit(a.type,a);break;case"MY_SEGMENTS_UPDATE":t.emit(a.type,a,s);break;case be:r.handleOccupancyEvent(a.metrics.publishers,s,c);break;case ye:r.handleControlEvent(a.controlType,s,c)}}}}var ke=function(){function e(e){this.mySegmentsSyncTask=e,this.maxChangeNumber=0,this.handleNewEvent=!1,this.segmentsData=void 0,this.currentChangeNumber=-1,this.put=this.put.bind(this),this.__handleMySegmentsUpdateCall=this.__handleMySegmentsUpdateCall.bind(this),this.backoff=new we(this.__handleMySegmentsUpdateCall)}return e.prototype.__handleMySegmentsUpdateCall=function(){var e=this;if(this.maxChangeNumber>this.currentChangeNumber){this.handleNewEvent=!1;var t=this.maxChangeNumber;this.mySegmentsSyncTask.execute(this.segmentsData,!0).then((function(n){!1!==n&&(e.currentChangeNumber=Math.max(e.currentChangeNumber,t)),e.handleNewEvent?e.__handleMySegmentsUpdateCall():e.backoff.scheduleCall()}))}},e.prototype.put=function(e,t){e<=this.currentChangeNumber||e<=this.maxChangeNumber||(this.maxChangeNumber=e,this.handleNewEvent=!0,this.backoff.reset(),this.segmentsData=t,this.mySegmentsSyncTask.isExecuting()||this.__handleMySegmentsUpdateCall())},e}(),Te=function(){function e(e,t){this.segmentsCache=t,this.segmentsSyncTask=e,this.maxChangeNumbers={},this.handleNewEvent=!1,this.put=this.put.bind(this),this.__handleSegmentUpdateCall=this.__handleSegmentUpdateCall.bind(this),this.backoff=new we(this.__handleSegmentUpdateCall)}return e.prototype.__handleSegmentUpdateCall=function(){var e=this,t=Object.keys(this.maxChangeNumbers).filter((function(t){return e.maxChangeNumbers[t]>e.segmentsCache.getChangeNumber(t)}));if(t.length>0){this.handleNewEvent=!1;var n=t.map((function(t){return e.maxChangeNumbers[t]}));this.segmentsSyncTask.execute(t,!0).then((function(r){!1!==r?t.forEach((function(t,r){e.maxChangeNumbers[t]===n[r]&&(e.maxChangeNumbers[t]=-1)})):e.backoff.scheduleCall(),e.handleNewEvent&&e.__handleSegmentUpdateCall()}))}},e.prototype.put=function(e){var t=e.changeNumber,n=e.segmentName;t<=this.segmentsCache.getChangeNumber(n)||t<=this.maxChangeNumbers[n]||(this.maxChangeNumbers[n]=t,this.handleNewEvent=!0,this.backoff.reset(),this.segmentsSyncTask.isExecuting()||this.__handleSegmentUpdateCall())},e}(),Ce=function(){function e(e,t,n,r){this.splitsCache=e,this.splitsSyncTask=t,this.splitsEventEmitter=n,this.segmentsSyncTask=r,this.maxChangeNumber=0,this.handleNewEvent=!1,this.put=this.put.bind(this),this.killSplit=this.killSplit.bind(this),this.__handleSplitUpdateCall=this.__handleSplitUpdateCall.bind(this),this.backoff=new we(this.__handleSplitUpdateCall)}return e.prototype.__handleSplitUpdateCall=function(){var e=this;this.maxChangeNumber>this.splitsCache.getChangeNumber()&&(this.handleNewEvent=!1,this.splitsSyncTask.execute(!0).then((function(){e.handleNewEvent?e.__handleSplitUpdateCall():(e.segmentsSyncTask&&e.segmentsSyncTask.execute(void 0,!1,!0),e.backoff.scheduleCall())})))},e.prototype.put=function(e){var t=e.changeNumber;t<=this.splitsCache.getChangeNumber()||t<=this.maxChangeNumber||(this.maxChangeNumber=t,this.handleNewEvent=!0,this.backoff.reset(),this.splitsSyncTask.isExecuting()||this.__handleSplitUpdateCall())},e.prototype.killSplit=function(e){var t=e.changeNumber,n=e.splitName,r=e.defaultTreatment;this.splitsCache.killLocally(n,r,t)&&this.splitsEventEmitter.emit("state::splits-arrived",!0),this.put({changeNumber:t})},e}(),Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ne(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n="",r=0,i=void 0,a=void 0,o=0;a=t.charAt(o++);~a&&(i=r%4?64*i+a:a,r++%4)?n+=String.fromCharCode(255&i>>(-2*r&6)):0)a=Ae.indexOf(a);return n}var Ie=String.fromCharCode;function je(e){var t,n,r,i,a;return n=function(e){if("string"!=typeof e)throw TypeError("Illegal argument: "+typeof e);var t=0;return function(){return t>=e.length?null:e.charCodeAt(t++)}}(e),i=[],a=[],r=t=function(){if(0===arguments.length)return a.join("")+Ie.apply(String,i);i.length+arguments.length>1024&&(a.push(Ie.apply(String,i)),i.length=0),Array.prototype.push.apply(i,arguments)},function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)}(n,(function(e){!function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null}(e,r)})),t()}
/*!
 * +----------------------------------------------------------------------------------+
 * | murmurHash3.js v3.0.0 (http://github.com/karanlyons/murmurHash3.js)              |
 * | A TypeScript/JavaScript implementation of MurmurHash3's hashing algorithms.      |
 * |----------------------------------------------------------------------------------|
 * | Copyright (c) 2012-2020 Karan Lyons. Freely distributable under the MIT license. |
 * +----------------------------------------------------------------------------------+
 */function De(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function xe(e,t){return e<<t|e>>>32-t}function Re(e,t){t=t||0;for(var n,r=(e=e||"").length%4,i=e.length-r,a=t,o=0,s=3432918353,c=461845907,u=0;u<i;u+=4)o=De(o=255&e.charCodeAt(u)|(255&e.charCodeAt(u+1))<<8|(255&e.charCodeAt(u+2))<<16|(255&e.charCodeAt(u+3))<<24,s),o=De(o=xe(o,15),c),a=De(a=xe(a^=o,13),5)+3864292196;switch(o=0,r){case 3:o^=(255&e.charCodeAt(u+2))<<16;case 2:o^=(255&e.charCodeAt(u+1))<<8;case 1:o=De(o^=255&e.charCodeAt(u),s),a^=o=De(o=xe(o,15),c)}return a^=e.length,n=a,n=De(n^=n>>>16,2246822507),n=De(n^=n>>>13,3266489909),(a=n^=n>>>16)>>>0}function Me(e,t){return Re(je(e),t>>>0)}function Le(e,t){return Math.abs(Me(e,t)%100)+1}function Pe(e){return function(t){return e(t).then((function(e){return e.json()})).then((function(e){if(e.token){var t=(r=e.token,i=r.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(Ne(i).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(a));if("number"!=typeof t.iat||"number"!=typeof t.exp)throw new Error('token properties "issuedAt" (iat) or "expiration" (exp) are missing or invalid');var n=JSON.parse(t["x-ably-capability"]);return s({decodedToken:t,channels:n},e)}var r,i,a;return e}))}}function Fe(e){return function(e){for(var t=String(e),n="",r=void 0,i=void 0,a=0,o=Ae;t.charAt(0|a)||(o="=",a%1);n+=o.charAt(63&r>>8-a%1*8)){if((i=t.charCodeAt(a+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return n}(Me(e,0).toString())}var Ue=/^control_/;var Ge,qe,Ve=function(){function e(e,t,n){if(this.eventSource=n&&n(),!this.eventSource)throw new Error("EventSource API is not available. ");this.streamingUrl=e.urls.streaming+"/sse",this.useHeaders=t,this.headers=function(e){var t={SplitSDKClientKey:P(e.core.authorizationKey)?e.core.authorizationKey.slice(-4):"",SplitSDKVersion:e.version},n=e.runtime,r=n.ip,i=n.hostname;return r&&(t.SplitSDKMachineIP=r),i&&(t.SplitSDKMachineName=i),t}(e)}return e.prototype.setEventHandler=function(e){this.handler=e},e.prototype.open=function(e){this.close();var t=Object.keys(e.channels).map((function(e){var t=Ue.test(e)?"[?occupancy=metrics.publishers]":"";return encodeURIComponent(t+e)})).join(","),n=this.streamingUrl+"?channels="+t+"&accessToken="+e.token+"&v=1.1&heartbeats=true";this.connection=new this.eventSource(this.useHeaders?n:n+"&SplitSDKVersion="+this.headers.SplitSDKVersion+"&SplitSDKClientKey="+this.headers.SplitSDKClientKey,this.useHeaders?{headers:this.headers}:void 0),this.handler&&(this.connection.addEventListener("open",this.handler.handleOpen),this.connection.addEventListener("message",this.handler.handleMessage),this.connection.addEventListener("error",this.handler.handleError))},e.prototype.close=function(){this.connection&&this.connection.close()},e}();function Be(e){return L(e)?e.matchingKey:e}function He(e){return L(e)?{matchingKey:e.matchingKey,bucketingKey:e.bucketingKey}:{matchingKey:e,bucketingKey:e}}!function(e){e[e.None=0]="None",e[e.Gzip=1]="Gzip",e[e.Zlib=2]="Zlib"}(Ge||(Ge={})),function(e){e[e.UnboundedFetchRequest=0]="UnboundedFetchRequest",e[e.BoundedFetchRequest=1]="BoundedFetchRequest",e[e.KeyList=2]="KeyList",e[e.SegmentRemoval=3]="SegmentRemoval"}(qe||(qe={}));var ze=function(){if([typeof Uint8Array,typeof Uint16Array,typeof Uint32Array].some((function(e){return"function"!=e})))return"global Uint8Array object is not available for gzip/zlib decompression";var e=Uint8Array,t=Uint16Array,n=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(e,r){for(var i=new t(31),a=0;a<31;++a)i[a]=r+=1<<e[a-1];var o=new n(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},s=o(r,2),c=s[0],u=s[1];c[28]=258,u[258]=28;for(var l=o(i,0)[0],d=new t(32768),f=0;f<32768;++f){var h=(43690&f)>>>1|(21845&f)<<1;h=(61680&(h=(52428&h)>>>2|(13107&h)<<2))>>>4|(3855&h)<<4,d[f]=((65280&h)>>>8|(255&h)<<8)>>>1}var p=function(e,n,r){for(var i=e.length,a=0,o=new t(n);a<i;++a)++o[e[a]-1];var s,c=new t(n);for(a=0;a<n;++a)c[a]=c[a-1]+o[a-1]<<1;if(r){s=new t(1<<n);var u=15-n;for(a=0;a<i;++a)if(e[a])for(var l=a<<4|e[a],f=n-e[a],h=c[e[a]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)s[d[h]>>>u]=l}else for(s=new t(i),a=0;a<i;++a)e[a]&&(s[a]=d[c[e[a]-1]++]>>>15-e[a]);return s},m=new e(288);for(f=0;f<144;++f)m[f]=8;for(f=144;f<256;++f)m[f]=9;for(f=256;f<280;++f)m[f]=7;for(f=280;f<288;++f)m[f]=8;var g=new e(32);for(f=0;f<32;++f)g[f]=5;var v=p(m,9,1),y=p(g,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},E=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},w=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},O=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],S=function(e,t,n){var r=new Error(t||O[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,S),!n)throw r;return r},_=function(o,s,u){var d=o.length;if(!d||u&&u.f&&!u.l)return s||new e(0);var f=!s||u,h=!u||u.i;u||(u={}),s||(s=new e(3*d));var m=function(t){var n=s.length;if(t>n){var r=new e(Math.max(2*n,t));r.set(s),s=r}},g=u.f||0,O=u.p||0,_=u.b||0,k=u.l,T=u.d,C=u.m,A=u.n,N=8*d;do{if(!k){g=E(o,O,1);var I=E(o,O+1,3);if(O+=3,!I){var j=o[(V=4+((O+7)/8|0))-4]|o[V-3]<<8,D=V+j;if(D>d){h&&S(0);break}f&&m(_+j),s.set(o.subarray(V,D),_),u.b=_+=j,u.p=O=8*D,u.f=g;continue}if(1==I)k=v,T=y,C=9,A=5;else if(2==I){var x=E(o,O,31)+257,R=E(o,O+10,15)+4,M=x+E(o,O+5,31)+1;O+=14;for(var L=new e(M),P=new e(19),F=0;F<R;++F)P[a[F]]=E(o,O+3*F,7);O+=3*R;var U=b(P),G=(1<<U)-1,q=p(P,U,1);for(F=0;F<M;){var V,B=q[E(o,O,G)];if(O+=15&B,(V=B>>>4)<16)L[F++]=V;else{var H=0,z=0;for(16==V?(z=3+E(o,O,3),O+=2,H=L[F-1]):17==V?(z=3+E(o,O,7),O+=3):18==V&&(z=11+E(o,O,127),O+=7);z--;)L[F++]=H}}var K=L.subarray(0,x),W=L.subarray(x);C=b(K),A=b(W),k=p(K,C,1),T=p(W,A,1)}else S(1);if(O>N){h&&S(0);break}}f&&m(_+131072);for(var Y=(1<<C)-1,$=(1<<A)-1,J=O;;J=O){var Q=(H=k[w(o,O)&Y])>>>4;if((O+=15&H)>N){h&&S(0);break}if(H||S(2),Q<256)s[_++]=Q;else{if(256==Q){J=O,k=null;break}var X=Q-254;if(Q>264){var Z=r[F=Q-257];X=E(o,O,(1<<Z)-1)+c[F],O+=Z}var ee=T[w(o,O)&$],te=ee>>>4;ee||S(3),O+=15&ee;W=l[te];if(te>3){Z=i[te];W+=w(o,O)&(1<<Z)-1,O+=Z}if(O>N){h&&S(0);break}f&&m(_+131072);for(var ne=_+X;_<ne;_+=4)s[_]=s[_-W],s[_+1]=s[_+1-W],s[_+2]=s[_+2-W],s[_+3]=s[_+3-W];_=ne}}u.l=k,u.p=J,u.b=_,u.f=g,k&&(g=1,u.m=C,u.d=T,u.n=A)}while(!g);return _==s.length?s:function(r,i,a){(null==i||i<0)&&(i=0),(null==a||a>r.length)&&(a=r.length);var o=new(r instanceof t?t:r instanceof n?n:e)(a-i);return o.set(r.subarray(i,a)),o}(s,0,_)};return{gunzipSync:function(t,n){return _(t.subarray(function(e){31==e[0]&&139==e[1]&&8==e[2]||S(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)}(t),-8),n||new e((i=(r=t).length,(r[i-4]|r[i-3]<<8|r[i-2]<<16|r[i-1]<<24)>>>0)));var r,i},unzlibSync:function(e,t){return _(((8!=(15&(n=e)[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)&&S(6,"invalid zlib data"),32&n[1]&&S(6,"invalid zlib data: preset dictionaries not supported"),e.subarray(2,-4)),t);var n}}}();function Ke(e,t){var n,r=Ne(e),i=(n=r.split("").map((function(e){return e.charCodeAt(0)})),new Uint8Array(n));if("string"==typeof ze)throw new Error(ze);if(1===t)return ze.gunzipSync(i);if(2===t)return ze.unzlibSync(i);throw new Error("Invalid compression algorithm #"+t)}function We(e,t){var n,r=Ke(e,t),i=(n=r,String.fromCharCode.apply(null,n));return JSON.parse(i.replace(/\d+/g,'"$&"'))}var Ye=function(){function e(e){var t=this;this.__setData__=[],Array.isArray(e)&&e.forEach((function(e){t.add(e)}))}return e.prototype.clear=function(){this.__setData__.length&&(this.__setData__.length=0)},e.prototype.add=function(e){return this.has(e)||this.__setData__.push(e),this},e.prototype.delete=function(e){var t=this.__setData__.indexOf(e);return-1!==t&&(this.__setData__.splice(t,1),!0)},e.prototype.has=function(e){return-1!==this.__setData__.indexOf(e)},e.prototype.forEach=function(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");for(var n=0;n<this.__setData__.length;n++){var r=this.__setData__[n];e.call(t,r,r,this)}},Object.defineProperty(e.prototype,"size",{get:function(){return this.__setData__.length},enumerable:!1,configurable:!0}),e}();function $e(e){return e instanceof Ye?e.__setData__.slice():Array.from(e)}var Je="function"==typeof Array.from&&"function"==typeof Set&&Set.prototype&&Set.prototype.values?Set:Ye;function Qe(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Xe(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Ze(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function et(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function tt(e,t){return[e[0]^t[0],e[1]^t[1]]}function nt(e){return e=tt(e,[0,e[0]>>>1]),e=tt(e=Xe(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=tt(e=Xe(e,[3301882366,444984403]),[0,e[0]>>>1])}function rt(e,t){return function(e,t){t=t||0;for(var n=(e=e||"").length%16,r=e.length-n,i=[0,t],a=[0,t],o=[0,0],s=[0,0],c=[2277735313,289559509],u=[1291169091,658871167],l=0;l<r;l+=16)o=[255&e.charCodeAt(l+4)|(255&e.charCodeAt(l+5))<<8|(255&e.charCodeAt(l+6))<<16|(255&e.charCodeAt(l+7))<<24,255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24],s=[255&e.charCodeAt(l+12)|(255&e.charCodeAt(l+13))<<8|(255&e.charCodeAt(l+14))<<16|(255&e.charCodeAt(l+15))<<24,255&e.charCodeAt(l+8)|(255&e.charCodeAt(l+9))<<8|(255&e.charCodeAt(l+10))<<16|(255&e.charCodeAt(l+11))<<24],o=Ze(o=Xe(o,c),31),i=Qe(i=Ze(i=tt(i,o=Xe(o,u)),27),a),i=Qe(Xe(i,[0,5]),[0,1390208809]),s=Ze(s=Xe(s,u),33),a=Qe(a=Ze(a=tt(a,s=Xe(s,c)),31),i),a=Qe(Xe(a,[0,5]),[0,944331445]);switch(o=[0,0],s=[0,0],n){case 15:s=tt(s,et([0,e.charCodeAt(l+14)],48));case 14:s=tt(s,et([0,e.charCodeAt(l+13)],40));case 13:s=tt(s,et([0,e.charCodeAt(l+12)],32));case 12:s=tt(s,et([0,e.charCodeAt(l+11)],24));case 11:s=tt(s,et([0,e.charCodeAt(l+10)],16));case 10:s=tt(s,et([0,e.charCodeAt(l+9)],8));case 9:s=Xe(s=tt(s,[0,e.charCodeAt(l+8)]),u),a=tt(a,s=Xe(s=Ze(s,33),c));case 8:o=tt(o,et([0,e.charCodeAt(l+7)],56));case 7:o=tt(o,et([0,e.charCodeAt(l+6)],48));case 6:o=tt(o,et([0,e.charCodeAt(l+5)],40));case 5:o=tt(o,et([0,e.charCodeAt(l+4)],32));case 4:o=tt(o,et([0,e.charCodeAt(l+3)],24));case 3:o=tt(o,et([0,e.charCodeAt(l+2)],16));case 2:o=tt(o,et([0,e.charCodeAt(l+1)],8));case 1:o=Xe(o=tt(o,[0,e.charCodeAt(l)]),c),i=tt(i,o=Xe(o=Ze(o,31),u))}return i=Qe(i=tt(i,[0,e.length]),a=tt(a,[0,e.length])),a=Qe(a,i),i=Qe(i=nt(i),a=nt(a)),a=Qe(a,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}(je(e),t>>>0)}function it(e){var t,n,r,i=[0];for(t=0;t<e.length;t+=1){for(r=parseInt(e.charAt(t),16),n=i.length-1;n>=0;n-=1)i[n]=16*i[n]+r,r=i[n]/10|0,i[n]%=10;for(;r>0;)i.unshift(r%10),r=r/10|0}return i.join("")}function at(e,t){return e<1?t:new Promise((function(n,r){var i=setTimeout((function(){r(new Error("Operation timed out because it exceeded the configured time limit of "+e+" ms."))}),e);t.then((function(e){clearTimeout(i),n(e)}),(function(e){clearTimeout(i),r(e)}))}))}function ot(e,t,n,r,i,a,o,s){var c=!0,u=!0;function l(e){return u&&(e=at(a,e)),e}function d(e){var t;if(Array.isArray(e))t=r.resetSegments(e);else{var a=e.name,o=e.add;r.isInSegment(a)!==o?(t=!0,o?r.addToSegment(a):r.removeFromSegment(a)):t=!1}n.usesSegments()&&(t||c)&&(c=!1,i.emit("state::segments-arrived"))}return function(n,r){return function n(r,i,a){return(i?new Promise((function(e){d(i),e(!0)})):t(s,a,l).then((function(e){return u=!1,d(e),!0}))).catch((function(t){return u&&o>r?(r+=1,e.warn(204,[r,t]),n(r)):(u=!1,!1)}))}(0,n,r)}}function st(e){var t=new Je,n=e.reduce((function(e,n){return"ACTIVE"===n.status?(e.added.push([n.name,JSON.stringify(n)]),function(e){for(var t=e.conditions,n=new Je,r=0;r<t.length;r++){t[r].matcherGroup.matchers.forEach((function(e){"IN_SEGMENT"===e.matcherType&&n.add(e.userDefinedSegmentMatcherData.segmentName)}))}return n}(n).forEach((function(e){t.add(e)}))):e.removed.push(n.name),e}),{added:[],removed:[],segments:[]});return n.segments=$e(t),n}function ct(e,t,n,r,i,a,o,s){void 0===a&&(a=0),void 0===o&&(o=0);var c=!0;function u(e){return c&&a&&(e=at(a,e)),e}return function(a){return Promise.resolve(n.getChangeNumber()).then((function l(d,f){void 0===f&&(f=0),e.debug(31,[d]);var h=t(d,a,u).then((function(t){c=!1;var a=st(t.splits);return e.debug(32,[a.added.length]),e.debug(33,[a.removed.length]),e.debug(34,[a.segments.length]),Promise.all([n.setChangeNumber(t.till),n.addSplits(a.added),n.removeSplits(a.removed),r.registerSegments(a.segments)]).then((function(){return!i||Promise.resolve(!i.splitsArrived||d!==t.till&&(s||function(e){return Promise.resolve(e.getRegisteredSegments()).then((function(t){return Promise.all(t.map((function(t){return e.getChangeNumber(t)}))).then((function(e){return e.every((function(e){return-1!==e}))}))}))}(r))).catch((function(){return!1})).then((function(e){return e&&i.emit("state::splits-arrived"),!0}))}))})).catch((function(t){return e.warn(205,[t]),c&&o>f?(f+=1,e.info(109,[f,t]),l(d,f)):(c=!1,!1)}));return i&&c&&Promise.resolve(n.checkCache()).then((function(e){e&&i.emit("state::splits-cache-loaded")})),h}))}}var ut=function(){function e(e){void 0===e&&(e=0),this.maxQueue=e,this.queue=[]}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e){var t;(t=this.queue).push.apply(t,e),this.maxQueue>0&&this.queue.length>=this.maxQueue&&this.onFullQueue&&this.onFullQueue()},e.prototype.clear=function(){this.queue=[]},e.prototype.pop=function(e){var t=this.queue;return this.clear(),e?e.concat(t):t},e.prototype.isEmpty=function(){return 0===this.queue.length},e}();function lt(e){return e-e%36e5}var dt=function(){function e(){this.cache={}}return e.prototype._makeKey=function(e,t){return e+"::"+lt(t)},e.prototype.track=function(e,t,n){var r=this._makeKey(e,t),i=this.cache[r];this.cache[r]=i?i+n:n},e.prototype.pop=function(e){var t=this.cache;return this.clear(),e?(Object.keys(t).forEach((function(n){e[n]?e[n]+=t[n]:e[n]=t[n]})),e):t},e.prototype.clear=function(){this.cache={}},e.prototype.isEmpty=function(){return 0===Object.keys(this.cache).length},e}(),ft=function(){function e(e){void 0===e&&(e=0),this.maxQueue=e,this.queue=[],this.queueByteSize=0}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e,t){return void 0===t&&(t=0),this.queueByteSize+=t,this.queue.push(e),this._checkForFlush(),!0},e.prototype.clear=function(){this.queue=[],this.queueByteSize=0},e.prototype.pop=function(e){var t=this.queue;return this.clear(),e?e.concat(t):t},e.prototype.isEmpty=function(){return 0===this.queue.length},e.prototype._checkForFlush=function(){(this.queueByteSize>5242880||this.maxQueue>0&&this.queue.length>=this.maxQueue)&&this.onFullQueue&&this.onFullQueue()},e}(),ht=/[^.]+$/;var pt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.matchingKey=n,r.regexSplitsCacheKey=new RegExp("^"+t+"\\.(splits?|trafficType)\\."),r}return C(t,e),t.prototype.buildSegmentNameKey=function(e){return this.prefix+"."+this.matchingKey+".segment."+e},t.prototype.extractSegmentName=function(e){var t=this.prefix+"."+this.matchingKey+".segment.";if(U(e,t))return e.substr(t.length)},t.prototype.buildOldSegmentNameKey=function(e){return this.matchingKey+"."+this.prefix+".segment."+e},t.prototype.extractOldSegmentKey=function(e){var t=this.matchingKey+"."+this.prefix+".segment.";if(U(e,t))return e.substr(t.length)},t.prototype.buildLastUpdatedKey=function(){return this.prefix+".splits.lastUpdated"},t.prototype.isSplitsCacheKey=function(e){return this.regexSplitsCacheKey.test(e)},t.prototype.buildSplitsFilterQueryKey=function(){return this.prefix+".splits.filterQuery"},t}(function(){function e(e){void 0===e&&(e="SPLITIO"),this.prefix=e}return e.prototype.buildTrafficTypeKey=function(e){return this.prefix+".trafficType."+e},e.prototype.buildSplitKey=function(e){return this.prefix+".split."+e},e.prototype.buildSplitsTillKey=function(){return this.prefix+".splits.till"},e.prototype.isSplitKey=function(e){return U(e,this.prefix+".split.")},e.prototype.buildSplitKeyPrefix=function(){return this.prefix+".split."},e.prototype.buildSplitsWithSegmentCountKey=function(){return this.prefix+".splits.usingSegments"},e.prototype.buildSegmentNameKey=function(e){return this.prefix+".segment."+e},e.prototype.buildSegmentTillKey=function(e){return this.prefix+".segment."+e+".till"},e.prototype.extractKey=function(e){var t=e.match(ht);if(t&&t.length)return t[0];throw new Error("Invalid latency key provided")},e}());function mt(){var e="__SPLITSOFTWARE__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}var gt=function(){function e(){}return e.prototype.addSplits=function(e){var t=this;return e.map((function(e){return t.addSplit(e[0],e[1])}))},e.prototype.removeSplits=function(e){var t=this;return e.map((function(e){return t.removeSplit(e)}))},e.prototype.getSplits=function(e){var t=this,n={};return e.forEach((function(e){n[e]=t.getSplit(e)})),n},e.prototype.getAll=function(){var e=this;return this.getSplitNames().map((function(t){return e.getSplit(t)}))},e.prototype.checkCache=function(){return!1},e.prototype.killLocally=function(e,t,n){var r=this.getSplit(e);if(r){var i=JSON.parse(r);if(!i.changeNumber||i.changeNumber<n){i.killed=!0,i.defaultTreatment=t,i.changeNumber=n;var a=JSON.stringify(i);return this.addSplit(e,a)}}return!1},e}();function vt(e){for(var t=e.conditions||[],n=0;n<t.length;n++)for(var r=t[n].matcherGroup.matchers,i=0;i<r.length;i++)if("IN_SEGMENT"===r[i].matcherType)return!0;return!1}var yt="storage:localstorage: ",bt=function(e){function t(t,n,r,i){void 0===i&&(i={queryString:null,groupedFilters:{byName:[],byPrefix:[]},validFilters:[]});var a=e.call(this)||this;return a.log=t,a.cacheReadyButNeedsToFlush=!1,a.keys=n,a.splitFiltersValidation=i,a._checkExpiration(r),a._checkFilterQuery(),a}return C(t,e),t.prototype._decrementCount=function(e){var t=G(localStorage.getItem(e))-1;t>0?localStorage.setItem(e,t):localStorage.removeItem(e)},t.prototype._decrementCounts=function(e){try{if(e){if(e.trafficTypeName){var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);this._decrementCount(t)}if(vt(e)){var n=this.keys.buildSplitsWithSegmentCountKey();this._decrementCount(n)}}}catch(e){this.log.error(yt+e)}},t.prototype._incrementCounts=function(e){try{if(e){if(e.trafficTypeName){var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);localStorage.setItem(t,G(localStorage.getItem(t))+1)}if(vt(e)){var n=this.keys.buildSplitsWithSegmentCountKey();localStorage.setItem(n,G(localStorage.getItem(n))+1)}}}catch(e){this.log.error(yt+e)}},t.prototype.clear=function(){this.log.info(yt+"Flushing Splits data from localStorage");for(var e=localStorage.length,t=[],n=0;n<e;n++){var r=localStorage.key(n);null!=r&&this.keys.isSplitsCacheKey(r)&&t.push(r)}t.forEach((function(e){localStorage.removeItem(e)})),this.hasSync=!1},t.prototype.addSplit=function(e,t){try{var n=this.keys.buildSplitKey(e),r=localStorage.getItem(n),i=r?JSON.parse(r):null;this._decrementCounts(i),localStorage.setItem(n,t);var a=t?JSON.parse(t):null;return this._incrementCounts(a),!0}catch(e){return this.log.error(yt+e),!1}},t.prototype.removeSplit=function(e){try{var t=this.getSplit(e);localStorage.removeItem(this.keys.buildSplitKey(e));var n=JSON.parse(t);return this._decrementCounts(n),!0}catch(e){return this.log.error(yt+e),!1}},t.prototype.getSplit=function(e){return localStorage.getItem(this.keys.buildSplitKey(e))},t.prototype.setChangeNumber=function(e){if(this.cacheReadyButNeedsToFlush&&(this.clear(),this.cacheReadyButNeedsToFlush=!1),this.updateNewFilter){this.log.info(yt+"Split filter query was modified. Updating cache.");var t=this.keys.buildSplitsFilterQueryKey(),n=this.splitFiltersValidation.queryString;try{n?localStorage.setItem(t,n):localStorage.removeItem(t)}catch(e){this.log.error(yt+e)}this.updateNewFilter=!1}try{return localStorage.setItem(this.keys.buildSplitsTillKey(),e+""),localStorage.setItem(this.keys.buildLastUpdatedKey(),Date.now()+""),this.hasSync=!0,!0}catch(e){return this.log.error(yt+e),!1}},t.prototype.getChangeNumber=function(){var e=localStorage.getItem(this.keys.buildSplitsTillKey());return null!==e?M(e=parseInt(e,10))?-1:e:-1},t.prototype.getSplitNames=function(){for(var e=localStorage.length,t=[],n=0;n<e;){var r=localStorage.key(n);null!=r&&this.keys.isSplitKey(r)&&t.push(this.keys.extractKey(r)),n++}return t},t.prototype.trafficTypeExists=function(e){var t=G(localStorage.getItem(this.keys.buildTrafficTypeKey(e)));return R(t)&&t>0},t.prototype.usesSegments=function(){if(!this.hasSync)return!0;var e=localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey()),t=null===e?0:G(e);return!R(t)||t>0},t.prototype.checkCache=function(){return this.getChangeNumber()>-1||this.cacheReadyButNeedsToFlush},t.prototype._checkExpiration=function(e){var t=localStorage.getItem(this.keys.buildLastUpdatedKey());null!==t&&!M(t=parseInt(t,10))&&e&&t<e&&this.clear()},t.prototype._checkFilterQuery=function(){var e=this,t=this.splitFiltersValidation,n=t.queryString,r=t.groupedFilters,i=this.keys.buildSplitsFilterQueryKey();if(localStorage.getItem(i)!==n)try{this.updateNewFilter=!0,this.checkCache()&&(localStorage.setItem(this.keys.buildSplitsTillKey(),"-1"),this.getSplitNames().forEach((function(t){n&&(r.byName.indexOf(t)>-1||r.byPrefix.some((function(e){return t.startsWith(e+"__")})))?e.cacheReadyButNeedsToFlush=!0:e.removeSplit(t)})))}catch(e){this.log.error(yt+e)}},t}(gt),Et=function(){function e(){}return e.prototype.registerSegments=function(e){return!1},e.prototype.setChangeNumber=function(e,t){return!0},e.prototype.getChangeNumber=function(e){return-1},e.prototype.resetSegments=function(e){return!0},e}(),wt=function(e){function t(t,n){var r=e.call(this)||this;return r.log=t,r.keys=n,r}return C(t,e),t.prototype.clear=function(){this.log.info(yt+"Flushing MySegments data from localStorage"),this.resetSegments([])},t.prototype.addToSegment=function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.setItem(t,"1"),!0}catch(e){return this.log.error(yt+e),!1}},t.prototype.removeFromSegment=function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.removeItem(t),!0}catch(e){return this.log.error(yt+e),!1}},t.prototype.isInSegment=function(e){return"1"===localStorage.getItem(this.keys.buildSegmentNameKey(e))},t.prototype.resetSegments=function(e){var t,n=this,r=!1,i=Object.keys(localStorage).reduce((function(t,r){var i=n.keys.extractSegmentName(r);if(i)t.push(i);else if(i=n.keys.extractOldSegmentKey(r)){var a=n.keys.buildSegmentNameKey(i);try{!localStorage.getItem(a)&&e.indexOf(i)>-1&&(localStorage.setItem(a,"1"),t.push(i)),localStorage.removeItem(r)}catch(e){n.log.error(e)}}return t}),[]);if(0===e.length&&i.length===e.length)return r;if(i.length!==e.length)r=!0,i.forEach((function(e){return n.removeFromSegment(e)})),e.forEach((function(e){return n.addToSegment(e)}));else{for(t=0;t<e.length&&-1!==i.indexOf(e[t]);t++);t<e.length&&(r=!0,i.forEach((function(e){return n.removeFromSegment(e)})),e.forEach((function(e){return n.addToSegment(e)})))}return r},t.prototype.getRegisteredSegments=function(){var e=this;return Object.keys(localStorage).reduce((function(t,n){var r=e.keys.extractSegmentName(n);return r&&t.push(r),t}),[])},t.prototype.getKeysCount=function(){return 1},t}(Et),Ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.segmentCache={},t}return C(t,e),t.prototype.clear=function(){this.segmentCache={}},t.prototype.addToSegment=function(e){return this.segmentCache[e]=!0,!0},t.prototype.removeFromSegment=function(e){return delete this.segmentCache[e],!0},t.prototype.isInSegment=function(e){return!0===this.segmentCache[e]},t.prototype.resetSegments=function(e){var t,n=this,r=!1,i=Object.keys(this.segmentCache);if(0===e.length&&i.length===e.length)return r;if(i.length!==e.length)r=!0,this.segmentCache={},e.forEach((function(e){n.addToSegment(e)}));else{for(t=0;t<e.length&&this.isInSegment(e[t]);t++);t<e.length&&(r=!0,this.segmentCache={},e.forEach((function(e){n.addToSegment(e)})))}return r},t.prototype.getRegisteredSegments=function(){return Object.keys(this.segmentCache)},t.prototype.getKeysCount=function(){return 1},t}(Et),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitsCache={},t.ttCache={},t.changeNumber=-1,t.splitsWithSegmentsCount=0,t}return C(t,e),t.prototype.clear=function(){this.splitsCache={},this.ttCache={},this.changeNumber=-1,this.splitsWithSegmentsCount=0},t.prototype.addSplit=function(e,t){var n=this.getSplit(e);if(n){var r=JSON.parse(n);if(r.trafficTypeName){var i=r.trafficTypeName;this.ttCache[i]--,this.ttCache[i]||delete this.ttCache[i]}vt(r)&&this.splitsWithSegmentsCount--}var a=JSON.parse(t);if(a){this.splitsCache[e]=t;var o=a.trafficTypeName;return o&&(this.ttCache[o]||(this.ttCache[o]=0),this.ttCache[o]++),vt(a)&&this.splitsWithSegmentsCount++,!0}return!1},t.prototype.removeSplit=function(e){var t=this.getSplit(e);if(t){delete this.splitsCache[e];var n=JSON.parse(t),r=n.trafficTypeName;return r&&(this.ttCache[r]--,this.ttCache[r]||delete this.ttCache[r]),vt(n)&&this.splitsWithSegmentsCount--,!0}return!1},t.prototype.getSplit=function(e){return this.splitsCache[e]||null},t.prototype.setChangeNumber=function(e){return this.changeNumber=e,!0},t.prototype.getChangeNumber=function(){return this.changeNumber},t.prototype.getSplitNames=function(){return Object.keys(this.splitsCache)},t.prototype.trafficTypeExists=function(e){return R(this.ttCache[e])&&this.ttCache[e]>0},t.prototype.usesSegments=function(){return-1===this.getChangeNumber()||this.splitsWithSegmentsCount>0},t}(gt);function _t(e){var t=Math.min(22,Math.max(0,Math.ceil(Math.log(e)/Math.log(1.5))));return M(t)?0:t}function kt(){return Math.random()<=.001}var Tt=function(){function e(){this.notReadyUsage=0,this.impressionStats=[0,0,0],this.eventStats=[0,0],this.lastSync={},this.httpErrors={},this.httpLatencies={},this.authRejections=0,this.tokenRefreshes=0,this.streamingEvents=[],this.tags=[],this.exceptions={},this.latencies={}}return e.prototype.getTimeUntilReady=function(){return this.timeUntilReady},e.prototype.recordTimeUntilReady=function(e){this.timeUntilReady=e},e.prototype.getTimeUntilReadyFromCache=function(){return this.timeUntilReadyFromCache},e.prototype.recordTimeUntilReadyFromCache=function(e){this.timeUntilReadyFromCache=e},e.prototype.getNonReadyUsage=function(){return this.notReadyUsage},e.prototype.recordNonReadyUsage=function(){this.notReadyUsage++},e.prototype.getImpressionStats=function(e){return this.impressionStats[e]},e.prototype.recordImpressionStats=function(e,t){this.impressionStats[e]+=t},e.prototype.getEventStats=function(e){return this.eventStats[e]},e.prototype.recordEventStats=function(e,t){this.eventStats[e]+=t},e.prototype.getLastSynchronization=function(){return this.lastSync},e.prototype.recordSuccessfulSync=function(e,t){this.lastSync[e]=t},e.prototype.popHttpErrors=function(){var e=this.httpErrors;return this.httpErrors={},e},e.prototype.recordHttpError=function(e,t){this.httpErrors[e]||(this.httpErrors[e]={}),this.httpErrors[e][t]?this.httpErrors[e][t]++:this.httpErrors[e][t]=1},e.prototype.popHttpLatencies=function(){var e=this.httpLatencies;return this.httpLatencies={},e},e.prototype.recordHttpLatency=function(e,t){this.httpLatencies[e]||(this.httpLatencies[e]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.httpLatencies[e][_t(t)]++},e.prototype.popAuthRejections=function(){var e=this.authRejections;return this.authRejections=0,e},e.prototype.recordAuthRejections=function(){this.authRejections++},e.prototype.popTokenRefreshes=function(){var e=this.tokenRefreshes;return this.tokenRefreshes=0,e},e.prototype.recordTokenRefreshes=function(){this.tokenRefreshes++},e.prototype.popStreamingEvents=function(){return this.streamingEvents.splice(0)},e.prototype.recordStreamingEvents=function(e){this.streamingEvents.length<20&&this.streamingEvents.push(e)},e.prototype.popTags=function(){return this.tags.splice(0)},e.prototype.addTag=function(e){this.tags.length<10&&this.tags.push(e)},e.prototype.getSessionLength=function(){return this.sessionLength},e.prototype.recordSessionLength=function(e){this.sessionLength=e},e.prototype.popExceptions=function(){var e=this.exceptions;return this.exceptions={},e},e.prototype.recordException=function(e){this.exceptions[e]?this.exceptions[e]++:this.exceptions[e]=1},e.prototype.popLatencies=function(){var e=this.latencies;return this.latencies={},e},e.prototype.recordLatency=function(e,t){this.latencies[e]||(this.latencies[e]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.latencies[e][_t(t)]++},e}();function Ct(e){return{splits:new St,segments:new Ot,impressions:new ut(e.impressionsQueueSize),impressionCounts:e.optimize?new dt:void 0,events:new ft(e.eventsQueueSize),telemetry:e.mode!==f&&kt()?new Tt:void 0,destroy:function(){this.splits.clear(),this.segments.clear(),this.impressions.clear(),this.impressionCounts&&this.impressionCounts.clear(),this.events.clear()},shared:function(){return{splits:this.splits,segments:new Ot,impressions:this.impressions,impressionCounts:this.impressionCounts,events:this.events,telemetry:this.telemetry,destroy:function(){this.splits=new St,this.segments.clear()}}}}}function At(e){return null!=e&&"function"==typeof e.then}function Nt(e,t,n){return!t.isDestroyed()||(e.error(314,[n]),!1)}function It(e,t,n){return!(!t.isReady()&&!t.isReadyFromCache())||(e.warn(203,[n]),!1)}Ct.type=v;function jt(e,t,n,r,i){return!t.isReady()||"definition not found"!==r&&null!=r||(e.warn(215,[i,n]),!1)}function Dt(e){var t=e.conditions,n=N(t,(function(e){return"ROLLOUT"===e.conditionType}));return n||(n=t[0]),n?n.partitions.map((function(e){return e.treatment})):[]}function xt(e){var t;try{t=JSON.parse(e)}catch(e){return null}return t?{name:t.name,trafficType:t.trafficTypeName,killed:t.killed,changeNumber:t.changeNumber||0,treatments:Dt(t),configs:t.configurations||{}}:null}function Rt(e){var t=[];return e.forEach((function(e){var n=xt(e);n&&t.push(n)})),t}function Mt(e,t,n){var r=n.readinessManager,i=n.sdkStatus;return s(Object.create(i),{split:function(n){var i=Y(e,n,"split");if(!Nt(e,r,"split")||!It(e,r,"split")||!i)return null;var a=t.getSplit(i);return At(a)?a.catch((function(){return null})).then((function(t){return jt(e,r,i,t,"split"),xt(t)})):(jt(e,r,i,a,"split"),xt(a))},splits:function(){if(!Nt(e,r,"splits")||!It(e,r,"splits"))return[];var n=t.getAll();return At(n)?n.catch((function(){return[]})).then(Rt):Rt(n)},names:function(){if(!Nt(e,r,"names")||!It(e,r,"names"))return[];var n=t.getSplitNames();return At(n)?n.catch((function(){return[]})):n}})}var Lt=function(){function e(){this.attributesCache={}}return e.prototype.setAttribute=function(e,t){return this.attributesCache[e]=t,!0},e.prototype.getAttribute=function(e){return this.attributesCache[e]},e.prototype.setAttributes=function(e){return this.attributesCache=s(this.attributesCache,e),!0},e.prototype.getAll=function(){return this.attributesCache},e.prototype.removeAttribute=function(e){return Object.keys(this.attributesCache).indexOf(e)>=0&&(delete this.attributesCache[e],!0)},e.prototype.clear=function(){return this.attributesCache={},!0},e}();function Pt(e,t,n){return null==t||L(t)?t:(e.error(311,[n,"attributes"]),!1)}function Ft(e,t,n){if(!Pt(e,t,n))return!1;var r=!0;return Object.keys(t).forEach((function(i){(function(e,t,n,r){if(!P(t)||0===t.length)return e.warn(r+": you passed an invalid attribute name, attribute name must be a non-empty string."),!1;var i=P(n),a=R(n),o=x(n),s=Array.isArray(n);return!!(i||a||o||s)||(e.warn(r+": you passed an invalid attribute value for "+t+". Acceptable types are: string, number, boolean and array of strings."),!1)})(e,i,t[i],n)||(r=!1)})),r}function Ut(e,t,n,r){var i=function(e,t){var n=new Lt,r=t.getTreatment,i=t.getTreatmentWithConfig,a=t.getTreatments,o=t.getTreatmentsWithConfig,c=t.track;function u(e){var t=n.getAll();return Object.keys(t).length>0?s({},t,e):e}return s(t,{getTreatment:function(e,t,n){return r(e,t,u(n))},getTreatmentWithConfig:function(e,t,n){return i(e,t,u(n))},getTreatments:function(e,t,n){return a(e,t,u(n))},getTreatmentsWithConfig:function(e,t,n){return o(e,t,u(n))},track:function(e,t,n,r,i){return c(e,t,n,r,i)},setAttribute:function(t,r){var i={};return i[t]=r,!!Ft(e,i,"setAttribute")&&(e.debug("stored "+r+" for attribute "+t),n.setAttribute(t,r))},getAttribute:function(t){return e.debug("retrieved attribute "+t),n.getAttribute(t+"")},setAttributes:function(t){return!!Ft(e,t,"setAttributes")&&n.setAttributes(t)},getAttributes:function(){return n.getAll()},removeAttribute:function(t){return e.debug("removed attribute "+t),n.removeAttribute(t+"")},clearAttributes:function(){return n.clear()}})}(e,t);return s(i,{getTreatment:i.getTreatment.bind(i,n),getTreatmentWithConfig:i.getTreatmentWithConfig.bind(i,n),getTreatments:i.getTreatments.bind(i,n),getTreatmentsWithConfig:i.getTreatmentsWithConfig.bind(i,n),track:r?i.track.bind(i,n,r):i.track.bind(i,n),isClientSide:!0})}var Gt={UNDEFINED:0,ALL_KEYS:1,IN_SEGMENT:2,WHITELIST:3,EQUAL_TO:4,GREATER_THAN_OR_EQUAL_TO:5,LESS_THAN_OR_EQUAL_TO:6,BETWEEN:7,EQUAL_TO_SET:8,CONTAINS_ANY_OF_SET:9,CONTAINS_ALL_OF_SET:10,PART_OF_SET:11,ENDS_WITH:12,STARTS_WITH:13,CONTAINS_STRING:14,IN_SPLIT_TREATMENT:15,EQUAL_TO_BOOLEAN:16,MATCHES_STRING:17},qt="BOOLEAN",Vt="STRING",Bt="NUMBER",Ht="SET",zt="DATETIME",Kt="NOT_SPECIFIED";function Wt(e){return e.whitelist}function Yt(e){return e.value}function $t(e){return new Date(e).setUTCHours(0,0,0,0)}function Jt(e){return new Date(e).setUTCSeconds(0,0)}function Qt(e){var t=e.map((function(e){var t,n=e.matcherType,r=e.negate,i=e.keySelector,a=e.userDefinedSegmentMatcherData,o=e.whitelistMatcherData,s=e.unaryNumericMatcherData,c=e.betweenMatcherData,u=e.dependencyMatcherData,l=e.booleanMatcherData,d=e.stringMatcherData,f=i&&i.attribute,h=function(e){var t=Gt[e];return t||Gt.UNDEFINED}(n),p=Vt,m=void 0;return h===Gt.IN_SEGMENT?m=(t=a)?t.segmentName:void 0:h===Gt.WHITELIST?m=function(e){return new Je(e.whitelist)}(o):h===Gt.EQUAL_TO?(m=Yt(s),p=Bt,"DATETIME"===s.dataType&&(m=$t(m),p=zt)):h===Gt.GREATER_THAN_OR_EQUAL_TO||h===Gt.LESS_THAN_OR_EQUAL_TO?(m=Yt(s),p=Bt,"DATETIME"===s.dataType&&(m=Jt(m),p=zt)):h===Gt.BETWEEN?(p=Bt,"DATETIME"===(m=c).dataType&&(m.start=Jt(m.start),m.end=Jt(m.end),p=zt)):h===Gt.EQUAL_TO_SET||h===Gt.CONTAINS_ANY_OF_SET||h===Gt.CONTAINS_ALL_OF_SET||h===Gt.PART_OF_SET?(m=Wt(o),p=Ht):h===Gt.STARTS_WITH||h===Gt.ENDS_WITH||h===Gt.CONTAINS_STRING?m=Wt(o):h===Gt.IN_SPLIT_TREATMENT?(m=u,p=Kt):h===Gt.EQUAL_TO_BOOLEAN?(p=qt,m=l):h===Gt.MATCHES_STRING&&(m=d),{attribute:f,negate:r,type:h,value:m,dataType:p}}));return-1===I(t,(function(e){return e.type===Gt.UNDEFINED}))?t:[]}var Xt=function(){function e(e,t){if(100!==e[e.length-1])throw new RangeError("Provided invalid dataset as input");this._ranges=e,this._treatments=t}return e.parse=function(t){var n=t.reduce((function(e,t){var n=t.size,r=t.treatment;return e.ranges.push(e.inc+=n),e.treatments.push(r),e}),{inc:0,ranges:[],treatments:[]});return new e(n.ranges,n.treatments)},e.prototype.getTreatmentFor=function(e){if(e<0||e>100)throw new RangeError("Please provide a value between 0 and 100");var t=I(this._ranges,(function(t){return e<=t}));return this._treatments[t]},e}();var Zt=[void 0,function(e){return function(t){return e.debug(4),null!=t}},function(e,t,n){return function(r){var i=n.segments.isInSegment(t,r);return At(i)?i.then((function(n){return e.debug(18,[t,r,i]),n})):e.debug(18,[t,r,i]),i}},function(e,t){return function(n){var r=t.has(n);return e.debug(22,[n,$e(t).join(","),r]),r}},function(e,t){return function(n){var r=n===t;return e.debug(12,[n,t,r]),r}},function(e,t){return function(n){var r=n>=t;return e.debug(15,[n,t,r]),r}},function(e,t){return function(n){var r=n<=t;return e.debug(16,[n,t,r]),r}},function(e,t){return function(n){var r=n>=t.start&&n<=t.end;return e.debug(5,[n,t.start,t.end,r]),r}},function(e,t){return function(n){for(var r=n.length===t.length,i=function(e){I(t,(function(t){return t===n[e]}))<0&&(r=!1)},a=0;a<n.length&&r;a++)i(a);return e.debug(13,[n,t,r]),r}},function(e,t){return function(n){for(var r=!1,i=function(e){I(n,(function(n){return n===t[e]}))>=0&&(r=!0)},a=0;a<t.length&&!r;a++)i(a);return e.debug(8,[n,t,r]),r}},function(e,t){return function(n){var r=!0;if(n.length<t.length)r=!1;else for(var i=function(e){I(n,(function(n){return n===t[e]}))<0&&(r=!1)},a=0;a<t.length&&r;a++)i(a);return e.debug(7,[n,t,r]),r}},function(e,t){return function(n){for(var r=n.length<=t.length,i=function(e){I(t,(function(t){return t===n[e]}))<0&&(r=!1)},a=0;a<n.length&&r;a++)i(a);return e.debug(17,[n,t,r]),r}},function(e,t){return function(n){var r=t.some((function(e){return r=e,void 0===i&&(i=!1),!(!P(t=n)||!P(r))&&(i&&(t=t.toLowerCase(),r=r.toLowerCase()),t.slice(t.length-r.length)===r);var t,r,i}));return e.debug(14,[n,t,r]),r}},function(e,t){return function(n){var r=t.some((function(e){return U(n,e)}));return e.debug(21,[n,t,r]),r}},function(e,t){return function(n){var r=t.some((function(e){return P(n)&&n.indexOf(e)>-1}));return e.debug(9,[n,t,r]),r}},function(e,t,n){var r=t.split,i=t.treatments;function a(t,n,r){var i=!1;return Array.isArray(n)&&(i=-1!==n.indexOf(t.treatment)),e.debug(10,[r,t.treatment,t.label,r,n,i]),i}return function(t,o){var s=t.key,c=t.attributes;e.debug(11,[r,JSON.stringify(s),c?"\n attributes: "+JSON.stringify(c):""]);var u=o(e,s,r,c,n);return At(u)?u.then((function(e){return a(e,i,r)})):a(u,i,r)}},function(e,t){return function(n){var r=t===n;return e.debug(6,[t,n]),r}},function(e,t){return function(n){var r;try{r=new RegExp(t)}catch(n){return e.debug(20,[t]),!1}var i=r.test(n);return e.debug(19,[n,t,i?"yes":"no"]),i}}];function en(e,t,n){var r,i=t.type,a=t.value;return Zt[i]&&(r=Zt[i](e,a,n)),r}function tn(e,t){return{key:e,attributes:t}}function nn(e,t,n,r,i){var a,o,s=function(e,t){switch(e){case Gt.EQUAL_TO:return"DATETIME"===t?$t:void 0;case Gt.GREATER_THAN_OR_EQUAL_TO:case Gt.LESS_THAN_OR_EQUAL_TO:case Gt.BETWEEN:return"DATETIME"===t?Jt:void 0;case Gt.IN_SPLIT_TREATMENT:return tn;default:return}}(t,r);switch(r){case Bt:case zt:o=G(n),a=isNaN(o)?void 0:o;break;case Vt:a=function(e){var t=e;L(e)&&(t=e.matchingKey?e.matchingKey:void 0);var n=q(t);return n||void 0}(n);break;case Ht:a=function(e){var t=Array.isArray(e)?V(e.map((function(e){return e+""}))):[];return t.length?t:void 0}(n);break;case qt:a=function(e){if(!0===e||!1===e)return e;if("string"==typeof e){var t=e.toLocaleLowerCase();if("true"===t)return!0;if("false"===t)return!1}}(n);break;case Kt:a=n;break;default:a=void 0}return s&&(a=s(a,i)),e.debug(24,[n,r,a instanceof Object?JSON.stringify(a):a]),a}function rn(e,t,n,r){var i=n.attribute,a=function(e,t,n,r){var i=void 0;return n?r?(i=r[n],e.debug(23,[n,i])):e.warn(201,[n]):i=t,i}(e,t,i,r),o=nn(e,n.type,a,n.dataType,r);return void 0!==o?o:void e.warn(200,[a+(i?" for attribute "+i:"")])}function an(e,t,n,r,i,a){if(t)return{treatment:function(e,t,n,r){var i=Le(t,n),a=r.getTreatmentFor(i);return e.debug(3,[i,t,n,a]),a}(e,n,r,i),label:a}}function on(e,t,n,r,i){return function(a,o,s,c,u,l){if("ROLLOUT"===i&&!function(e,t,n){return!(e<100&&Le(t,n)>e)}(s,a.bucketingKey,c))return{treatment:void 0,label:"not in split"};var d=t(a,u,l);return At(d)?d.then((function(t){return an(e,t,a.bucketingKey,o,n,r)})):an(e,d,a.bucketingKey,o,n,r)}}function sn(e,t){function n(t){var n=t.every((function(e){return e}));return e.debug(0,[n]),n}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.map((function(t){return t.apply(void 0,e)}));return-1!==I(i,At)?Promise.all(i).then(n):n(i)}}function cn(e,t,n){for(var r=[],i=0;i<t.length;i++){var a=t[i],o=a.matcherGroup,s=a.partitions,u=a.label,l=a.conditionType,d=Qt(o.matchers).map((function(t){var r=en(e,t,n);return function(n,i,a){var o=rn(e,n,t,i),s=!(void 0===o||!r)&&r(o,a);return At(s)?s.then((function(e){return Boolean(e^t.negate)})):Boolean(s^t.negate)}}));if(0===d.length){r=[];break}r.push(on(e,sn(e,d),Xt.parse(s),u,l))}return function(e,t){function n(t){for(var n=t.length,r=0;r<n;r++){var i=t[r];if(void 0!==i)return e.debug(1,[i.treatment]),i}e.debug(2)}return!Array.isArray(t)||Array.isArray(t)&&0===t.length?function(){return e.error(300),{treatment:c,label:"exception"}}:function(e,r,i,a,o,s){var c=t.map((function(t){return t(e,r,i,a,o,s)}));return-1!==I(c,At)?Promise.all(c).then((function(e){return n(e)})):n(c)}}(e,r)}function un(e,t){return{treatment:D(e,"treatment",t),label:D(e,"label","default rule")}}var ln=function(){function e(e,t){this.baseInfo=e,this.evaluator=t,"string"!=typeof this.baseInfo.defaultTreatment&&(this.baseInfo.defaultTreatment=c)}return e.parse=function(t,n,r){return new e(n,cn(t,n.conditions,r))},e.prototype.getKey=function(){return this.baseInfo.name},e.prototype.getTreatment=function(e,t,n){var r,i,a,o=this.baseInfo,s=o.killed,u=o.seed,l=o.defaultTreatment,d=o.trafficAllocation,f=o.trafficAllocationSeed;try{r=He(e)}catch(e){return{treatment:c,label:"exception"}}if(this.isGarbage())i=c,a="archived";else{if(!s){var h=this.evaluator(r,u,d,f,t,n);return At(h)?h.then((function(e){return un(e,l)})):un(h,l)}i=l,a="killed"}return{treatment:i,label:a}},e.prototype.isGarbage=function(){return"ARCHIVED"===this.baseInfo.status},e.prototype.getChangeNumber=function(){return this.baseInfo.changeNumber},e}(),dn={treatment:c,label:"exception",config:null};function fn(e){var t={};return e.forEach((function(e){t[e]=dn})),t}function hn(e,t,n,r,i){var a;try{a=i.splits.getSplit(n)}catch(e){return dn}return At(a)?a.then((function(n){return pn(e,n,t,r,i)})).catch((function(){return dn})):pn(e,a,t,r,i)}function pn(e,t,n,r,i){var a={treatment:c,label:"definition not found",config:null};if(t){var o=JSON.parse(t),s=ln.parse(e,o,i);if(At(a=s.getTreatment(n,r,hn)))return a.then((function(e){return e.changeNumber=s.getChangeNumber(),e.config=o.configurations&&o.configurations[e.treatment]||null,e}));a.changeNumber=s.getChangeNumber(),a.config=o.configurations&&o.configurations[a.treatment]||null}return a}function mn(e,t,n,r,i,a){var o={},s=[];return t.forEach((function(t){var c=pn(e,n[t],r,i,a);At(c)?s.push(c.then((function(e){o[t]=e}))):o[t]=c})),s.length>0?Promise.all(s).then((function(){return o})):o}function gn(e,t,n){e.warn(217,[n,t])}function vn(e){var t=e.sdkReadinessManager.readinessManager,n=e.storage,r=e.settings,i=e.impressionsTracker,a=e.eventTracker,o=e.telemetryTracker,s=r.log,u=r.mode;function l(e,t,r,a){void 0===a&&(a=!1);var c=o.trackEval(a?"tc":"t"),u=function(n){var o=[],s=h(n,t,e,r,a,"getTreatment"+(a?"withConfig":""),o);return i.track(o,r),c(o[0]&&o[0].label),s},l=hn(s,e,t,r,n);return At(l)?l.then((function(e){return u(e)})):u(l)}function d(e,t,r,a){void 0===a&&(a=!1);var c=o.trackEval(a?"tcs":"ts"),u=function(t){var n=[],o={};return Object.keys(t).forEach((function(i){o[i]=h(t[i],i,e,r,a,"getTreatments"+(a?"withConfig":""),n)})),i.track(n,r),c(n[0]&&n[0].label),o},l=function(e,t,n,r,i){var a;try{a=i.splits.getSplits(n)}catch(e){return fn(n)}return At(a)?a.then((function(a){return mn(e,n,a,t,r,i)})).catch((function(){return fn(n)})):mn(e,n,a,t,r,i)}(s,e,t,r,n);return At(l)?l.then((function(e){return u(e)})):u(l)}function h(e,n,r,i,a,o,u){var l=t.isReady()||t.isReadyFromCache(),d=Be(r),f=function(e){return L(e)?e.bucketingKey:void 0}(r);l||(e={treatment:c,label:"not ready"});var h=e.treatment,p=e.label,m=e.changeNumber,g=e.config,v=void 0===g?null:g;return s.info(102,[n,d,h,p]),jt(s,t,n,p,o)&&(s.info(103),u.push({feature:n,keyName:d,treatment:h,time:Date.now(),bucketingKey:f,label:p,changeNumber:m})),a?{treatment:h,config:v}:h}return{getTreatment:l,getTreatmentWithConfig:function(e,t,n){return l(e,t,n,!0)},getTreatments:d,getTreatmentsWithConfig:function(e,t,n){return d(e,t,n,!0)},track:function(e,r,i,c,l,d){void 0===d&&(d=1024);var h=o.trackEval("tr"),p=Be(e),m={eventTypeId:i,trafficTypeName:r,value:c,timestamp:Date.now(),key:p,properties:l};!function(e,t,n,r,i,a){if(!t.isReady()||r===f)return!0;var o=n.trafficTypeExists(i);At(o)?o.then((function(t){return t||gn(e,i,a),t})):o||gn(e,i,a)}(s,t,n.splits,u,r,"track");var g=a.track(m,d);return At(g)?g.then((function(e){return h(),e})):(h(),g)},isClientSide:!1}}var yn=/^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/;function bn(e,t,n){if(null==t)e.error(315,[n,"event_type"]);else if(P(t))if(0===t.length)e.error(319,[n,"event_type"]);else{if(yn.test(t))return t;e.error(310,[n,t])}else e.error(318,[n,"event_type"]);return!1}function En(e,t,n){return R(t)||null==t?t:(e.error(313,[n]),!1)}var wn=0,On=2,Sn=4,_n=8;function kn(e,t,n){if(null==t)return{properties:null,size:1024};if(!L(t))return e.error(311,[n,"properties"]),{properties:!1,size:1024};var r=Object.keys(t),i=s({},t),a={properties:i,size:1024};r.length>300&&e.warn(212,[n]);for(var o=0;o<r.length;o++){a.size+=r[o].length*On;var c=i[r[o]],u=P(c),l=R(c),d=x(c),f=null===c;if(u||l||d||f||(i[r[o]]=null,c=null,f=!0,e.warn(211,[n,r[o]])),f?a.size+=wn:l?a.size+=_n:d?a.size+=Sn:u&&(a.size+=c.length*On),a.size>32768){e.error(312,[n]),a.properties=!1;break}}return a}function Tn(e){return[p,h,g].indexOf(e.mode)>-1}function Cn(e){return!!Tn(e)&&e.sync.impressionsMode===d}function An(e){return-1===[m,g].indexOf(e.mode)}function Nn(e,t){var n=e.sdkReadinessManager,r=e.syncManager,i=e.storage,a=e.signalListener,o=e.settings,l=e.telemetryTracker;return s(Object.create(n.sdkStatus),function(e,t,n){var r=e.log,i=An(e);function a(e,t,i,a){var o=U(a,"getTreatments"),s=Z(r,e,a),c=o?$(r,t,a):Y(r,t,a),u=Pt(r,i,a),l=Nt(r,n,a);return It(r,n,a),{valid:l&&s&&c&&!1!==u,key:s,splitOrSplits:c,attributes:u}}function o(e){return i?e:Promise.resolve(e)}return{getTreatment:function(e,n,r){var i=a(e,n,r,"getTreatment");return i.valid?t.getTreatment(i.key,i.splitOrSplits,i.attributes):o(c)},getTreatmentWithConfig:function(e,n,r){var i=a(e,n,r,"getTreatmentWithConfig");return i.valid?t.getTreatmentWithConfig(i.key,i.splitOrSplits,i.attributes):o(s({},u))},getTreatments:function(e,n,r){var i=a(e,n,r,"getTreatments");if(i.valid)return t.getTreatments(i.key,i.splitOrSplits,i.attributes);var s={};return i.splitOrSplits&&i.splitOrSplits.forEach((function(e){return s[e]=c})),o(s)},getTreatmentsWithConfig:function(e,n,r){var i=a(e,n,r,"getTreatmentsWithConfig");if(i.valid)return t.getTreatmentsWithConfig(i.key,i.splitOrSplits,i.attributes);var c={};return i.splitOrSplits&&i.splitOrSplits.forEach((function(e){return c[e]=s({},u)})),o(c)},track:function(e,a,o,s,c){var u=Z(r,e,"track"),l=te(r,a,"track"),d=bn(r,o,"track"),f=En(r,s,"track"),h=kn(r,c,"track"),p=h.properties,m=h.size;return Nt(r,n,"track")&&u&&l&&d&&!1!==f&&!1!==p?t.track(u,l,d,f,p,m):!i&&Promise.resolve(!1)}}}(o,vn(e),n.readinessManager),{destroy:function(){return t||l.sessionLength(),r&&r.stop(),(r?r.flush():Promise.resolve()).then((function(){var e;return n.readinessManager.destroy(),a&&a.stop(),t||(e=o.core.authorizationKey,ce[e]&&ce[e]--,0===ce[e]&&delete ce[e]),i.destroy()}))}})}function In(e,t){return(e.matchingKey?e.matchingKey:e)+"-"+(e.bucketingKey?e.bucketingKey:e)+"-"+(void 0!==t?t:"")}function jn(e){var t=e.storage,n=e.syncManager,r=e.sdkReadinessManager,i=e.settings,a=i.core,o=a.key,c=a.trafficType,u=i.startup.readyTimeout,l=i.log,d=Ut(l,Nn(e),o,c),f=In(He(o),c),h={};return h[f]=d,function(i,a){if(void 0===i)return l.debug(27),d;var o,c=Z(l,i,"Shared Client instantiation");if(!1===c)throw new Error("Shared Client needs a valid key.");if(void 0!==a&&!1===(o=te(l,a,"Shared Client instantiation")))throw new Error("Shared Client needs a valid traffic type or no traffic type at all.");var f=In(c,o);if(h[f])l.debug(28);else{var p=Be(c),m=r.shared(u),g=t.shared&&t.shared(p,(function(e){e||m.readinessManager.segments.emit("state::segments-arrived")})),v=n&&g&&n.shared(p,m.readinessManager,g);h[f]=Ut(l,Nn(s({},e,{sdkReadinessManager:m,storage:g||t,syncManager:v,signalListener:void 0}),!0),c,o),v&&v.start(),l.info(104)}return h[f]}}var Dn=function(){function e(e){var t=this;this.__mapKeysData__=[],this.__mapValuesData__=[],Array.isArray(e)&&e.forEach((function(e){t.set(e[0],e[1])}))}return e.prototype.clear=function(){this.__mapKeysData__.length&&(this.__mapKeysData__.length=0,this.__mapValuesData__.length=0)},e.prototype.set=function(e,t){var n=this.__mapKeysData__.indexOf(e);return-1===n&&(n=this.__mapKeysData__.push(e)-1),this.__mapValuesData__[n]=t,this},e.prototype.delete=function(e){var t=this.__mapKeysData__.indexOf(e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),!0)},e.prototype.get=function(e){var t=this.__mapKeysData__.indexOf(e);if(-1!==t)return this.__mapValuesData__[t]},Object.defineProperty(e.prototype,"size",{get:function(){return this.__mapKeysData__.length},enumerable:!1,configurable:!0}),e}();var xn="function"==typeof Array.from&&"function"==typeof Map&&Map.prototype&&Map.prototype.values?Map:Dn,Rn=function(e,t,n,r){this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null},Mn=function(){function e(){this.tail=null,this.head=null,this.length=0}return e.prototype.removeNode=function(e){if(e&&e instanceof Rn){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t}},e.prototype.unshiftNode=function(e){if(e&&e instanceof Rn&&e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},e.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)this.head=new Rn(arguments[e],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},e}(),Ln=function(){function e(e){this.maxLen=e||1,this.items=new xn,this.lru=new Mn}return e.prototype.get=function(e){var t=this.items.get(e);if(t&&t instanceof Rn)return this.lru.unshiftNode(t),t.value.value},e.prototype.set=function(e,t){var n=this.items.get(e);if(n){if(!(n instanceof Rn))return!1;this.lru.unshiftNode(n),this.lru.head.value.value=t}else{if(this.lru.length===this.maxLen){var r=this.lru.tail;if(!r)return!1;this.items.delete(r.value.key),this.lru.removeNode(this.lru.tail)}this.lru.unshift({key:e,value:t}),this.items.set(e,this.lru.head)}return!0},e}(),Pn=function(){function e(e,t){this.cache=new Ln(e),this.hasher=t}return e.prototype.testAndSet=function(e){var t=this.hasher(e),n=this.cache.get(t);return this.cache.set(t,e.time),n},e}();function Fn(e){return Me(function(e){return e.keyName+":"+e.feature+":"+e.treatment+":"+e.label+":"+e.changeNumber}(e))}function Un(){return new Pn(500,Fn)}var Gn="ga-to-split: ";var qn,Vn=(qn={eventTypeId:{event:"eventAction",social:"socialAction"},eventValue:{event:"eventValue",timing:"timingValue"},eventProperties:{pageview:["page"],screenview:["screenName"],event:["eventCategory","eventLabel"],social:["socialNetwork","socialTarget"],timing:["timingCategory","timingVar","timingLabel"],exception:["exDescription","exFatal"]}},function(e){var t=e.get("hitType"),n=e.get(qn.eventTypeId[t]||"hitType"),r=e.get(qn.eventValue[t]),i={},a=qn.eventProperties[t];if(a)for(var o=0;o<a.length;o++)i[a[o]]=e.get(a[o]);return{eventTypeId:n,value:r,properties:i,timestamp:Date.now()}});function Bn(e){return Array.isArray(e)?function(e,t){void 0===t&&(t=JSON.stringify);var n={};return e.filter((function(e){var r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(e).filter((function(e){if(!e)return!1;var t=e.key,n=e.trafficType;return!(!P(t)&&!R(t))&&!!P(n)})):[]}var Hn=/^[^a-zA-Z0-9]+/,zn=/[^-_.:a-zA-Z0-9]+/g;function Kn(e,t){var n,r,i,a=t.storage,o=t.settings,c=o.core,u=o.log,l={prefix:"ga",identities:c.key&&c.trafficType?[{key:c.key,trafficType:c.trafficType}]:void 0};n="splitTracker",r=function(t,n){var r=s({},l,e,n);this.tracker=t;var i=Bn(r.identities);if(0!==i.length){var o=i.length-r.identities.length;o&&u.warn(Gn+(o+" identities were discarded because they are invalid or duplicated. Identities must be an array of objects with key and trafficType.")),r.identities=i,P(r.prefix)||(u.warn(Gn+"The provided `prefix` was ignored since it is invalid. Please check that you are passing a string object as `prefix`."),r.prefix=void 0);var c=t.get("sendHitTask");t.set("sendHitTask",(function(e){if(c(e),!1!==r.hits&&!e.get("splitHit")){try{if(r.filter&&!r.filter(e))return}catch(e){return void u.warn(Gn+"custom filter threw: "+e)}var t=Vn(e);if(r.mapper){try{t=r.mapper(e,t)}catch(e){return void u.warn(Gn+"custom mapper threw: "+e)}if(!t)return}r.prefix&&(t.eventTypeId=r.prefix+"."+t.eventTypeId),t.eventTypeId=function(e,t){if(!P(t)||0===t.length)return t;var n=t.replace(Hn,"").replace(zn,"_"),r=n.slice(0,80);return r.length<n.length&&e.warn(Gn+"EventTypeId was truncated because it cannot be more than 80 characters long."),r}(u,t.eventTypeId),function(e,t){return!(!bn(e,t.eventTypeId,"ga-to-split:mapper")||!1===En(e,t.value,"ga-to-split:mapper")||!1===kn(e,t.properties,"ga-to-split:mapper").properties||t.timestamp&&!R(t.timestamp)||t.key&&!1===Z(e,t.key,"ga-to-split:mapper")||t.trafficTypeName&&!1===te(e,t.trafficTypeName,"ga-to-split:mapper"))}(u,t)&&(t.key&&t.trafficTypeName?a.events.track(t):r.identities.forEach((function(e){var n=s({key:e.key,trafficTypeName:e.trafficType},t);a.events.track(n)})))}})),u.info(Gn+"integration started")}else u.warn(Gn+"No valid identities were provided. Please check that you are passing a valid list of identities or providing a traffic type at the SDK configuration.")},i=window.GoogleAnalyticsObject||"ga",window[i]=window[i]||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window[i].q=window[i].q||[]).push(e)},window[i]("provide",n,r)}var Wn="No hit was sent.",Yn=function(){function e(t,n){this.trackerNames=e.defaultTrackerNames,this.log=t,n&&("function"==typeof n.filter&&(this.filter=n.filter),"function"==typeof n.mapper&&(this.mapper=n.mapper),Array.isArray(n.trackerNames)&&(this.trackerNames=V(n.trackerNames)),this.impressions=n.impressions,this.events=n.events),t.info("split-to-ga: integration started"),"function"!=typeof e.getGa()&&t.warn("split-to-ga: `ga` command queue not found. No hits will be sent until it is available.")}return e.defaultMapper=function(e){var t=e.type,n=e.payload;switch(t){case"IMPRESSION":return{hitType:"event",eventCategory:"split-impression",eventAction:"Evaluate "+n.impression.feature,eventLabel:"Treatment: "+n.impression.treatment+". Targeting rule: "+n.impression.label+".",nonInteraction:!0};case"EVENT":return{hitType:"event",eventCategory:"split-event",eventAction:n.eventTypeId,eventValue:n.value,nonInteraction:!0}}},e.getGa=function(){return"undefined"!=typeof window?window[window.GoogleAnalyticsObject||"ga"]:void 0},e.validateFieldsObject=function(e,t){return!(!t||!t.hitType)||(e.warn("split-to-ga: your custom mapper returned an invalid FieldsObject instance. It must be an object with at least a `hitType` field."),!1)},e.prototype.queue=function(t){var n=e.getGa();if(n){if(!1===this.impressions&&"IMPRESSION"===t.type)return;if(!1===this.events&&"EVENT"===t.type)return;var r;try{if(this.filter&&!this.filter(t))return;if(r=e.defaultMapper(t),this.mapper&&(!(r=this.mapper(t,r))||!e.validateFieldsObject(this.log,r)))return}catch(e){return void this.log.warn("split-to-ga: queue method threw: "+e+". "+Wn)}this.trackerNames.forEach((function(e){var t=e?e+".send":"send";r.splitHit=!0,n(t,r)}))}else this.log.warn("split-to-ga: `ga` command queue not found. "+Wn)},e.defaultTrackerNames=[""],e}();function $n(e,t){return function(e,t){var n=[];if(e.forEach((function(e){var r=e(t);r&&r.queue&&n.push(r)})),0!==n.length)return{handleImpression:function(e){n.forEach((function(t){return t.queue({type:"IMPRESSION",payload:e})}))},handleEvent:function(e){n.forEach((function(t){return t.queue({type:"EVENT",payload:e})}))}}}(e.map((function(e){switch(e.type){case"GOOGLE_ANALYTICS_TO_SPLIT":return function(e){function t(t){return Kn(e,t)}return t.type="GOOGLE_ANALYTICS_TO_SPLIT",t}(e);case"SPLIT_TO_GOOGLE_ANALYTICS":return function(e){function t(t){return new Yn(t.settings.log,e)}return void 0===e&&(e={}),t.type="SPLIT_TO_GOOGLE_ANALYTICS",t}(e)}})).filter((function(e){return e&&"function"==typeof e})),t)}function Jn(e){var t=Ct(e);return t.splits.checkCache=function(){return!0},t}function Qn(e,t){var n=!1,r=!1;var i=function e(i){var a=new Promise((function(e,n){return i.then(e,(function(e){r?n(e):t(e)}))})),o=a.then;return Object.defineProperty(a,"then",{value:function(t,i){var s=o.call(a,t,i);return"function"==typeof t&&(n=!0),"function"==typeof i?(r=!0,s):e(s)}}),a}(e);return i.hasOnFulfilled=function(){return n},i}function Xn(e,t,n){void 0===t&&(t=0),void 0===n&&(n=function(e){var t=s(new e,{splitsArrived:!1,splitsCacheLoaded:!1});return t.on("state::splits-arrived",(function(e){e||(t.splitsArrived=!0)})),t.once("state::splits-cache-loaded",(function(){t.splitsCacheLoaded=!0})),t}(e));var r=function(e){var t=s(new e,{segmentsArrived:!1});return t.once("state::segments-arrived",(function(){t.segmentsArrived=!0})),t}(e),i=new e,a=!1;n.splitsCacheLoaded?a=!0:n.once("state::splits-cache-loaded",(function(){if(a=!0,!u)try{i.emit("init::cache-ready")}catch(e){setTimeout((function(){throw e}),0)}}));var o,c=!1;t>0&&(o=setTimeout((function(){c=!0,i.emit("init::timeout","Split SDK emitted SDK_READY_TIMED_OUT event.")}),t));var u=!1;n.on("state::splits-arrived",d),r.on("state::segments-arrived",d);var l=!1;function d(e){if(u)try{i.emit("state::update",e)}catch(e){setTimeout((function(){throw e}),0)}else if(n.splitsArrived&&r.segmentsArrived){clearTimeout(o),u=!0;try{i.emit(K)}catch(e){setTimeout((function(){throw e}),0)}}}var f=1;return{splits:n,segments:r,gate:i,shared:function(t){return void 0===t&&(t=0),f++,Xn(e,t,n)},destroy:function(){l=!0,r.removeAllListeners(),i.removeAllListeners(),clearTimeout(o),f>0&&f--,0===f&&n.removeAllListeners()},isReady:function(){return u},hasTimedout:function(){return c},isReadyFromCache:function(){return a},isDestroyed:function(){return l},isOperational:function(){return(u||a)&&!l}}}Jn.type=v;var Zn={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},er={DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:5};function tr(e){return!!N(Zn,(function(t){return e===t}))}function nr(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var n=0;return e.replace(/%s/g,(function(){return t[n++]}))}var rr={prefix:"splitio",logLevel:Zn.NONE,showLevel:!0},ir=function(){function e(e,t){this.options=s({},rr,e),this.codes=t||new xn,this.logLevel=er[this.options.logLevel]}return e.prototype.setLogLevel=function(e){this.options.logLevel=e,this.logLevel=er[e]},e.prototype.debug=function(e,t){this._shouldLog(er.DEBUG)&&this._log(Zn.DEBUG,e,t)},e.prototype.info=function(e,t){this._shouldLog(er.INFO)&&this._log(Zn.INFO,e,t)},e.prototype.warn=function(e,t){this._shouldLog(er.WARN)&&this._log(Zn.WARN,e,t)},e.prototype.error=function(e,t){this._shouldLog(er.ERROR)&&this._log(Zn.ERROR,e,t)},e.prototype._log=function(e,t,n){if("number"==typeof t){var r=this.codes.get(t);t=r?nr(r,n):"Message code "+t+(n?", with args: "+n.toString():"")}else n&&(t=nr(t,n));var i=this._generateLogMessage(e,t);console.log(i)},e.prototype._generateLogMessage=function(e,t){var n="";return this.options.showLevel&&(n+="["+e+"]"+(e===Zn.INFO||e===Zn.WARN?" ":"")+" "),this.options.prefix&&(n+=this.options.prefix+" => "),n+t},e.prototype._shouldLog=function(e){return e>=this.logLevel},e}();function ar(e){function t(t){tr(t)?e.setLogLevel(t):e.error(301)}return{enable:function(){t(Zn.DEBUG)},setLogLevel:t,disable:function(){t(Zn.NONE)},LogLevel:Zn}}function or(e){return{s:e.version,i:e.runtime.ip||"unknown",n:e.runtime.hostname||"unknown"}}function sr(e){var t=e.settings,n=e.platform,r=e.storageFactory,i=e.splitApiFactory,a=e.extraProps,o=e.syncManagerFactory,c=e.SignalListener,u=e.impressionsObserverFactory,l=e.integrationsManagerFactory,d=e.sdkManagerFactory,f=e.sdkClientMethodFactory,h=t.log;ue(h,t.core.authorizationKey);var p=function e(t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Xn(n,r));var a=0,o=0;i.gate.on("removeListener",(function(e){e===K&&o--})),i.gate.on("newListener",(function(e){e!==K&&"init::timeout"!==e||(i.isReady()?t.error(302,[e===K?"SDK_READY":"SDK_READY_TIMED_OUT"]):e===K&&o++)}));var c,u=c=Qn(new Promise((function(e,n){i.gate.once(K,(function(){t.info(101),o!==a||c.hasOnFulfilled()||t.warn(202),e()})),i.gate.once("init::timeout",(function(e){n(new Error(e))}))})),l);function l(e){t.error(e&&e.message)}return i.gate.once("init::cache-ready",(function(){t.info(100)})),{readinessManager:i,shared:function(r){return void 0===r&&(r=0),e(t,n,r,i.shared(r))},incInternalReadyCbCount:function(){a++},sdkStatus:s(Object.create(i.gate),{Event:{SDK_READY:K,SDK_READY_FROM_CACHE:"init::cache-ready",SDK_UPDATE:"state::update",SDK_READY_TIMED_OUT:"init::timeout"},ready:function(){return i.hasTimedout()?i.isReady()?Promise.resolve():Qn(Promise.reject(new Error("Split SDK has emitted SDK_READY_TIMED_OUT event.")),l):u},__getStatus:function(){return{isReady:i.isReady(),isReadyFromCache:i.isReadyFromCache(),isOperational:i.isOperational(),hasTimedout:i.hasTimedout(),isDestroyed:i.isDestroyed()}}})}}(h,n.EventEmitter,t.startup.readyTimeout),m=p.readinessManager,g=r({impressionsQueueSize:t.scheduler.impressionsQueueSize,eventsQueueSize:t.scheduler.eventsQueueSize,optimize:Cn(t),matchingKey:Be(t.core.key),splitFiltersValidation:t.sync.__splitFiltersValidation,mode:t.mode,onReadyCb:function(e){e||(m.splits.emit("state::splits-arrived"),m.segments.emit("state::segments-arrived"))},metadata:or(t),log:h}),v=l&&l({settings:t,storage:g}),y=u&&u(),b=function(e,t,n,r,i,a){var o=e.log,c=e.impressionListener,u=e.runtime,l=u.ip,d=u.hostname,f=e.version;return{track:function(u,h){if("DECLINED"!==e.userConsent){var p=u.length,m=[];u.forEach((function(e){r&&(e.pt=r.testAndSet(e));var t=Date.now();i&&i.track(e.feature,t,1),(!i||!e.pt||e.pt<lt(t))&&m.push(e)}));var g=t.track(m);if(At(g)?g.then((function(){o.info(121,[p])})).catch((function(e){o.error(307,[p,e])})):a&&(a.recordImpressionStats(0,m.length),a.recordImpressionStats(2,u.length-m.length)),c||n)for(var v=function(e){var t={impression:s({},u[e]),attributes:h,ip:l,hostname:d,sdkLanguageVersion:f};setTimeout((function(){n&&n.handleImpression(t);try{c&&c.logImpression(t)}catch(e){o.error(308,[e])}}),0)},y=0;y<p;y++)v(y)}}}}(t,g.impressions,v,y,g.impressionCounts,g.telemetry),E=function(e,t,n,r){var i=e.log,a=An(e);function o(e,t){var r='event of type "'+e.eventTypeId+'" for traffic type "'+e.trafficTypeName+'". Key: '+e.key+". Value: "+e.value+". Timestamp: "+e.timestamp+". "+(e.properties?"With properties.":"With no properties.");return t?(i.info(120,[r]),n&&setTimeout((function(){var t=s({},e);e.properties&&(t.properties=s({},e.properties)),n.handleEvent(t)}),0)):i.error(309,[r]),t}return{track:function(n,i){if("DECLINED"===e.userConsent)return!a&&Promise.resolve(!1);var s=t.track(n,i);return At(s)?s.then(o.bind(null,n)):(r&&r.recordEventStats(s?0:1,1),o(n,s))}}}(t,g.events,v,g.telemetry),w=function(e,t){if(e&&t){var n=le(t);return{trackEval:function(n){var r=le(t);return function(t){switch(t){case"exception":return void e.recordException(n);case"not ready":e.recordNonReadyUsage&&e.recordNonReadyUsage()}e.recordLatency(n,r())}},trackHttp:function(n){var r=le(t);return function(t){e.recordHttpLatency(n,r()),t&&t.statusCode?e.recordHttpError(n,t.statusCode):e.recordSuccessfulSync(n,Date.now())}},sessionLength:function(){e.recordSessionLength&&e.recordSessionLength(n())},streamingEvent:function(t,n){80===t?e.recordAuthRejections():(e.recordStreamingEvents({e:t,d:n,t:Date.now()}),50===t&&e.recordTokenRefreshes())}}}var r=function(){return function(){}};return{trackEval:r,trackHttp:r,sessionLength:function(){},streamingEvent:function(){}}}(g.telemetry,n.now),O=i&&i(t,n,w),S={splitApi:O,eventTracker:E,impressionsTracker:b,telemetryTracker:w,sdkReadinessManager:p,readiness:m,settings:t,storage:g,platform:n},_=o&&o(S);S.syncManager=_;var k=c&&new c(_,t,g,O);S.signalListener=k;var T=f(S),C=d(h,g.splits,p);return _&&_.start(),k&&k.start(),h.info(105),s({client:T,manager:function(){return h.debug(29),C},Logger:ar(t.log),settings:t},a&&a(S))}var cr={GRANTED:"GRANTED",DECLINED:"DECLINED",UNKNOWN:"UNKNOWN"};function ur(e){var t=e.settings,n=e.settings.log,r=e.syncManager,i=e.storage,a=i.events,o=i.impressions,s=i.impressionCounts;return Ee(t)||n.info(124,[t.userConsent]),{setStatus:function(e){var i,c;if(!x(e))return n.warn(325,["UserConsent.setStatus"]),!1;var u=e?"GRANTED":"DECLINED";return t.userConsent!==u?(n.info(122,[t.userConsent,u]),t.userConsent=u,e?null===(i=null==r?void 0:r.submitterManager)||void 0===i||i.start():(null===(c=null==r?void 0:r.submitterManager)||void 0===c||c.stop(!0),a.clear&&a.clear(),o.clear&&o.clear(),s&&s.clear())):n.info(123,[u]),!0},getStatus:function(){return t.userConsent},Status:cr}}var lr=!("undefined"==typeof process||void 0===process.version||!process.version),dr=[[300,"engine:combiner: Invalid Split, no valid rules found"],[301,"logger: Invalid Log Level - No changes to the logs will be applied."],[303,"The SDK will not get ready. Reason: %s"],[307,"impressions-tracker: Could not store impressions bulk with %s impression(s). Error: %s"],[308,"impressions-tracker: Impression listener logImpression method threw: %s."],[309,"events-tracker: Failed to queue %s"],[304,"sync:offline: There was an issue loading the mock Splits data, no changes will be applied to the current cache. %s"],[305,"sync:streaming: Failed to connect or error on streaming connection, with error message: %s"],[306,"sync:streaming: Failed to authenticate for streaming. Error: %s."],[322,"Response status is not OK. Status: %s. URL: %s. Message: %s"],[302,"A listener was added for %s on the SDK, which has already fired and won't be emitted again. The callback won't be executed."],[314,"%s: Client has already been destroyed - no calls possible."],[310,'%s: you passed "%s", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.'],[311,"%s: %s must be a plain object."],[312,"%s: the maximum size allowed for the properties is 32768 bytes, which was exceeded. Event not queued."],[313,"%s: value must be a finite number."],[315,"%s: you passed a null or undefined %s. It must be a non-empty string."],[316,"%s: %s too long. It must have 250 characters or less."],[317,"%s: Key must be an object with bucketingKey and matchingKey with valid string properties."],[318,"%s: you passed an invalid %s. It must be a non-empty string."],[319,"%s: you passed an empty %s. It must be a non-empty string."],[320,"%s: %s must be a non-empty array."],[325,"%s: provided param must be a boolean value."],[321,'settings: you passed an invalid "%s" config param. It should be one of the following values: %s. Defaulting to "%s".'],[323,'settings: an invalid value was received for "sync.localhostMode" config. A valid entity should be provided for localhost mode.'],[324,"settings: the provided storage is invalid.%s Falling back into default MEMORY storage"],[326,'settings: the provided "%s" config param is lower than allowed. Setting to the minimum value %s seconds']].concat([[200,"engine:value: Value %s doesn't match with expected type."],[201,"engine:value: Defined attribute [%s], no attributes received."],[204,"sync:my-segments: Retrying download of segments #%s. Reason: %s"],[205,"sync:split-changes: Error while doing fetch of Splits. %s"],[206,"sync:streaming: Error parsing SSE error notification: %s"],[207,"sync:streaming: Error parsing SSE message notification: %s"],[208,"sync:streaming: Falling back to polling mode. Reason: %s"],[209,"sync:submitter: Dropping %s after retry. Reason: %s."],[210,"sync:submitter: Failed to push %s, keeping data to retry on next iteration. Reason: %s."],[203,"%s: the SDK is not ready, results may be incorrect. Make sure to wait for SDK readiness before using this method."],[202,"No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready."],[211,'%s: Property "%s" is of invalid type. Setting value to null.'],[212,"%s: Event has more than 300 properties. Some of them will be trimmed when processed."],[213,'%s: %s "%s" is not of type string, converting.'],[214,'%s: %s "%s" has extra whitespace, trimming.'],[215,'%s: split "%s" does not exist in this environment, please double check what splits exist in the Split web console.'],[216,"%s: traffic_type_name should be all lowercase - converting string to lowercase."],[217,'%s: traffic type "%s" does not have any corresponding split in this environment, make sure you\'re tracking your events to a valid traffic type defined in the Split web console.'],[218,"settings: %s integration item(s) at settings is invalid. %s"],[219,'settings: split filters have been configured but will have no effect if mode is not "%s", since synchronization is being deferred to an external tool.'],[220,'settings: split filter at position %s is invalid. It must be an object with a valid filter type ("byName" or "byPrefix") and a list of "values".'],[221,"settings: splitFilters configuration must be a non-empty array of filter objects."],[222,"settings: You already have %s. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application"],[223,"sync:streaming: Fetching MySegments due to an error processing %s notification: %s"]]).concat([[100,"Split SDK is ready from cache"],[101,"Split SDK is ready"],[102,"impressions-tracker: Split: %s. Key: %s. Evaluation: %s. Label: %s"],[103,"impressions-tracker: Queueing corresponding impression."],[104,"New shared client instance created."],[105,"New Split SDK instance created."],[120,"events-tracker: Successfully queued %s"],[121,"impressions-tracker: Successfully stored %s impression(s)."],[122,"UserConsent: consent status changed from %s to %s."],[123,"UserConsent: call had no effect because it was the current consent status (%s)."],[124,"Starting the SDK with %s user consent. No data will be sent."],[106,"sync:polling-manager: Turning segments data polling %s."],[107,"sync:polling-manager: Starting polling"],[108,"sync:polling-manager: Stopping polling"],[109,"sync:split-changes: Retrying download of splits #%s. Reason: %s"],[115,"sync:submitter: Flushing full %s queue and reseting timer."],[116,"sync:submitter: Pushing %s."],[110,"sync:streaming: Refreshing streaming token in %s seconds, and connecting streaming in %s seconds."],[111,"sync:streaming: Attempting to reconnect streaming in %s seconds."],[112,"sync:streaming: Connecting streaming."],[113,"sync:streaming: Streaming is disabled for given Api key. Switching to polling mode."],[114,"sync:streaming: Disconnecting streaming."],[117,"sync:sync-manager: Streaming not available. Starting polling."],[118,"sync:sync-manager: Streaming couldn't connect. Continue polling."],[119,"sync:sync-manager: Streaming connected. Syncing and stopping polling."]]).concat([[0,"engine:combiner: [andCombiner] evaluates to %s"],[1,"engine:combiner: Treatment found: %s"],[2,"engine:combiner: All predicates evaluated, no treatment found."],[3,'engine: using algo "murmur" bucket %s for key %s using seed %s - treatment %s'],[4,"engine:matcher: [allMatcher] is always true"],[5,"engine:matcher: [betweenMatcher] is %s between %s and %s? %s"],[6,"engine:matcher: [booleanMatcher] %s === %s"],[7,"engine:matcher: [containsAllMatcher] %s contains all elements of %s? %s"],[8,"engine:matcher: [containsAnyMatcher] %s contains at least an element of %s? %s"],[9,"engine:matcher: [containsStringMatcher] %s contains %s? %s"],[10,'engine:matcher: [dependencyMatcher] parent split "%s" evaluated to "%s" with label "%s". %s evaluated treatment is part of [%s] ? %s.'],[11,'engine:matcher: [dependencyMatcher] will evaluate parent split: "%s" with key: %s %s'],[12,"engine:matcher: [equalToMatcher] is %s equal to %s? %s"],[13,"engine:matcher: [equalToSetMatcher] is %s equal to set %s? %s"],[14,"engine:matcher: [endsWithMatcher] %s ends with %s? %s"],[15,"engine:matcher: [greaterThanEqualMatcher] is %s greater than %s? %s"],[16,"engine:matcher: [lessThanEqualMatcher] is %s less than %s? %s"],[17,"engine:matcher: [partOfMatcher] %s is part of %s? %s"],[18,"engine:matcher: [segmentMatcher] evaluated %s / %s => %s"],[19,"engine:matcher: [stringMatcher] does %s matches with %s? %s"],[20,"engine:matcher: [stringMatcher] %s is an invalid regex"],[21,"engine:matcher: [startsWithMatcher] %s starts with %s? %s"],[22,"engine:matcher: [whitelistMatcher] evaluated %s in [%s] => %s"],[23,"engine:value: Extracted attribute [%s], [%s] will be used for matching."],[24,"engine:sanitize: Attempted to sanitize [%s] which should be of type [%s]. Sanitized and processed value => [%s]"],[25,"cleanup: Registering cleanup handler %s"],[26,"cleanup: Deregistering cleanup handler %s"],[27,"Retrieving default SDK client."],[28,"Retrieving existing SDK client."],[29,"Retrieving manager instance."],[30,"sync:offline: Splits data: \n%s"],[31,"sync:split-changes: Spin up split update using since = %s"],[32,"sync:split-changes: New splits %s"],[33,"sync:split-changes: Removed splits %s"],[34,"sync:split-changes: Segment names collected %s"],[35,"sync:streaming: New SSE message received, with data: %s."],[36,"sync: Starting %s. Running each %s millis"],[37,"sync: Running %s"],[38,"sync: Stopping %s"],[39,'settings: splits filtering criteria is "%s".']]);var fr=new xn(dr),hr=String(lr?process.env.SPLITIO_DEBUG:mt()?localStorage.getItem("splitio_debug"):""),pr=Zn.NONE;function mr(e){var t=e.treatment;return e.keys?{conditionType:"WHITELIST",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"WHITELIST",negate:!1,whitelistMatcherData:{whitelist:P(e.keys)?[e.keys]:e.keys}}]},partitions:[{treatment:t,size:100}],label:"whitelisted "+t}:{conditionType:"ROLLOUT",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"ALL_KEYS",negate:!1}]},partitions:[{treatment:t,size:100}],label:"default rule"}}function gr(e,t,n,r){return O(r.log,function(e,t,n,r){var i=r.log,a=t.splits,o=!0;return function(){var t=[],s=null,u={};try{u=e(r)}catch(e){s=e,i.error(304,[e])}return!s&&u?(i.debug(30,[JSON.stringify(u)]),j(u,(function(e,n){t.push([n,JSON.stringify({name:n,status:"ACTIVE",killed:!1,trafficAllocation:100,defaultTreatment:c,conditions:e.conditions||[],configurations:e.configurations,trafficTypeName:e.trafficTypeName})])})),Promise.all([a.clear(),a.addSplits(t)]).then((function(){return n.splits.emit("state::splits-arrived"),o&&(o=!1,Promise.resolve(a.checkCache()).then((function(e){e&&n.splits.emit("state::splits-cache-loaded"),n.segments.emit("state::segments-arrived")}))),!0}))):Promise.resolve(!0)}}(e,t,n,r),r.scheduler.offlineRefreshRate,"offlineUpdater")}function vr(){return Promise.resolve()}/^(enabled?|on)/i.test(hr)?pr=Zn.DEBUG:tr(hr)&&(pr=hr);var yr,br=(yr=function(){var e={emptyMock:"1"};return function(t){var n,r,i=t.features||{};if(n=i,!((r=Object.keys(n)).length!==Object.keys(e).length?(e=n,1):r.some((function(t){var r,i,a=!e[t],o=(r=e[t],i=n[t],typeof r!=typeof i||("string"==typeof r?r!==i:r.treatment!==i.treatment||r.config!==i.config)),s=a||o;return s&&(e=n),s}))))return!1;var a={};return j(i,(function(e,t){var n=e,r=null;L(e)&&(n=e.treatment,r=e.config||r);var i={};null!==r&&(i[n]=r),a[t]={trafficTypeName:"localhost",conditions:[mr({treatment:n})],configurations:i}})),a}},function(e){var t=e.settings,n=e.readiness,r=e.storage;return s(gr(yr(),r,n,t),{flush:vr,shared:function(e,t){return{start:function(){setTimeout((function(){t.segments.emit("state::segments-arrived")}),0)},stop:function(){},isRunning:function(){return!0},flush:vr}}})});br.type="LocalhostFromObject";var Er=["DECLINED","GRANTED","UNKNOWN"];function wr(e,t){return void 0===t&&(t=[]),function(e,t,n){var r=e.integrations,i=e.log;if(!Array.isArray(r)||0===r.length)return[];var a=r.filter(t),o=r.length-a.length;return o&&i.warn(218,[o,n||""]),a}(e,(function(e){return e&&P(e.type)&&t.indexOf(e.type)>-1}),'Integration items must have a valid "type" value')}var Or={defaults:{startup:{requestTimeoutBeforeReady:5,retriesOnFailureBeforeReady:1,readyTimeout:10,eventsFirstPushWindow:10},userConsent:"GRANTED",version:"javascript-10.20.0"},acceptKey:!0,acceptTT:!0,runtime:function(){return{ip:!1,hostname:!1}},storage:function(e){var t,n=e.log,r=e.mode,i=e.storage,a=void 0===i?{type:v}:i,o=a.type,s=a.options,c=void 0===s?{}:s,u=a.prefix,l=function(){t=o,o=v};return r===f&&"LOCALSTORAGE"===o&&l(),(o!==v&&"LOCALSTORAGE"!==o||"LOCALSTORAGE"===o&&!mt())&&(l(),n.error("Invalid or unavailable storage. Fallbacking into MEMORY storage")),{type:o,options:c,prefix:u,__originalType:t}},integrations:function(e){return wr(e,["GOOGLE_ANALYTICS_TO_SPLIT","SPLIT_TO_GOOGLE_ANALYTICS"])},logger:function(e){var t,n=e.debug,r=void 0!==n?"boolean"==typeof(t=n)?t?Zn.DEBUG:Zn.NONE:"string"==typeof t&&tr(t)?t:void 0:pr,i=new ir({logLevel:r||pr},fr);return r||i._log(Zn.ERROR,"Invalid Log Level - No changes to the logs will be applied."),i},localhost:function(){return br},consent:function(e){var t=e.userConsent,n=e.log;return t=F(t),Er.indexOf(t)>-1?t:(n.error(321,["userConsent",Er,"GRANTED"]),"GRANTED")}};var Sr,_r="object"==typeof Reflect?Reflect:null,kr=_r&&"function"==typeof _r.apply?_r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Sr=_r&&"function"==typeof _r.ownKeys?_r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Tr=Number.isNaN||function(e){return e!=e};function Cr(){Cr.init.call(this)}Cr.prototype._events=void 0,Cr.prototype._eventsCount=0,Cr.prototype._maxListeners=void 0;var Ar=10;function Nr(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Ir(e){return void 0===e._maxListeners?Cr.defaultMaxListeners:e._maxListeners}function jr(e,t,n,r){var i,a,o,s;if(Nr(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=Ir(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function Dr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xr(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Dr.bind(r);return i.listener=n,r.wrapFn=i,i}function Rr(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Lr(i,i.length)}function Mr(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Lr(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(Cr,"defaultMaxListeners",{enumerable:!0,get:function(){return Ar},set:function(e){if("number"!=typeof e||e<0||Tr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ar=e}}),Cr.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Cr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Tr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Cr.prototype.getMaxListeners=function(){return Ir(this)},Cr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)kr(s,this,t);else{var c=s.length,u=Lr(s,c);for(n=0;n<c;++n)kr(u[n],this,t)}return!0},Cr.prototype.addListener=function(e,t){return jr(this,e,t,!1)},Cr.prototype.on=Cr.prototype.addListener,Cr.prototype.prependListener=function(e,t){return jr(this,e,t,!0)},Cr.prototype.once=function(e,t){return Nr(t),this.on(e,xr(this,e,t)),this},Cr.prototype.prependOnceListener=function(e,t){return Nr(t),this.prependListener(e,xr(this,e,t)),this},Cr.prototype.removeListener=function(e,t){var n,r,i,a,o;if(Nr(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},Cr.prototype.off=Cr.prototype.removeListener,Cr.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Cr.prototype.listeners=function(e){return Rr(this,e,!0)},Cr.prototype.rawListeners=function(e){return Rr(this,e,!1)},Cr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Mr.call(e,t)},Cr.prototype.listenerCount=Mr,Cr.prototype.eventNames=function(){return this._eventsCount>0?Sr(this._events):[]};var Pr=n("sEj0");var Fr=function(){function e(e,t,n,r){this.syncManager=e,this.settings=t,this.storage=n,this.serviceApi=r,this.flushData=this.flushData.bind(this),this.fromImpressionsCollector=B.bind(void 0,t.core.labelsEnabled)}return e.prototype.start=function(){"undefined"!=typeof window&&window.addEventListener&&(this.settings.log.debug(25,["for unload page event."]),window.addEventListener("unload",this.flushData))},e.prototype.stop=function(){"undefined"!=typeof window&&window.removeEventListener&&(this.settings.log.debug(26,["for unload page event."]),window.removeEventListener("unload",this.flushData))},e.prototype.flushData=function(){if(this.syncManager){if(Ee(this.settings)){var e=this.settings.urls.events,t={sim:this.settings.sync.impressionsMode===d?d:l};this._flushData(e+"/testImpressions/beacon",this.storage.impressions,this.serviceApi.postTestImpressionsBulk,this.fromImpressionsCollector,t),this._flushData(e+"/events/beacon",this.storage.events,this.serviceApi.postEventsBulk),this.storage.impressionCounts&&this._flushData(e+"/testImpressions/count/beacon",this.storage.impressionCounts,this.serviceApi.postTestImpressionsCount,z)}if(this.storage.telemetry){var n=this.settings.urls.telemetry,r=de(this.storage.telemetry,this.storage.splits,this.storage.segments);this._flushData(n+"/v1/metrics/usage/beacon",r,this.serviceApi.postMetricsUsage)}this.syncManager.pushManager&&this.syncManager.pushManager.stop()}},e.prototype._flushData=function(e,t,n,r,i){if(!t.isEmpty()){var a=r?r(t.pop()):t.pop();this._sendBeacon(e,a,i)||n(JSON.stringify(a)).catch((function(){})),t.clear()}},e.prototype._sendBeacon=function(e,t,n){if("undefined"!=typeof navigator&&navigator.sendBeacon){var r={entries:t,token:this.settings.core.authorizationKey,sdk:this.settings.version};n&&s(r,n);var i=JSON.stringify(r);return navigator.sendBeacon(e,i)}return!1},e}();var Ur,Gr,qr={getFetch:function(){return"function"==typeof fetch?fetch:Pr.a},getEventSource:function(){return"function"==typeof EventSource?EventSource:void 0},EventEmitter:Cr,now:"object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):Date.now},Vr=Fr,Br=(Ur=function(e){var t=e.splitApi,n=e.storage,r=e.readiness,i=e.settings,a=i.log,o=function(e,t,n,r,i){return O(r.log,ct(r.log,function(e){return function(t,n,r){var i=e(t,n);return r&&(i=r(i)),i.then((function(e){return e.json()}))}}(e),t.splits,t.segments,n.splits,r.startup.requestTimeoutBeforeReady,r.startup.retriesOnFailureBeforeReady,i),r.scheduler.featuresRefreshRate,"splitChangesUpdater")}(t.fetchSplitChanges,n,r,i,!0),s={},c=d(Be(i.core.key),r,n);function u(){j(s,(function(e){e.start()}))}function l(){j(s,(function(e){e.isRunning()&&e.stop()}))}function d(e,n,r){var a=function(e,t,n,r,i){return O(r.log,ot(r.log,function(e){return function(t,n,r){var i=e(t,n);return r&&(i=r(i)),i.then((function(e){return e.json()})).then((function(e){return e.mySegments.map((function(e){return e.name}))}))}}(e),t.splits,t.segments,n.segments,r.startup.requestTimeoutBeforeReady,r.startup.retriesOnFailureBeforeReady,i),r.scheduler.segmentsRefreshRate,"mySegmentsUpdater")}(t.fetchMySegments,r,n,i,e);function o(){n.isReady()||r.splits.usesSegments()||n.segments.emit("state::segments-arrived")}return r.splits.usesSegments()?n.splits.once("state::splits-arrived",o):setTimeout(o,0),s[e]=a,a}return r.splits.on("state::splits-arrived",(function(){if(o.isRunning()){var e=n.splits.usesSegments();e!==c.isRunning()&&(a.info(106,[e?"ON":"OFF"]),e?u():l())}})),{splitsSyncTask:o,segmentsSyncTask:c,start:function(){a.info(107),o.start(),n.splits.usesSegments()&&u()},stop:function(){a.info(108),o.isRunning()&&o.stop(),l()},isRunning:o.isRunning,syncAll:function(){var e=[o.execute()];return j(s,(function(t){e.push(t.execute())})),Promise.all(e)},add:d,remove:function(e){delete s[e]},get:function(e){return s[e]}}},Gr=function(e,t){var n,r=e.settings,i=e.storage,a=e.splitApi,o=e.readiness,c=e.platform,u=e.telemetryTracker,l=r.core.key?Be(r.core.key):void 0,d=r.log;try{n=new Ve(r,!l,c.getEventSource)}catch(e){return void d.warn(208,[e])}var f=Pe(a.fetchAuth),h=new c.EventEmitter,p=_e(d,h,u);n.setEventHandler(p);var m,g,v,y,b=l?void 0:new Te(t.segmentsSyncTask,i.segments),E=new Ce(i.splits,t.splitsSyncTask,o.splits,l?void 0:t.segmentsSyncTask),w={},O={},S=!1,_=new we(k,r.scheduler.pushRetryBackoffBase);function k(){if(!m){d.info(112),m=!1;var e=l?Object.keys(O):void 0;f(e).then((function(t){if(!m)return t.pushEnabled?void(e&&e.length<Object.keys(O).length||function(e){v&&clearTimeout(v),y&&clearTimeout(y);var t=e.decodedToken,r=t.exp-t.iat-600,i="number"==typeof e.connDelay&&e.connDelay>=0?e.connDelay:60;d.info(110,[r,i]),v=setTimeout(k,1e3*r),y=setTimeout((function(){m||n.open(e)}),1e3*i),u.streamingEvent(50,t.exp)}(t)):(d.info(113),void h.emit("PUSH_NONRETRYABLE_ERROR"))})).catch((function(e){if(!m){if(d.error(306,[e.message]),e.statusCode>=400&&e.statusCode<500)return u.streamingEvent(80),void h.emit("PUSH_NONRETRYABLE_ERROR");h.emit("PUSH_RETRYABLE_ERROR")}}))}}function T(){m||(m=!0,n.close(),d.info(114),v&&clearTimeout(v),y&&clearTimeout(y),_.reset(),C())}function C(){E.backoff.reset(),l?j(O,(function(e){return e.worker.backoff.reset()})):b.backoff.reset()}return h.on("PUSH_SUBSYSTEM_DOWN",C),h.on("PUSH_SUBSYSTEM_UP",(function(){_.reset(),C()})),h.on("PUSH_NONRETRYABLE_ERROR",(function(){g=!0,T(),h.emit("PUSH_SUBSYSTEM_DOWN")})),h.on("PUSH_RETRYABLE_ERROR",(function(){n.close();var e=_.scheduleCall();d.info(111,[e/1e3]),h.emit("PUSH_SUBSYSTEM_DOWN")})),h.on(ve.STREAMING_RESET,(function(){m||(v&&clearTimeout(v),k())})),h.on("SPLIT_KILL",E.killSplit),h.on("SPLIT_UPDATE",E.put),l?(h.on("MY_SEGMENTS_UPDATE",(function(e,t){var n=t.split("_")[2],r=w[n];r&&O[r]&&O[r].worker.put(e.changeNumber,e.includesPayload?e.segmentList?e.segmentList:[]:void 0)})),h.on("MY_SEGMENTS_UPDATE_V2",(function(e){switch(e.u){case qe.BoundedFetchRequest:var t;try{a=e.d,o=e.c,t=Ke(a,o)}catch(e){d.warn(223,["BoundedFetchRequest",e]);break}return void j(O,(function(n){var r,i,a,o,s=n.hash64,c=n.worker;r=t,i=s.hex,a=parseInt(i.slice(8),16)%(8*r.length),o=a%8,(r[Math.floor(a/8)]&1<<o)>0&&c.put(e.changeNumber)}));case qe.KeyList:var n,r,i=void 0;try{i=We(e.d,e.c),n=new Je(i.a),r=new Je(i.r)}catch(e){d.warn(223,["KeyList",e]);break}return void j(O,(function(t){var i=t.hash64,a=t.worker,o=!!n.has(i.dec)||!r.has(i.dec)&&void 0;void 0!==o&&a.put(e.changeNumber,{name:e.segmentName,add:o})}));case qe.SegmentRemoval:if(!e.segmentName){d.warn(223,["SegmentRemoval","No segment name was provided"]);break}return void j(O,(function(t){return t.worker.put(e.changeNumber,{name:e.segmentName,add:!1})}))}var a,o;j(O,(function(t){t.worker.put(e.changeNumber)}))}))):h.on("SEGMENT_UPDATE",b.put),s(Object.create(h),{stop:function(){T(),l&&this.remove(l)},start:function(){g||!1===m||(m=!1,l?this.add(l,t.segmentsSyncTask):setTimeout(k))},isRunning:function(){return!1===m},add:function(e,t){var n,r,i=Fe(e);w[i]||(w[i]=e,O[e]={hash64:(n=e,r=rt(n).slice(0,16),{hex:r,dec:it(r)}),worker:new ke(t)},S=!0,setTimeout((function(){S&&(S=!1,k())}),0))},remove:function(e){var t=Fe(e);delete w[t],delete O[e]}})},function(e){var t=e.settings,n=e.settings,r=n.log,i=n.streamingEnabled,a=n.sync.enabled,o=e.telemetryTracker,s=Ur&&Ur(e),c=a&&i&&s&&Gr?Gr(e,s):void 0,u=ge(e);c&&(c.on("PUSH_SUBSYSTEM_UP",(function(){r.info(119),s.isRunning()&&(s.stop(),o.streamingEvent(70,0)),s.syncAll()})),c.on("PUSH_SUBSYSTEM_DOWN",(function(){s.isRunning()?r.info(118):(r.info(117),s.start(),o.streamingEvent(70,1))})));var l=!1,d=!0;return{pollingManager:s,pushManager:c,submitterManager:u,start:function(){l=!0,s&&(a?c?(d&&(s.syncAll(),d=!1),c.start()):s.start():d&&(s.syncAll(),d=!1)),u.start(!Ee(t))},stop:function(){l=!1,c&&c.stop(),s&&s.isRunning()&&s.stop(),u.stop()},isRunning:function(){return l},flush:function(){return u.execute(!Ee(t))},shared:function(e,t,n){if(s){var r=s.add(e,t,n);return{isRunning:r.isRunning,start:function(){a?c?(s.isRunning()?n.splits.usesSegments()&&r.start():r.execute(),c.add(e,r)):n.splits.usesSegments()&&r.start():t.isReady()||r.execute()},stop:function(){var t=s.get(e);t&&(c&&c.remove(e),t.isRunning()&&t.stop(),s.remove(e))},flush:function(){return Promise.resolve()}}}}}});function Hr(e){return e.storage.type===y?function(e){void 0===e&&(e={});var t=function(e){return e?e+".SPLITIO":"SPLITIO"}(e.prefix);function n(e){if(!mt())return e.log.warn(yt+"LocalStorage API is unavailable. Falling back to default MEMORY storage"),Ct(e);var n=e.log,r=new pt(t,e.matchingKey),i=Date.now()-864e6;return{splits:new bt(n,r,i,e.splitFiltersValidation),segments:new wt(n,r),impressions:new ut(e.impressionsQueueSize),impressionCounts:e.optimize?new dt:void 0,events:new ft(e.eventsQueueSize),telemetry:e.mode!==f&&kt()?new Tt:void 0,destroy:function(){this.splits=new St,this.segments=new Ot,this.impressions.clear(),this.impressionCounts&&this.impressionCounts.clear(),this.events.clear()},shared:function(e){var r=new pt(t,e);return{splits:this.splits,segments:new wt(n,r),impressions:this.impressions,impressionCounts:this.impressionCounts,events:this.events,telemetry:this.telemetry,destroy:function(){this.splits=new St,this.segments=new Ot}}}}}return n.type=y,n}(e.storage):e.storage.__originalType===y?Jn:Ct}function zr(e,t){var n=function(e){var t={settings:e,platform:qr,storageFactory:Hr(e),splitApiFactory:w,syncManagerFactory:Br,sdkManagerFactory:Mt,sdkClientMethodFactory:jn,SignalListener:Vr,integrationsManagerFactory:e.integrations&&e.integrations.length>0?$n.bind(null,e.integrations):void 0,impressionsObserverFactory:Tn(e)?Un:void 0,extraProps:function(e){return{UserConsent:ur(e)}}};switch(e.mode){case f:t.splitApiFactory=void 0,t.syncManagerFactory=e.sync.localhostMode,t.SignalListener=void 0}return t}(function(e){return ie(e,Or)}(e));return t&&t(n),sr(n)}},qCQx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("cDcd"),i=n("6h/i");const a={trackPerfEvent:i.e},o=e=>{Object(r.useEffect)(()=>{performance.mark(e+"_load_start")},[e])},s=e=>{Object(r.useEffect)(()=>{var t;const n=e+"_load_start",r=e+"_load_end",a=e+"_vct";(null===(t=performance.getEntriesByName(n))||void 0===t?void 0:t.length)>0&&(performance.mark(r),performance.measure(a,n,r));const o=performance.getEntriesByName(a)[0];return o&&Object(i.e)({app:e,duration:o.duration,event:"vct"}),()=>{[n,r].forEach(e=>performance.clearMarks(e)),performance.clearMeasures(a)}},[e])}},qv5s:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("J3mW");const i=({appLocation:e,featureFlags:t={}})=>{var n;const{insightSegments:i={}}=t,a=(null===(n=i[e])||void 0===n?void 0:n.radsets)||[];return console.log("INFO: App Location for Insight is:"+e),a.length?a:[r.d.DM]}},t35r:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const r=()=>{if(!e.document||!document.cookie)return null;const t=Object.fromEntries(document.cookie.split("; ").map(e=>e.split("=")));if(!t.info_idp)return null;const n=decodeURIComponent(t.info_idp),r=JSON.parse(n);return"basic"!==r.auth?r[r.auth].info_shopperId:r.info_shopperId}}).call(this,n("yLpj"))},tyn1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerOriginCookie=l,t.registerOriginSuperProperties=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l(t);return e.superProperties(n),n};var r,i=n("cr+I"),a=(r=i)&&r.__esModule?r:{default:r},o=n("oVF6"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("g9Uv"));var c="undefined"!=typeof window;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.location.pathname+window.location.search,n=Object.keys(e).find((function(e){return new RegExp(e).test(t)}));return e[n]||""}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c)return{};var t=(document.referrer||"").toLowerCase(),n=(window.location.href||"").toLowerCase(),r=a.default.parse(window.location.search)||{},i=function(e){var n=s.getDefaultValuesForReferrer(t);["product","application","medium","placement"].forEach((function(t){e[t]=r["ua_"+t]||n[t]||null}))},l=s.extractGDAppDomains(t),d=s.extractGDAppDomains(n);if(!d)return{};var f={},h="/";if(l)if(l===d){var p=u(e.boundaries);if(p)h=p,i(f);else{var m=s.parseDocumentCookie(document.cookie);m.ua_origin&&(f=JSON.parse(m.ua_origin))}}else i(f);else i(f);var g=f,v=g.product,y=g.application;if(!v||!y)return{};document.cookie="ua_origin="+JSON.stringify(f)+"; path="+h+";";var b=Object.keys(f).reduce((function(e,t){return e["Origin-"+t]=f[t]||o.DEFAULT_ORIGIN_VALUES[t]||null,e}),{});return b}},u8tX:function(e,t,n){"use strict";const{unflatten:r}=n("EUkQ"),{idTypes:i,DEFAULT_COHORT:a}=n("hj7e"),{sha256:o}=n("Zbbm");function s(e){return"control"===e?a:e}function c(e){switch(e){case"shopper":return i.SHOPPER_ID;case"visitor":return i.VISITOR_GUID;default:return e}}e.exports={getCohortId:s,getSubjectKey:function({id:e,idType:t}){switch(t){case i.SHOPPER_ID:return o(e);case i.VISITOR_GUID:return e;default:throw new Error("Invalid subject idType")}},getSubjectIdType:c,treatmentsToCohortAllocations:function(e){const t={};return Object.keys(e).forEach(n=>{const{treatment:i,config:a}=e[n];t[n]={cohortId:s(i),error:"control"===i,data:r(JSON.parse(a)||{})}}),t},transformSplitToExperiment:function(e){const t={experimentId:e.name,subjectIdType:c(e.trafficType),killed:e.killed,cohorts:e.treatments,cohortData:Object.keys(e.configs).reduce((t,n)=>(t[n]=r(JSON.parse(e.configs[n])||{}),t),{})},n=Object.values(t.cohortData).find(e=>e.labels);return t.labels=n?n.labels:[],t}}},wIJX:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("cDcd"),i=n.n(r),a=n("rdt/"),o=n.n(a),s=n("f91B"),c=n.n(s),u=n("YTND"),l=n.n(u),d=n("k+D2"),f=n.n(d),h=n("QnAF"),p=n.n(h),m=n("QZC8"),g=n.n(m),v=n("DIf3"),y=n.n(v),b=n("Hxxg"),E=n.n(b),w=n("gbvG"),O=n.n(w);const S={alert:o.a,checkmark:c.a,"chevron-right":l.a,"chevron-left":f.a,clock:y.a,information:O.a,"link-arrow":E.a,plus:g.a,x:p.a},_=({className:e,fill:t,name:n,size:r=14})=>{const a=S[n];return a?i.a.createElement(a,{className:e,fill:t,height:r,width:r}):null}},wWro:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.ensureLabelComponent=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?"object"==typeof e&&e.type===u?e:i.default.createElement(u,t,e):null};var i=r(n("cDcd")),a=r(n("rf6O")),o=r(n("TSYQ")),s=r(n("9/PS")),c=r(n("ZOAG"));const u=i.default.forwardRef((function(e,t){const{children:n,className:r,float:a,htmlFor:u,id:l,internal:d,required:f}=e;return i.default.createElement("label",{className:(0,o.default)("ux-label",r,{[(0,c.default)({as:"label"})]:!d,"ux-label--internal":d,"ux-label--floating":a&&d}),htmlFor:u,id:l,ref:t},n,f&&i.default.createElement(s.default.span,{"aria-hidden":!0,className:"ux-label-required",emphasis:"object"==typeof f&&f.emphasis||"critical",text:"object"==typeof f&&f.text||"*"}))}));u.propTypes={children:a.default.node.isRequired,className:a.default.string,float:a.default.bool,htmlFor:a.default.string.isRequired,id:a.default.string,internal:a.default.bool,required:a.default.oneOfType([a.default.bool,a.default.shape({emphasis:a.default.string,text:a.default.node})])},u.displayName="Label";var l=u;t.default=l},x1qe:function(e,t,n){var r=n("9lTW"),i={es3:3,es5:5,es2015:6,es7:7,es6:6,default:5,next:6},a=t.KEYWORDS={};function o(){var e=Array.prototype.map.call(arguments,(function(e){return"string"==typeof e?e:Object.keys(e).join(" ")})).join(" ");return e.split(/\s+/).reduce((function(e,t){return e[t]=!0,e}),{})}t.check=function(e,t,n){var o=i[t=t||i.default]||t;return n&&o>=5&&(o+="-strict"),r(a[o],"Unknown dialect"),a[o].hasOwnProperty(e)},a[3]=o("break    else       new     var","case     finally    return  void","catch    for        switch  while","continue function   this    with","default  if         throw","delete   in         try","do       instanceof typeof","abstract enum       int        short","boolean  export     interface  static","byte     extends    long       super","char     final      native     synchronized","class    float      package    throws","const    goto       private    transient","debugger implements protected  volatile","double   import     public","null true false"),a[5]=o("break    do       instanceof typeof","case     else     new        var","catch    finally  return     void","continue for      switch     while","debugger function this       with","default  if       throw","delete   in       try","class enum extends super","const export import","null true false"),a["5-strict"]=o(a[5],"implements let     private   public yield","interface  package protected static"),a[6]=o("break    do       in         typeof","case     else     instanceof var","catch    export   new        void","class    extends  return     while","const    finally  super      with","continue for      switch     yield","debugger function this","default  if       throw","delete   import   try","enum await","null true false"),a["6-strict"]=o(a[6],"let static","implements package protected","interface private public")},xKPx:function(e,t,n){"use strict";var r=n("cDcd"),i=n.n(r),a=n("PyZ9"),o=n.n(a),s=n("rf6O"),c=n.n(s),u=n("VW8Q");const l=({color:e})=>i.a.createElement("div",{className:"LoadingView",style:{backgroundColor:e||u.d.light}},i.a.createElement(o.a,{size:"lg",shade:"light",inline:!0}));l.propTypes={color:c.a.string},t.a=l},xnZ5:function(e,t,n){"use strict";const{idTypes:r,PARAMETER_LABEL:i,DEFAULT_COHORT:a}=n("hj7e"),{validateApp:o,updateCohortAllocationsWithEid:s,generateDefaultAllocations:c,groupEligibleExperimentsById:u}=n("iwe8"),{getSubjectKey:l,getCohortId:d,getSubjectIdType:f,treatmentsToCohortAllocations:h,transformSplitToExperiment:p}=n("u8tX"),m=n("ZzkE");e.exports={hivemindConstants:{idTypes:r,PARAMETER_LABEL:i,DEFAULT_COHORT:a},MockWrapper:m,validateApp:o,updateCohortAllocationsWithEid:s,generateDefaultAllocations:c,groupEligibleExperimentsById:u,getSubjectKey:l,getCohortId:d,getSubjectIdType:f,treatmentsToCohortAllocations:h,transformSplitToExperiment:p}}}]);
//# sourceMappingURL=https://blobby.test-wsimg.com/go/static/editor/action-plan.1b8d030ed08c0ee9e80f.c.js.map