(window.editorJsonp=window.editorJsonp||[]).push([[41],{"/NZg":function(e,t,n){"use strict";n.r(t);var r=n("lSNA"),s=n.n(r),a=(n("gpPv"),n("LbuZ"),n("WHFF"),n("hcUJ")),i=n("cDcd"),c=n("/MKj"),o=n("TSYQ"),l=n.n(o),d=n("hplg"),b=n("QnAF"),u=n.n(b),h=n("DIf3"),j=n.n(h),O=n("dwxX"),m=n("tAVT"),p=n("mA/2"),g=n("MkeF"),f=n("FGiZ"),x=n("6vKV"),S=n("Uuec"),_=n("q1hO"),w=n("H4Ah"),B=n("3Rla"),N=n("n4ap"),F=n("SMay"),P=n("Vmlt"),A=n("L2pB"),M=n("u1xw"),T=n("nKUr");class R extends i.PureComponent{constructor(...e){super(...e),s()(this,"handleViewPlans",e=>{const t=this.getTraffic();Object(O.c)({code:t.learn_more_button,domEvent:e.nativeEvent}),Object(O.c)({code:A.CONVERSION_BANNER_VIEW_PLANS_CLICKED}),this.context.executeAction(f.a,{source:"editor.view_plans_button"})}),s()(this,"hideBanner",()=>{Object(O.c)({code:S.c.free_trial_banner.close_with_x}),this.context.executeAction(x.a)}),s()(this,"renderBannerClose",()=>{const{isFreemium:e}=this.props,t=this.shouldRenderUrgentBanner();return e&&!t?Object(T.jsx)("div",{className:"banner-close",onClick:this.hideBanner,children:Object(T.jsx)(u.a,{width:20,height:20})}):null}),s()(this,"getBannerString",()=>{const{daysLeft:e,isFreemium:t,isMobile:n,isOnePageWebsite:r,isWebsiteStarter:s,isWebsiteStarterPlanInNESBundle:a}=this.props,i=n?"Mobile":"Desktop";return this.shouldRenderUrgentBanner()?1===e?`urgentSubscription${i}Single`:`urgentSubscription${i}Plural`:t?"freemium"+i:r?n?"pickAPlanOnePageMobile":"pickAPlanOnePage":s||a?"upgradeToAddPages":n?"keepSiteAfterTrial":"pickAPlan"}),s()(this,"renderFreeMatFirst7DaysMessage",()=>{const{daysLeft:e}=this.props,t=1===e?Object(a.a)("oneDayLeft"):Object(a.a)("daysLeft",{daysLeft:""+e});return Object(T.jsxs)("div",{className:"freemat-trial-period-banner-message",children:[Object(T.jsxs)("div",{className:"freemat-message-tablet",children:[Object(T.jsx)("strong",{children:Object(a.a)("freeMatFirst7DaysBannerInfo")}),Object(T.jsx)("span",{className:"freemat-message-separator",children:"|"}),Object(T.jsx)(j.a,{className:"freemat-message-clock",width:20,height:20})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(d.Button,{onClick:()=>{this.context.executeAction(g.a,{source:"editor.freemat_free_trial_banner",onPostUpgradeSuccessClick:()=>this.context.executeAction(p.a)})},design:"inline",text:t,className:"freemat-info-modal-link"}),Object(a.a)("freeMatFirst7DaysBannerToTryPremium")]})]})}),s()(this,"renderBannerString",()=>{const{freeTrialBottom:e,isCurrentlyFreeMatTrial:t}=this.props,n=this.getBannerString(),r=this.shouldRenderUrgentBanner();return Object(T.jsx)("span",{className:l()("banner-heading",{"text-dark":!e&&r}),children:t?this.renderFreeMatFirst7DaysMessage():this.renderSplitMessage(n)})}),s()(this,"renderSplitMessage",e=>{const{daysLeft:t}=this.props,n=Object(a.a)(e).split("{days}");return 2===n.length?Object(T.jsxs)(i.Fragment,{children:[Object(T.jsx)("strong",{children:n[0]}),Object(T.jsx)("strong",{children:t}),Object(T.jsx)("strong",{children:n[1]})]}):Object(T.jsx)("strong",{children:Object(a.a)(e)})}),s()(this,"shouldRenderUrgentBanner",()=>{const{isFreemium:e,isOnePageWebsite:t,isTwelveMonthTrial:n,daysLeft:r,warningThreshold:s,isCurrentlyFreeMatTrial:a}=this.props;return!a&&!t&&(!e||n)&&r<=s}),s()(this,"getTraffic",()=>this.shouldRenderUrgentBanner()?S.c.free_trial_red_banner:S.c.free_trial_orange_banner)}componentDidMount(){const{canAutoRenew:e,isO365Enabled:t,isSmartLineEnabled:n}=this.props,r=this.getTraffic();Object(O.d)(r.impression),Object(O.d)(S.c.free_trial[e?"cc_flow":"nocc_flow"]),Object(O.d)(S.c.ab_tests["O365XSell_"+(t?"on":"off")]),Object(O.d)(S.c.ab_tests["SmartLineXSell_"+(n?"on":"off")]),Object(O.c)({code:A.CONVERSION_BANNER_SHOWN}),m.UniversalUpgrade.preload()}render(){const{isMobile:e,freeTrialBottom:t,currentRoute:n,addTopBorder:r,isFreemium:s}=this.props,i=n&&n.name===w.a.PREVIEW,c=this.shouldRenderUrgentBanner(),o=l()("banner-content flex flex--center flex--grow",{"flex--space-between":e,"freemium-mobile-banner":s&&e,"flex--middle":!e}),b=l()("banner flex",{"fs-medium":t,"banner-border":r,"urgent-banner":c&&!t,"experimental-urgent-banner-bottom":c&&t,"banner-flexible":!c&&!t,"experimental-free-trial-banner-bottom":t,"experimental-banner-flexible-bottom":t&&!c,"display-website-width":t&&!i});return Object(T.jsx)("div",{className:"ux-editor",children:Object(T.jsxs)("div",{id:"free-trial-banner",className:b,"data-aid":_.a.FREE_TRIAL_BANNER,children:[Object(T.jsxs)("div",{className:o,children:[this.renderBannerString(),Object(T.jsx)(d.Button,{design:"secondary",className:"text-nowrap",onClick:this.handleViewPlans,"data-aid":_.a.LEARN_MORE_BUTTON,text:Object(a.a)("viewPlans")})]}),this.renderBannerClose()]})})}}s()(R,"contextType",M.b);t.default=Object(c.connect)(e=>{const{route:t}=e,n=Math.max(1,Object(P.g)(e)),r=Object(P.H)(e),s=Object(F.g)(e,"crossSell.o365.pfid")&&Object(F.o)(e,"enableO365XSell"),a=Object(F.g)(e,"crossSell.smartline.pfid")&&Object(F.o)(e,"enableSmartLineXSell"),{abp:i,standard:c}=Object(F.g)(e,"urgentBannerThresholds");return{warningThreshold:Object(P.u)(e)?i:c,isMobile:Object(N.B)(e),isTwelveMonthTrial:Object(P.N)(e),isFreemium:Object(P.C)(e),isCurrentlyFreeMatTrial:Object(B.ub)(e),isOnePageWebsite:Object(P.F)(e),canAutoRenew:r,isSmartLineEnabled:a,isO365Enabled:s,daysLeft:n,currentRoute:t.currentRoute,isWebsiteStarter:Object(P.R)(e),isWebsiteStarterPlanInNESBundle:Object(P.Q)(e)}})(R)},DIf3:function(e,t,n){"use strict";const r=n("2X3e");e.exports=r("clock","false")},MkeF:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n("cDcd");var r=n("dwxX"),s=n("tAVT"),a=n("nKUr");var i=function(e){const t={track:r.h,updateEventMap:r.i};return Object(a.jsx)(s.FreeMatInfoModal,{...e,tracker:t})},c=n("mA/2"),o=n("Yijx"),l=n("tIDH"),d=n("n4ap"),b=n("jKne"),u=n("3Rla"),h=n("cmhP"),j=n("FGiZ");function O(e,{hideFeatures:t,source:n,onClose:r=(()=>{}),onPostUpgradeSuccessClick:s=(()=>{})}){const O=e.getState(),m=Object(u.w)(O),p=Object(h.e)(O),g=Object(d.o)(O),f=Object(b.a)(O),x=Object(a.jsx)(i,{accountId:m,isDarkTheme:f,shopperId:p,locale:g,hideFeatures:t,onClose:()=>{e.executeAction(c.a),r()},source:n,returnPath:`/${g}/launch?upgradePlan=1`,errorCallback:t=>{throw e.executeAction(l.a,{returnPath:`/${g}/launch?account_uid=${m}&path=uupm`}),t},onViewPlansClick:()=>{e.executeAction(j.a,{source:n,onPostUpgradeSuccessClick:s})}});return e.executeAction(o.a,{modal:x,isUpgrade:!0})}},WHFF:function(e,t,n){},gpPv:function(e,t,n){}}]);
//# sourceMappingURL=https://blobby.test-wsimg.com/go/static/editor/free-trial-banner.2df94c4e0b27b89929e9.c.js.map