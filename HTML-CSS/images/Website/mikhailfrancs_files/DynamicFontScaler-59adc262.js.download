define("@wsb/guac-widget-shared/lib/components/DynamicFontScaler-59adc262.js",["exports","~/c/_rollupPluginBabelHelpers","~/c/dynamicFontScaler"],(function(e,t,o){"use strict";function n(e){let t,{containerId:o,targetId:n,fontSizes:r,maxLines:a,prioritizeDefault:s}=e;if("undefined"==typeof document)return;const i=document.getElementById(o),c=document.getElementById(n);function l(e){return function(e){const t=parseInt(d(e,"padding-left")||0,10),o=parseInt(d(e,"padding-right")||0,10);return e.scrollWidth+t+o}(e)<=i.clientWidth&&function(e){const t=e.offsetHeight,o=parseInt(d(e,"line-height"),10)||1;return Math.floor(t/o)}(e)<=a}function p(){if(!i||!c||t===window.innerWidth)return;if(c.hasAttribute("data-font-scaled"))return void function(){c.removeAttribute("data-last-size");const e=document.querySelector(`#${n}-style`);e&&e.parentNode.removeChild(e)}();t=window.innerWidth;const e=Array.prototype.slice.call(i.querySelectorAll(`[data-scaler-id="scaler-${o}"]`)).sort(((e,t)=>r.indexOf(e.getAttribute("data-size"))-r.indexOf(t.getAttribute("data-size"))));if(i.clientWidth&&e.length){const t=i.style.width||"";i.style.width="100%",e.forEach((e=>{e.style.display="inline-block",e.style.maxWidth=`${i.clientWidth}px`}));const o=function(e){return e.find(l)||e[e.length-1]}(e);!function(e){e.forEach((e=>{e.style.display="none",e.style.maxWidth=""}))}(e),i.style.width=t;const r=d(o,"font-size"),a=c.getAttribute("data-last-size");if(r&&r!==a){if(s){const e=d(c,"font-size");if(parseInt(r,10)>=parseInt(e,10))return}c.setAttribute("data-last-size",r);let e=document.querySelector(`#${n}-style`);e||(e=document.createElement("style"),e.id=`${n}-style`,document.head.appendChild(e)),e.textContent=`#${c.id} { font-size: ${r} !important; }`}}}function d(e,t){return document.defaultView.getComputedStyle(e).getPropertyValue(t)}p(),window.addEventListener("resize",p)}const{Bootstrap:r}=(global.Core||guac["@wsb/guac-widget-core"]).components,{XXLARGE:a,XLARGE:s,LARGE:i}=(global.Core||guac["@wsb/guac-widget-core"]).constants.fontSizes,{PUBLISH:c}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes;class l extends(global.React||guac.react).Component{getDynamicFontScaler(){return o.d({...this.props})}componentDidUpdate(){const{scriptOnly:e,renderMode:t}=this.props;if(!e||t!==c){const{scriptProps:e}=this.getDynamicFontScaler();n(e)}}render(){const{renderMode:e,scriptOnly:t}=this.props;if(t)return e===c?(global.React||guac.react).createElement(r.JS,{id:"DynamicFontScaler",script:n.toString(),scriptOnly:!0}):(window.wsb=window.wsb||{},window.wsb.DynamicFontScaler=window.wsb.DynamicFontScaler||n,null);const{element:o,scriptProps:a}=this.getDynamicFontScaler();return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,o,e===c?(global.React||guac.react).createElement(r.JS,{id:"DynamicFontScaler",script:n.toString(),props:a}):n(a))}}t.a(l,"propTypes",{typography:(global.PropTypes||guac["prop-types"]).string,text:(global.PropTypes||guac["prop-types"]).string.isRequired,containerId:(global.PropTypes||guac["prop-types"]).string.isRequired,font:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).oneOf(Object.values((global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes)),targetId:(global.PropTypes||guac["prop-types"]).string.isRequired,fontSizes:(global.PropTypes||guac["prop-types"]).arrayOf((global.PropTypes||guac["prop-types"]).oneOf(Object.values((global.Core||guac["@wsb/guac-widget-core"]).constants.fontSizes))),style:(global.PropTypes||guac["prop-types"]).object,maxLines:(global.PropTypes||guac["prop-types"]).number,Tag:(global.PropTypes||guac["prop-types"]).node,prioritizeDefault:(global.PropTypes||guac["prop-types"]).bool,scriptOnly:(global.PropTypes||guac["prop-types"]).bool}),t.a(l,"defaultProps",{fontSizes:[a,s,i],scriptOnly:!1}),e.default=l,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=DynamicFontScaler-59adc262.js.map
