define("@wsb/guac-widget-shared/lib/components/ScrollingMarquee-a5cda17a.js",["exports"],(function(e){"use strict";function a(e){var a,t;const{marqueeId:o,contentId:n,clonesId:r,bannerId:l,speed:c,iterations:i}=e,s=!("undefined"!=typeof window&&(null===(a=(t=window).matchMedia)||void 0===a?void 0:a.call(t,"(prefers-reduced-motion: reduce)").matches)),d=document.getElementById(o);if(!1===s)return void d.setAttribute("data-scrolling","false");let g=i;let p=i,u=0,b=0;const m=document.getElementById(n),y=document.getElementById(r),f=document.getElementById(l);function E(e){let a;if(e.borderBoxSize){a=(Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize).inlineSize}else a=e.target.getBoundingClientRect().width;return a}const w=new ResizeObserver((e=>{for(const a of e){const e=E(a),t=e>u;u=e,t&&150!==p&&R()}})),h=new ResizeObserver((e=>{for(const a of e)b=E(a),R()}));function R(){if(u&&b){const e=Math.ceil(2*u/b),a=e+e%2;if(g=Math.min(150,Math.max(i,a)),f.style.animationDuration=b*g*c+"s",p===g)return;p=g;const t=y.firstElementChild.cloneNode(!0);y.innerHTML=t.outerHTML.repeat(g-1)}}return w.observe(d),h.observe(m),()=>{w.disconnect(),h.disconnect()}}const{Link:t,Bootstrap:o}=(global.Core||guac["@wsb/guac-widget-core"]).components,{EDIT:n,PUBLISH:r}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes,l={display:"inline-block",whiteSpace:"nowrap"},c={transformStyle:"preserve-3d","-webkit-backface-visibility":"hidden"},i={normal:.011,fast:.006},s=e=>{const{children:s,isScrolling:d,speed:g,linkData:p,gap:u,stylesProp:b,renderMode:m}=e,{Block:y,Container:f}=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element,E=m!==n&&d,w=i[g],h=0!==Object.keys(p).length,[R]=(global.React||guac.react).useState((global._||guac.lodash).uniqueId("marquee_")),S=`${R}_content`,P=`${R}_clones`,M=`${R}_banner`,k=(e=>({link:{display:"block","[data-typography]":{color:"inherit"}},marquee:{width:"100%",paddingVertical:"medium"},dataScrolling:{'[data-scrolling="false"]':{textAlign:"center",'[data-name="clones"]':{display:"none"}},'[data-scrolling="true"]':{overflow:"hidden",":hover > div":{animationPlayState:"paused"},'[data-name="banner"]':{...l,...c,animation:"scrollingMarquee 55s linear forwards infinite",fontSize:0,marginBottom:"1px"},'[data-name="content"]':{...l,...c,paddingRight:e?"xxlarge":0},'[data-name="clones"]':l}}}))(u),I={marqueeId:R,contentId:S,clonesId:P,bannerId:M,speed:w,iterations:6};(global.React||guac.react).useEffect((()=>{if(E)return a(I)}),[E,w]);const v=E?y:f,B=(global.React||guac.react).createElement(y,{id:R,"data-scrolling":E,style:k.marquee},E&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX.Style,{shared:!0},"@keyframes scrollingMarquee {0% {transform: translate(0%);} to {transform: translate(-50%);}}"),(global.React||guac.react).createElement(y,{id:M,"data-aid":"MARQUEE_BANNER_RENDERED","data-name":"banner"},(global.React||guac.react).createElement(y,{id:S,"data-name":"content","aria-hidden":"false",children:s}),E&&(global.React||guac.react).createElement(y,{id:P,"data-name":"clones","aria-hidden":"true"},[...Array(5)].map(((e,a)=>(global.React||guac.react).createElement(y,{key:a,"data-name":"content",children:s}))))));return(global.React||guac.react).createElement(v,{"data-aid":"MARQUEE_WRAPPER_RENDERED",style:{...b,...k.dataScrolling},group:"group"},h?(global.React||guac.react).createElement(t,{"data-aid":"MARQUEE_LINK_RENDERED",style:k.link,linkData:p,typography:"LinkAlpha"},B):B,m===r&&E?(global.React||guac.react).createElement(o.JS,{id:"MarqueeScript",script:a.toString(),props:I}):null)};s.propTypes={children:(global.PropTypes||guac["prop-types"]).oneOfType([(global.PropTypes||guac["prop-types"]).string,(global.PropTypes||guac["prop-types"]).object]),speed:(global.PropTypes||guac["prop-types"]).oneOf(["normal","fast"]),isScrolling:(global.PropTypes||guac["prop-types"]).bool,gap:(global.PropTypes||guac["prop-types"]).bool,linkData:(global.PropTypes||guac["prop-types"]).object,stylesProp:(global.PropTypes||guac["prop-types"]).object,renderMode:(global.PropTypes||guac["prop-types"]).string},s.defaultProps={speed:"normal",isScrolling:!0,gap:!0,linkData:{},stylesProp:{}},e.default=s,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=ScrollingMarquee-a5cda17a.js.map
