define("@widget/LAYOUT/c/index2-81bf7d15.js",["exports"],(function(e){"use strict";function t(e){let{uniqueId:t,logoHeight:o,hasAnimation:a,anchorId:n}=e;const r=o>104?120:80;let i,c,s,l,d=window.innerWidth<768,g=0;const u=()=>{const e=Array.from(document.querySelectorAll('[data-aid="HEADER_LOGO_IMAGE_RENDERED"]')).find((e=>e.offsetHeight));if(!e)return null;const t=window.getComputedStyle(e);return s=t.getPropertyValue("box-shadow"),l=t.getPropertyValue("margin-top"),e},p={i18nBar:document.querySelector('[data-aid="i18n_BAR_RENDERED"]'),stickyNav:document.getElementById(t),stickyNavParent:document.querySelector("[data-stickynav-wrapper]"),logo:u(),freemiumAd:document.querySelector("[data-freemium-ad]"),anchor:document.getElementById(n)},y=()=>{const{stickyNav:e,stickyNavParent:t}=p;let a=e.offsetHeight;d&&e.offsetHeight<o&&o<=104&&(a=o),t.style.height=`${a}px`};new IntersectionObserver((e=>e.forEach((e=>{let{isIntersecting:t}=e;return window.requestAnimationFrame((()=>(e=>{var t;if(c===e)return;const{stickyNav:n,logo:i,i18nBar:u,freemiumAd:h,stickyNavParent:m}=p;p.freemiumAd=h||document.querySelector("[data-freemium-ad]"),g=g||(null===(t=p.freemiumAd)||void 0===t?void 0:t.offsetHeight),e&&m&&!m.style.height&&y(),u&&(u.style.display=e?"none":"flex"),i&&(i.style.cssText=e?`max-height:${d?50:64}px;box-shadow:none;margin-top:0px;`:`max-height:${d?r:o}px;box-shadow:${s};margin-top:${l};`,"HEADER_LOGO_OVERHANG_CONTAINER"===i.parentNode.getAttribute("data-aid")&&(i.parentNode.style.height=e?"auto":"1em")),n.style.cssText=e?`position:fixed;z-index:10000;left:0px;right:0px;top:${g||0}px;`:"",a&&(e?n.classList.add("sticky-animate","x-c-bg"):n.classList.remove("sticky-animate","x-c-bg")),c=e})(!t)))})))).observe(p.anchor);const h=/#[^\\?]*/;function m(e){const t=(e.target.href.match(h)[0]||[]).slice(1),o=document.getElementById(t);o&&f(o)}function f(e){const t=p.stickyNav.clientHeight;let o=e.offsetTop;const a=setInterval((()=>{e.offsetTop===o?(clearInterval(a),scrollTo({top:e.offsetTop-t})):o=e.offsetTop}),300)}if(Array.from(document.querySelectorAll("a")).filter((e=>h.test(e.href))).forEach((e=>e.addEventListener("click",m))),window.location.hash){const e=document.getElementById(window.location.hash.slice(1));e&&f(e)}window.addEventListener("resize",(()=>{clearTimeout(i),i=setTimeout((()=>{d=window.innerWidth<768,p.logo=u(),y()}),250)}),{passive:!0})}const{Bootstrap:o}=(global.Core||guac["@wsb/guac-widget-core"]).components;class a extends(global.React||guac.react).Component{constructor(){super(...arguments),this._uniqueId=`header_${(global._||guac.lodash).uniqueId("stickynav")}`,this._stickyAnchor=`header_${(global._||guac.lodash).uniqueId("stickynav-anchor")}`}shouldRenderSticky(){const{renderMode:e,navigation:t}=this.props,o=t&&t.length>1,a=(global.Core||guac["@wsb/guac-widget-core"]).constants&&e===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH;return o&&a}render(){const{children:e,hasAnimation:a=!1,style:n,animateStyle:r,section:i,category:c,logoHeight:s}=this.props,{Block:l}=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element,d={animateStyle:{".sticky-animate":{...r}}},g={uniqueId:this._uniqueId,anchorId:this._stickyAnchor,logoHeight:s,hasAnimation:a};return this.shouldRenderSticky()?(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement("div",{id:this._stickyAnchor}),(global.React||guac.react).createElement(l,{"data-stickynav-wrapper":!0,style:d.animateStyle,section:i,category:c},(global.React||guac.react).createElement(l,{"data-stickynav":!0,id:this._uniqueId,style:n,section:i,category:c},e,(global.React||guac.react).createElement(o.JS,{id:"StickyNav",script:t.toString(),props:g})))):(global.React||guac.react).createElement(l,{style:n,children:e,section:i,category:c})}}a.propTypes={renderMode:(global.PropTypes||guac["prop-types"]).string.isRequired,navigation:(global.PropTypes||guac["prop-types"]).array.isRequired,hasAnimation:(global.PropTypes||guac["prop-types"]).bool,style:(global.PropTypes||guac["prop-types"]).object,animateStyle:(global.PropTypes||guac["prop-types"]).object,section:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,logoHeight:(global.PropTypes||guac["prop-types"]).number},e.S=a})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=index2-81bf7d15.js.map
