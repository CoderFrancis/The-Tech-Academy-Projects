(window.editorJsonp=window.editorJsonp||[]).push([[108],{"+Our":function(e,t,s){"use strict";s("cDcd");var a=s("dwxX"),n=s("8qtx"),i=s("lCmM"),o=s("kUj2"),c=s("t+uG"),r=s("lvcY");var l=function(e,t){const{requestId:s,websiteId:a,data:n,filename:i,updateProgress:l,basePath:d}=t,u={url:c.n,method:"post",segments:{websiteId:a},metadata:{id:s,type:r.a.POST_DOCUMENTS,param:a},data:n,filename:i,updateProgress:l};return d&&(u.params={basePath:d}),e.executeAction(o.a,u)},d=s("VrIF"),u=s("3Rla"),p=s("L2pB"),h=s("nKUr");t.a=function(e,t){const{requestId:s,data:o,uri:c,filename:r,basePath:g,dimensions:b,widgetId:m,widgetType:O,widgetPreset:j,widgetMatcher:f}=t,x={widgetType:O,widgetPreset:j},_=Object(u.y)(e.getState()),S={createdDate:(new Date).toString(),lastModified:(new Date).toString(),uri:c||null,filename:g?g+"/"+r:r,localFilename:r,requestId:s,dimensions:b};return e.dispatch({type:n.a.ADD_DOCUMENTS,payload:{documents:[S]}}),e.executeAction(l,{requestId:s,data:o,websiteId:_,filename:r,updateProgress:!0,basePath:g}).then(t=>e.dispatch({type:n.a.UPLOAD_COMPLETE,payload:{documents:t,basePath:g,widgetId:m,widgetMatcher:f,requestId:s}})).then(()=>{Object(a.d)(p.FILE_UPLOAD_SUCCESS,x)}).catch(()=>{Object(a.d)(p.FILE_UPLOAD_ERROR,x),e.dispatch({type:i.a.SET_MODAL,payload:{modal:Object(h.jsx)(d.a,{modalTitle:"genericErrorTitle2",modalDescription:"imageUploadError"})}})})}},"+bYj":function(e,t,s){"use strict";s("OuQ/"),s("Jfj4");var a=s("hcUJ"),n=(s("cDcd"),s("hplg")),i=s("/MKj"),o=s("sdqH"),c=s.n(o),r=s("q1hO"),l=s("H4Ah"),d=s("OpJB"),u=s("y+xp"),p=s("wqHn"),h=s("7xSL"),g=s("nKUr");const{ADD_PAGE:b,ADD_LINK:m,ADD_DROPDOWN_MENU:O}=l.a;t.a=function({selectedOptionValue:e}){const t=Object(h.a)(),s=Object(i.useSelector)(p.r),o=Object(i.useSelector)(p.q);function l(e){return t(d.a,{routeName:e.currentTarget.value})}const j=[{id:b,value:b,"data-aid":r.a.EDIT_PAGE_MODE_NEW_PAGE,label:o?Object(a.a)("newBlankPage"):Object(a.a)("aNewPage"),checked:"PAGE"===e,onChange:l,disabled:s},{id:m,value:m,label:Object(a.a)("linkToExternalWebsite"),"data-aid":r.a.EDIT_PAGE_MODE_EXTERNAL_LINK,checked:"LINK"===e,onChange:l},{id:O,value:O,"data-aid":r.a.EDIT_PAGE_MODE_FLYOUT_MENU,label:Object(a.a)("dropdownMenu"),checked:"DROPDOWN_MENU"===e,onChange:l}];return Object(g.jsxs)("div",{className:"page-mode-selector",children:[Object(g.jsxs)("h6",{className:"bold text-muted text-uppercase fs-small mb-4",children:[Object(a.a)("addNewItem","Add new item"),s?Object(g.jsx)("span",{onClick:()=>t(u.a),"data-aid":r.a.PAGE_HELP_ICON,className:"color-white ml-10 help-icon",children:Object(g.jsx)(c.a,{height:14,width:14})}):null]}),Object(g.jsx)(n.RadioGroup,{inputs:j})]})}},"/PPW":function(e,t,s){},"0bpF":function(e,t,s){},"0kGF":function(e,t,s){},"11D+":function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("JPcv"),r=s("DCtA"),l=s("dwxX"),d=s("/MKj"),u=s("enMK"),p=s("H4Ah"),h=s("L2pB"),g=s("28sP"),b=s("IsWw"),m=s("OpJB"),O=s("3Rla"),j=s("CC3A"),f=s("u1xw"),x=s("yYIo"),_=s("1kqI"),S=s.n(_),T=s("hplg"),E=s("DBMK"),I=s("50lH"),v=s("bS4r"),C=s("SMay");var N=function(e,t){return e.executeAction(v.a,{...t,withCredentials:!1,baseUrl:Object(C.f)(e.getState())})};var A={CATEGORY:"/v4/categories/{locale}/latest/{category}"},y=s("+fTh"),P=s.n(y)()({GET_CATEGORY:null});var k=function(e,{category:t,locale:s}){return e.executeAction(N,{url:A.CATEGORY,segments:{category:t,locale:s},metadata:{param:{category:t},type:P.GET_CATEGORY}}).then(e=>e&&e.result)},w=s("n4ap");const{SET_CATEGORY_DISPLAY_NAME:L}=I.a;var M=function(e,{businessCategory:t}={}){const s=e.getState(),a=t||Object(O.i)(s),n=Object(w.o)(s);return e.executeAction(k,{category:a,locale:n}).then(t=>{e.dispatch({type:L,payload:{name:t&&t.name}})})};const{BUSINESS_CATEGORY:D}=g.a;var B=async function(e,{businessCategory:t}){await e.executeAction(b.a,{[D]:t}),await Promise.all([e.executeAction(M),e.executeAction(E.a,{businessCategory:t})])},R=s("Uuec"),U=s("nKUr");class G extends i.Component{constructor(...e){super(...e),n()(this,"handleOptionEvent",(e,t)=>{const{executeAction:s}=this.context,a=t&&t.str_id;s(B,{businessCategory:a})}),n()(this,"toggleConfirmation",()=>{this.context.executeAction(j.a,{show:!0})})}render(){const{value:e,locale:t,rootDomain:s}=this.props;return Object(U.jsxs)("div",{className:"labeled-input ux-form-group business-category-settings",children:[Object(U.jsx)("label",{children:Object(o.a)("businessCategory")}),Object(U.jsx)(S.a,{autoSelectExactMatch:!0,autoSelectTopItem:!0,autoSelectTopItemDelay:2e3,containerClasses:"vp-container",inputClasses:"ux-form-control text-input form-control",limitResults:1e3,logUserInputsEvent:l.c,rootDomain:s,market:t,noResultsText:Object(o.a)("noResultFoundForVertical"),onOptionChange:this.handleOptionEvent,onChange:this.toggleConfirmation,otherNameFormat:Object(o.a)("useAnotherVertical"),placeholder:Object(o.a)("onboardBusinessCategoryPlaceholder"),showOtherOption:!1,spinner:Object(U.jsx)(T.Spinner,{size:"sm"}),value:e,uxcore:!0,eid:R.c.editor.vertical_picker})]})}}n()(G,"contextType",f.b);var F=Object(d.connect)(e=>({locale:Object(w.o)(e),value:Object(O.pb)(e,g.a.BUSINESS_CATEGORY)||"",rootDomain:Object(C.A)(e).rootDomainAlwaysProduction}))(G),K=s("OhOa");const V=r.constants.editors,H={[g.a.BUSINESS_NAME]:h.SIDE_SETTINGS_CHANGE_BUSINESS_NAME,[g.a.BUSINESS_CATEGORY]:h.SIDE_SETTINGS_CHANGE_BUSINESS_CATEGORY,[g.a.EMAIL]:h.SIDE_SETTINGS_CHANGE_BUSINESS_EMAIL,[g.a.ADDRESS]:h.SIDE_SETTINGS_CHANGE_BUSINESS_ADDRESS,[g.a.PHONE]:h.SIDE_SETTINGS_CHANGE_BUSINESS_PHONE};class W extends i.PureComponent{constructor(...e){super(...e),n()(this,"handleModifications",(e,t)=>{const s=Object(u.a)(t,e),{accountId:a}=this.props;s&&(this.context.executeAction(b.a,s),Object(l.c)({code:H[e.property],...e.property===g.a.BUSINESS_NAME&&{account_uid:a}}),this.context.executeAction(j.a,{show:!0}))}),n()(this,"handlePopView",()=>{this.context.executeAction(m.a,{routeName:p.a.EDIT_SETTINGS_BUSINESS_PROFILE})})}convertPropsToFields(){const{address:e,businessName:t,email:s,phone:a}=this.props;return[Object(c.fromJS)({type:V.TEXT,fieldTitle:Object(o.a)("businessName"),property:g.a.BUSINESS_NAME,mutatorSettings:{isRequired:!0,strictValidation:!0,trimTrailingSpaces:!0},state:t}),Object(U.jsx)(F,{},"BUSINESS_CATEGORY"),Object(c.fromJS)({type:V.EMAIL,fieldTitle:Object(o.a)("email"),mutatorSettings:{strictValidation:!0,trimTrailingSpaces:!0,validationRegex:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,18}(?:\.[a-z]{2})?)$/i,validationErrorMsg:"emailValidationErrorMsg"},source:"Site Profile",property:g.a.EMAIL,state:s}),Object(c.fromJS)({type:V.ADDRESS,fieldTitle:Object(o.a)("address"),property:g.a.ADDRESS,state:{value:e.replace(/\n/gi,", ")}}),Object(c.fromJS)({type:V.TEXT,fieldTitle:Object(o.a)("phone"),property:g.a.PHONE,mutatorSettings:{trimTrailingSpaces:!0},state:a})]}render(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"settings-description",children:Object(o.a)("businessProfileDescriptionExt")}),Object(U.jsx)(K.a,{fields:this.convertPropsToFields(),onBlur:this.handleModifications,onChange:this.handleModifications})]})}}n()(W,"contextType",f.b);t.default=Object(d.connect)(e=>({businessName:Object(O.pb)(e,g.a.BUSINESS_NAME)||"",address:Object(O.pb)(e,g.a.ADDRESS)||"",email:Object(O.pb)(e,g.a.EMAIL)||"",phone:Object(O.pb)(e,g.a.PHONE)||"",accountId:Object(x.a)(e)}))(W)},"21aA":function(e,t,s){"use strict";var a=s("flSk");function n(e){this.client=e.client,this.autocompleteService=new this.client.places.AutocompleteService,this.geocoder=new this.client.Geocoder,this.getSuggestLabel=e.getSuggestLabel||a.getSuggestLabel,this.skipSuggest=e.skipSuggest||a.skipSuggest,this.fixtures=e.fixtures||a.fixtures}e.exports=n,n.prototype.getSuggestions=function(e,t){var s=e,a=this;e.getSuggestLabel&&(a.getSuggestLabel=e.getSuggestLabel),e.props&&(["location","radius","bounds","types"].forEach((function(t){e.props[t]&&(s[t]=e.props[t])})),e.props.country&&(s.componentRestrictions={country:e.props.country})),a.autocompleteService.getPlacePredictions(s,(function(s){a.updateSuggests(s,e.input,t)}))},n.prototype.updateSuggests=function(e,t,s){var a=[],n=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gim"),i=this.skipSuggest,o=this;o.fixtures.forEach((function(e){!i(e)&&e.label.match(n)&&(e.placeId=e.label,a.push(e))})),e&&e.forEach((function(e){i(e)||a.push({label:o.getSuggestLabel(e),placeId:e.place_id})})),s(null,a)},n.prototype.geocodeSuggest=function(e,t){var s=this;s.geocoder.geocode(e.placeId?{placeId:e.placeId}:{address:e.label},(function(a,n){if(n===s.client.GeocoderStatus.OK){var i=a[0],o=i.geometry.location;e.gmaps=i,function(e){var t={locality:"place",postal_code:"postcode",administrative_area_level_1:"region",country:"country"},s={sublocality:"place",administrative_area_level_2:"region"};e.gmaps.address_components&&e.gmaps.address_components.forEach((function(a){a.types.forEach((function(n){t[n]&&(e[t[n]]=a.long_name),s[n]&&!e[s[n]]&&(e[s[n]]=a.long_name)}))}))}(e),e.location={lat:o.lat(),lng:o.lng()},t(null,e)}}))}},"3+nF":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(s("cDcd")),n=i(s("TSYQ"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.isActive,s=void 0!==t&&t,i=e.className,o=void 0===i?"":i,c=e.suggest,r=void 0===c?{}:c,l=e.onMouseDown,d=void 0===l?function(){}:l,u=e.onMouseOut,p=void 0===u?function(){}:u,h=e.onSelect,g=void 0===h?function(){}:h,b=(0,n.default)("geosuggest-item",o,{"geosuggest-item--active":s});return a.default.createElement("li",{className:b,onMouseDown:d,onMouseOut:p,onClick:function(e){e.preventDefault(),g()}},r.label)}},"3V64":function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("dwxX"),c=s("DCtA"),r=s("Uuec"),l=s("IsWw"),d=s("28sP"),u=s("enMK"),p=s("CC3A"),h=s("u1xw"),g=s("JPcv"),b=s("/MKj"),m=s("h5oJ"),O=s("D27L"),j=s("SMay"),f=s("xkYB"),x=s("yZiM"),_=s("3Rla"),S=s("cmhP"),T=s("OhOa"),E=s("nKUr");const I=c.constants.editors,v=Object.keys(c.constants.socialProviders);class C extends i.PureComponent{render(){const{onBlur:e,onChange:t,disabled:s}=this.props;return Object(E.jsx)(b.ReactReduxContext.Consumer,{children:({store:a})=>{const n=this.convertPropsToFields(a);return Object(E.jsx)("div",{className:"ux-form mutator-form",children:Object(E.jsx)(T.a,{fields:n,onBlur:e,onChange:t,disabled:s})})}})}convertPropsToFields(e){const{isReseller:t}=this.props,s=v.map(s=>{const a=c.constants.socialProviders[s],n=`^https?:\\/\\/(www\\.)?${s}\\.com\\/((?!.*https?:).*)$`,i=a.arguments,o=i&&i.validationRegex||n,r=i&&void 0!==i.validationValueMatchGroupIndex?i.validationValueMatchGroupIndex:2,{externalLinkID:l}=i||{},u={type:I.TEXT,fieldTitle:a.name,fieldPlaceholder:a.placeholder,link:void 0,mutatorSettings:{prefix:a.prefix,strictValidation:!0,validationRegex:o,validationValueMatchGroupIndex:r,validationErrorMsg:{message:"socialLinkValidationErrorMsg",args:{socialApp:a.name}}},property:d.a[s.toUpperCase()+"_PROFILE"],state:this.props[s+"Profile"],hidden:!this.props.socialProvidersConfig[s]};if(l)switch(a.name){case c.constants.socialProviders.twitter.name:if(t)break;case c.constants.socialProviders.instagram.name:case c.constants.socialProviders.yelp.name:u.link=O.a[l](this.context,e.getState(),a.name.toLowerCase());break;case c.constants.socialProviders.facebook.name:u.link=O.a[l](this.context,e.getState())}return u});return Object(g.fromJS)(s)}}n()(C,"contextType",h.b);var N=Object(b.connect)(e=>({...function(e){return v.reduce((t,s)=>{const a=s.toUpperCase()+"_PROFILE",n=Object(_.pb)(e,d.a[a]);return t[s+"Profile"]=n||"",t},{})}(e),socialProvidersConfig:Object(j.o)(e,"socialProviders"),hasSocialConnectInPlan:Object(f.b)(e)[m.a.SOCIAL_MEDIA_MANAGER],isInstagramConnected:Object(x.a)(e,"instagram"),isReseller:Object(S.k)(e)}))(C);const A={};Object.keys(c.constants.socialProviders).forEach(e=>{const t=d.a[e.toUpperCase()+"_PROFILE"];A[t]=r.c.editor_side_menu[`change_${e.toLowerCase()}_profile`]});class y extends i.PureComponent{constructor(...e){super(...e),n()(this,"handleModification",(e,t)=>{const s=Object(u.a)(t,e);s&&(this.context.executeAction(l.a,s),Object(o.c)({code:A[e.property]}),this.context.executeAction(p.a,{show:!0}))})}render(){const{field:e=new Map}=this.props,t=e.get("mutatorSettings");return Object(E.jsx)(N,{onBlur:this.handleModification,onChange:this.handleModification,disabled:t&&!t.get("enabled")||!1})}}n()(y,"contextType",h.b);t.default=y},"3hNz":function(e,t,s){"use strict";var a=s("TKNf");function n(e){this.client=e.client,this.getSuggestLabel=e.getSuggestLabel||a.getSuggestLabel,this.skipSuggest=e.skipSuggest||a.skipSuggest,this.fixtures=e.fixtures||a.fixtures}e.exports=n,n.prototype.getSuggestions=function(e,t){var s=this,a={query:e.input};if(e.position&&e.position.coords){var n=e.position.coords.latitude,i=e.position.coords.longitude;a.proximity=[n,i]}this.client.query(a,(function(a,n){a?t(a):s.updateSuggests(n.results.features,e.input,t)}))},n.prototype.updateSuggests=function(e,t,s){var a=[],n=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gim"),i=this.skipSuggest,o=this;o.fixtures.forEach((function(e){!i(e)&&e.label.match(n)&&(e.placeId=e.label,a.push(e))})),e.forEach((function(e){if(!i(e)){var t=function(e){var t={place:!0,postcode:!0,region:!0,country:!0},s={};Array.isArray(e)&&e.forEach((function(e){var a=e.id.split(".")[0];t[a]&&(s[a]=e.text)}));return s}(e.context),s={label:o.getSuggestLabel(e),placeId:e.id,location:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]}};Object.keys(t).forEach((function(e){s[e]=t[e]})),a.push(s)}})),s(null,a)},n.prototype.geocodeSuggest=function(e,t){this.client.query({query:e.label},(function(s,a){s?t(s):(e.location={lat:a.latlng[0],lng:a.latlng[1]},t(null,e))}))}},"4xuX":function(e,t,s){"use strict";s("I9s4"),s("cDcd");var a=s("TSYQ"),n=s.n(a),i=s("nKUr");t.a=({children:e,className:t})=>Object(i.jsx)("div",{className:n()("editor-panel-footer",t),children:e})},"5lir":function(e,t,s){},"5x04":function(e,t,s){},"6HVB":function(e,t,s){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0});var n=c(s("7TwE")),i=c(s("dSby")),o=c(s("lJ/R"));function c(e){return e&&e.__esModule?e:{default:e}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}t.default=(r(a={},o.default.SOUNDCLOUD,n.default),r(a,o.default.GOOGLE_ADSENSE,i.default),a)},"6Up9":function(e,t,s){"use strict";const a=s("2X3e");e.exports=a("stop","false")},"7Fxu":function(e,t,s){"use strict";s("LbuZ"),s("TITd"),s("OuQ/"),s("HbWd"),s("vNJ6"),s("FNOC"),s("cDcd");var a=s("TSYQ"),n=s.n(a),i=s("f91B"),o=s.n(i),c=s("rdt/"),r=s.n(c),l=s("sdqH"),d=s.n(l),u=s("gbvG"),p=s.n(u),h=s("QnAF"),g=s.n(h),b=s("nKUr");const m={success:"text-primary notify-success-icon",help:"mt-8",warning:"text-warning mt-4",failure:"text-danger mt-8",info:"notify-info-icon"};t.a=e=>{const{message:t,className:s,type:a,dataAid:i}=e;return Object(b.jsxs)("div",{className:n()("ux-editor flex flex--center notify-message bg-faint",s),"data-aid":i,children:[Object(b.jsx)("div",{className:n()({[m[a]]:Boolean(m[a])}),children:(()=>{let e;return e="success"===a?Object(b.jsx)(o.a,{height:14,width:14}):"warning"===a?Object(b.jsx)(r.a,{height:24,width:24}):"help"===a?Object(b.jsx)(d.a,{className:"help-icon",height:14,width:14}):"info"===a?Object(b.jsx)(p.a,{height:24,width:24}):Object(b.jsx)(g.a,{height:14,width:14}),e})()}),Object(b.jsx)("div",{className:"ml-15",children:t})]})}},"7TwE":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=s("5lD2"),i=s("s4NR"),o=(a=i)&&a.__esModule?a:{default:a};t.default=function(e){var t=function(e){var t=document.createElement("div");return t.innerHTML=e,t}(e).getElementsByTagName("iframe");if(!t||1!==t.length)return{isValid:!1,message:"iframe cannot be found"};var s=function(e){var t=!0,s="",a={};return["width","height","scrolling","frameborder","src"].forEach((function(n){var i=e.getAttribute(n);if(null==i)return t=!1,s="attribute "+n+" cannot be found",!1;a[n]=i})),t?{isValid:t,metadata:a}:{isValid:t,message:s}}(t[0]);if(!s.isValid)return s;var a=s.metadata,i=/^https:\/\/w\.soundcloud\.com\/player\/\?url=(\S+)$/gi.exec(a.src);if(!i)return{isValid:!1,message:"invalid iframe src "+a.src};var c=function(e){var t=decodeURIComponent(e).replace(/&amp;/g,"&"),s=/^https:\/\/api\.soundcloud\.com\/(tracks|users|playlists)\/\d+&(\S+)$/gi.exec(t);if(!s)return{isValid:!1,message:"invalid api url "+e};var a=o.default.parse(s[2]),i=["auto_play","hide_related","show_comments","show_user","show_requests","show_reposts","show_teaser","visual","color"],c={isValid:!0};(0,n.forOwn)(a,(function(e,t){if(!(0,n.includes)(i,t))return c.isValid=!1,c.message="api url query param should not contain "+t,!1;if("color"===t){if(!/^(%23|#)?[a-f0-9]{6}$/gi.exec(e))return c.isValid=!1,c.message="invalid color param value "+e,!1}else{if("true"!==e&&"false"!==e)return c.isValid=!1,c.message="invalid api param "+t+" value "+e,!1;"visual"===t&&(c.metadata={visual:!!e})}})),c.isValid&&!c.metadata&&(c.metadata={visual:!1});return c}(i[1]);return c.isValid?((0,n.merge)(a,c.metadata),{metadata:a,isValid:!0}):c}},"8/HY":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return o}));var a=s("P++E");const n="feedback-link";function i(e={}){const t={};for(const s in e)if(Object.prototype.hasOwnProperty.call(a.a,s)){t[a.a[s]]=e[s]}const s=e.postSuggestionSuccessBodyLink,n=t.post_suggestion_success_body;return s&&n&&(t.post_suggestion_success_body=`${n} %{link:${s}}`),t}function o({target:e,userVoiceStrings:t,forumId:s,position:a}){return{target:e||"#"+n,mode:"feedback",accent_color:"#77C043",strings:i(t),forum_id:s,position:a||"automatic"}}},"8Kfp":function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=(s("zFEB"),s("hcUJ")),o=s("cDcd"),c=s.n(o),r=s("TSYQ"),l=s.n(r),d=s("dwxX"),u=s("hplg"),p=s("/MKj"),h=s("ashf"),g=s("4NvJ"),b=s("4xuX"),m=s("q1hO"),O=s("tyho"),j=s("Yijx"),f=s("Uuec"),x=s("Daju"),_=s("bKdC"),S=s("3Rla"),T=s("OpJB"),E=s("H4Ah"),I=s("VaJo");const{EDIT_PAGES:v}=E.a;function C(e,t,s){return e.reduce((e,a)=>{if("string"!=typeof a&&a.navigation){if(s&&a.id===s){const n=a.navigation.filter(e=>!t.includes(e));return e.concat([...n,{id:s,navigation:t}])}return e.concat({id:a.id,navigation:a.navigation.filter(e=>!t.includes(e))})}return t.includes(a)?e:e.concat(a)},[])}function N(e,{pages:t,id:s}){const a=C(Object(S.nb)(e.getState()).toJS(),t,s);return e.executeAction(_.a,{navigation:a})}function A(e,{pages:t,...s}){const a=Object(S.nb)(e.getState()).toJS();return e.executeAction(I.a,s).then(({id:s})=>{if(t.length>0)return e.executeAction(_.a,{navigation:C(a,t).concat({id:s,navigation:t})})}).then(()=>{Object(d.d)(f.c.edit_site.manage_pages_add_multipage_dropdown_success),e.executeAction(T.a,{routeName:v})})}var y=s("p/89"),P=s("paR9"),k=s("NGq9"),w=s("W7As"),L=s("CC3A"),M=s("cmhP"),D=s("wqHn"),B=s("SMay"),R=s("u1xw"),U=s("+bYj"),G=s("nKUr");const{DropdownItem:F,DropdownControl:K}=u.Dropdown;class V extends c.a.Component{constructor(e){super(...arguments),n()(this,"handleNameChange",(e,t)=>{const s=Object(x.e)(e);this.setState({name:e}),this.isAddMode()||this.context.executeAction(L.a,{show:!0});const{flyoutMenu:a}=this;a&&s&&(Object(d.c)({code:f.c.edit_site.manage_pages_rename_flyout_menu,domEvent:t}),this.context.executeAction(P.a,{id:a.get("id"),name:e,title:e}))}),n()(this,"handleToggle",(e,t)=>{this.setState({showLink:e}),this.isAddMode()||this.context.executeAction(L.a,{show:!0});const{flyoutMenu:s}=this;s&&this.context.executeAction(P.a,{id:s.get("id"),options:{showLink:e}}),Object(d.c)({code:e?f.c.edit_site.show_flyout_menu_in_nav:f.c.edit_site.hide_flyout_menu_in_nav,domEvent:t})}),n()(this,"handleKeyPress",e=>{this.isAddMode()&&"Enter"===e.key&&this.handleCreateClick(e)}),n()(this,"handleCreateClick",e=>{const{nestablePages:t}=this.props,{name:s,isLocked:a,showLink:n,selectedPages:i}=this.state;if(!Object(x.e)(s)||a)return;const{nativeEvent:o}=e;this.setState({isLocked:!0},()=>{const{enableDropdown:e}=this.props,a={pageName:s,showLink:n,isFlyoutMenu:!0};e?this.context.executeAction(A,{...a,pages:i.map(e=>t.get(e).get("id"))}):this.context.executeAction(y.a,a),Object(d.c)({code:f.c.edit_site.manage_pages_add_flyout_menu,domEvent:o})})}),n()(this,"handleDeleteClick",e=>{const{flyoutMenu:t}=this;Object(k.b)(t),this.context.executeAction(j.a,{modal:Object(G.jsx)(O.a,{isFlyoutMenu:!0,pageId:t.get("id"),itemName:t.get("name"),websiteId:t.get("websiteId"),onDelete:()=>this.setState({isLocked:!0})})}),Object(d.c)({code:f.c.edit_site.manage_pages_remove_flyout_menu,domEvent:e.nativeEvent})}),n()(this,"handleSelect",({selected:e})=>{const{flyoutMenuId:t,nestablePages:s}=this.props;this.setState({selectedPages:e},()=>{this.isAddMode()||(this.context.executeAction(L.a,{show:!0}),this.context.executeAction(N,{id:t,pages:e.map(e=>s.get(e).get("id"))}))})});const{flyoutMenu:t}=e;this.state={name:t?t.get("name"):"",showLink:!t||t.getIn(["options","showLink"],!0),isLocked:!1,selectedPages:[]},this.flyoutMenu=t}componentDidMount(){const{selectedPages:e}=this.props;this.setState({selectedPages:e})}componentWillUnmount(){this.context.executeAction(L.a,{show:!1})}isAddMode(){return!this.flyoutMenu}isEditMode(){return!!this.flyoutMenu}renderCtaButton(){const{isReseller:e}=this.props,{name:t,isLocked:s}=this.state,a=Object(x.e)(t);return this.isAddMode()?Object(G.jsx)(u.Button,{design:"primary",size:"small",className:l()({"btn-filled":e}),onClick:this.handleCreateClick,disabled:s||!a,"data-aid":m.a.CREATE_PAGE_BTN,text:Object(i.a)("createMenu")}):Object(G.jsx)(u.Button,{design:"critical",size:"small",onClick:this.handleDeleteClick,disabled:s,"data-aid":m.a.DELETE_PAGE_BUTTON,text:Object(i.a)("deleteMenu")})}render(){const{name:e,showLink:t,selectedPages:s}=this.state,{nestablePages:a,enableDropdown:n}=this.props,o=Boolean(a.size)&&n;return Object(G.jsxs)("div",{className:"pages-detail-editor flex flex--column",children:[Object(G.jsxs)("div",{className:"pages-detail-form",children:[this.isAddMode()&&Object(G.jsx)(U.a,{selectedOptionValue:"DROPDOWN_MENU"}),Object(G.jsx)(g.a,{placeholder:Object(i.a)("egAboutUs"),onChange:this.handleNameChange,label:Object(i.a)("dropdownMenuNameInputTitle"),maxCount:h.a.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:m.a.TEXT_INPUT_PAGE_NAME,onKeyPress:this.handleKeyPress,value:e}),o&&Object(G.jsxs)("div",{className:"labeled-input ux-form-group",children:[Object(G.jsx)("label",{children:Object(i.a)("pagesForDropdownDefault")}),Object(G.jsxs)(u.Dropdown,{id:"flyout-menu-pages-dropdown",type:"multiselect",enableFullscreen:!1,onChange:this.handleSelect,selected:s,children:[Object(G.jsx)(K,{children:Object(i.a)("selectedCount",{selectedCount:s.length})}),a.map((e,t)=>Object(G.jsx)(F,{children:e.get("name")},t))]})]}),Object(G.jsx)(w.a,{label:Object(i.a)("showInNavigation"),handleChange:this.handleToggle,defaultValue:t,property:"SHOW_IN_NAVIGATION",inputDataAid:m.a.TOGGLE_PAGE_NAVIGATION_VISIBILITY})]}),Object(G.jsx)(b.a,{className:"ux-form-group",children:this.renderCtaButton()})]})}}n()(V,"contextType",R.b);t.default=Object(p.connect)((e,{flyoutMenuId:t})=>{let s=null,a=[];return t&&(s=Object(D.l)(e).get(t),a=Object(D.o)(e)[t]),{flyoutMenu:s,selectedPages:a,isReseller:Object(M.k)(e),nestablePages:Object(D.i)(e),enableDropdown:Object(B.o)(e,"enableMultiPageDropdown")}})(V)},"9/X/":function(e,t,s){},"9RfT":function(e,t,s){"use strict";const a=s("2X3e");e.exports=a("image","false")},"9iad":function(e,t,s){e.exports=s("JPb/").default},Auha:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=(s("f6xQ"),s("cDcd")),o=s("hcUJ"),c=s("9RfT"),r=s.n(c),l=s("hplg"),d=s("/MKj"),u=(s("5lir"),s("WjD0")),p=s.n(u),h=s("EcEN"),g=s.n(h),b=s("TSYQ"),m=s.n(b),O=s("5lD2"),j=s("dwxX"),f=s("PC2u"),x=s.n(f),_=s("q1hO"),S=s("lvcY"),T=s("+Our"),E=s("8qtx");function I(e,{files:t,basePath:s}){const a=t.map(e=>({createdDate:(new Date).toString(),lastModified:(new Date).toString(),filename:s?s+"/"+e.filename:e.filename}));e.dispatch({type:E.a.ADD_DOCUMENTS,payload:{documents:a}})}var v=s("Yijx"),C=s("VrIF"),N=s("Yu4X"),A=s("Uuec"),y=s("IrQ8"),P=s("SMay"),k=s("75c+"),w=s("cmhP"),L=s("L2pB"),M=s("u8Wy"),D=s("u1xw"),B=s("nKUr");const R=["image/gif","image/jpeg","image/pjpeg","image/png","image/tiff","image/x-tiff","image/webp"],U={logo:{button:L.UPLOAD_LOGO_BUTTON_CLICKED,upload:L.LOGO_UPLOADED}};class G extends i.Component{constructor(){super(...arguments),n()(this,"handleClick",e=>{e.currentTarget.value=null;const t=U[this.props.basePath];t&&Object(j.c)({code:t.button})}),n()(this,"handleChange",e=>{const{invalidFileText:t,handleMultipleUpload:s,maxFileCount:a,basePath:n,maxFilenameLength:i}=this.props,{files:o}=e.currentTarget;if(!o||!o.length)return;if(o.length>a)return this.context.executeAction(v.a,{modal:Object(B.jsx)(N.a,{maxFileCount:a})}),void Object(j.d)(A.c.edit_site.max_file_uploaded_modal_show);Object(j.d)(A.c.edit_site.max_file_uploaded_modal_no_show);if(Object(O.toArray)(o).find(e=>!this.isValidMimeType(e.type)))return void this.context.executeAction(v.a,{modal:Object(B.jsx)(C.a,{modalDescription:t})});s&&s(o.length>1);const c=this.getFileNames(o,null,i);if(this.context.executeAction(I,{files:c,basePath:n}),this.setState({previewCount:c.length}),c.forEach(e=>{this.readImage(e.filename,e.file)}),Object(M.f)(c))Object(j.c)({code:L.BRANDCROWD_UPLOADED_FROM_FILE_SYSTEM,filename:c.map(e=>e.filename).join(",")});else{const e=U[n];e&&Object(j.c)({code:e.upload})}}),this.state={previewCount:0,filesLoaded:0,previewData:[],invalidFileNames:[]}}addPreviewsToStore(e,t,s){const{previewData:a,filesLoaded:n,previewCount:i,invalidFileNames:o}=this.state,c=a.concat([e]),r=s?o.concat([t]):o;n+1===i?this.initializeImageUpload(c):this.setState({previewData:c,filesLoaded:n+1,invalidFileNames:r})}isValidMimeType(e){return(this.props.validFileTypes||R).includes(e)}generateFileInformation(e,t){const s=g.a.v4(),{basePath:a}=this.props,n=new p.a;return n.append("file",e,t),{data:n,filename:t,requestId:s,basePath:a}}validateImageSize(e,t,s,a){const n=new Image;n.onload=()=>{const e={height:n.height,width:n.width};this.addPreviewsToStore({...t,dimensions:e},s,e.width<a)},n.src=e}readImage(e,t){const{minWidth:s}=this.props;if(this.props.noPreview)this.context.executeAction(T.a,this.generateFileInformation(t,e));else{const a=new FileReader;a.onloadend=()=>{const n=this.generateFileInformation(t,e),i={data:n.data,requestId:n.requestId,filename:n.filename,uri:a.result};this.validateImageSize(a.result,i,e,s)},a.readAsDataURL(t)}}getFileNames(e,t,s){return Object(O.toArray)(e).map(e=>({filename:y.a.ensureUniqueFilename(e.name,t,s),file:e}))}initializeImageUpload(e){const t=this.context;e.forEach(e=>t.executeAction(T.a,e)),this.resetState()}resetState(){this.setState({previewData:[],filesLoaded:0,previewCount:0,invalidFileNames:[]})}render(){const{buttonLabel:e,trafficId:t,disabled:s,renderAsThumbnail:a,multiple:n,isReseller:i,enableReplace:o}=this.props,{previewCount:c}=this.state,r=s||c&&!o,l=Object(B.jsx)("input",{type:"file",className:m()("upload-image-input",{"input-disabled":s}),"data-aid":""+_.a.ADD_PHOTO,accept:"image/*",disabled:r,onClick:this.handleClick,onChange:this.handleChange,multiple:n});if(a){const t=s?{opacity:.3}:null;return Object(B.jsxs)("div",{className:"flex flex--column flex--abs-center",style:t,children:[Object(B.jsx)(x.a,{height:16,width:16}),Object(B.jsxs)("div",{className:"upload-image-helper-text",children:[" ",e," "]}),l]})}return Object(B.jsx)("div",{className:"file-uploader",children:Object(B.jsxs)("a",{className:m()("btn btn-sm ux-button ux-button-small btn-default",{"btn-dark":!i}),"data-traffic2":r?null:t,children:[e,r?null:l]})})}}n()(G,"contextType",D.b),n()(G,"defaultProps",{multiple:!0});var F=Object(d.connect)((function(e){return{uploadRequests:Object(k.c)(e,S.a.POST_DOCUMENTS),maxFileCount:Object(P.g)(e,"limits.maxFileCount")||10,maxFilenameLength:Object(P.g)(e,"limits.maxFilenameLength")||50,isReseller:Object(w.k)(e)}}))(G),K=s("IsWw"),V=s("U/Dm"),H=s("3Rla"),W=s("CC3A");const J=["image/png","image/jpeg","image/vnd.microsoft.icon","image/x-icon"];class Y extends i.PureComponent{constructor(){super(...arguments),n()(this,"handleRemoveFavicon",()=>{this.context.executeAction(K.a,{favicon:{url:""}}),this.context.executeAction(W.a,{show:!0})}),this.state={faviconURL:this.props.faviconURL}}static getDerivedStateFromProps(e,t){if(t.faviconURL!==e.faviconURL)return{faviconURL:e.faviconURL}}componentDidUpdate({faviconURL:e}){this.state.faviconURL!==e&&this.context.executeAction(W.a,{show:!0})}renderFaviconControlButtons(){const{faviconURL:e}=this.props,t=Object(B.jsx)(l.Button,{design:"critical",size:"small","data-aid":_.a.REMOVE_FAVICON,onClick:this.handleRemoveFavicon,text:Object(o.a)("remove")});return Object(B.jsxs)("div",{children:[e&&""!==e?null:Object(B.jsx)("p",{children:Object(o.a)("selectImage")}),e&&""!==e?null:Object(B.jsx)(F,{buttonLabel:Object(o.a)("upload"),basePath:"favicon",validFileTypes:J,invalidFileText:"faviconUnsupportedFileTypeErrorMessage",noPreview:!0,multiple:!1}),e&&""!==e?t:null]})}renderImagePanel(){const{faviconURL:e}=this.state,t=e?Object(B.jsx)("img",{"data-aid":_.a.FAVICON_IMAGE_PREVIEW,src:e,style:{width:"100px",height:"100px"}}):Object(B.jsx)("div",{"data-aid":_.a.FAVICON_IMAGE_PLACEHOLDER,style:{opacity:.3},className:"flex--abs-center",children:Object(B.jsx)(r.a,{width:36,height:36})});return Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{className:"ml-20 mr-20 mb-10",children:[" ",Object(B.jsxs)("strong",{children:[" ",Object(o.a)("favicon")]})]}),Object(B.jsxs)("div",{className:"ml-20 mr-20 flex",children:[Object(B.jsx)("div",{className:"flex flex--column flex--abs-center",style:{height:"100px",width:"100px",background:"black",marginRight:"20px"},children:t}),this.renderFaviconControlButtons()]})]})}renderFaviconTips(){return Object(B.jsxs)("div",{className:"mt-20 ml-20 mr-20",children:[Object(B.jsxs)("p",{className:"mb-10",children:[" ",Object(B.jsx)("strong",{children:Object(o.a)("faviconTips")})," "]}),Object(B.jsxs)("ul",{children:[Object(B.jsxs)("li",{className:"mb-10",children:[Object(o.a)("faviconShapeInstructions")," ",Object(B.jsx)("br",{}),Object(o.a)("supportedFileTypesForFavicon")]}),Object(B.jsxs)("li",{className:"mb-10",children:[Object(o.a)("faviconDimensions")," ",Object(B.jsx)("br",{}),Object(o.a)("recommendedDimensionsForFavicon")]})]})]})}render(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{style:{height:"auto"},children:Object(B.jsx)(V.a,{description:"faviconHelperText"})}),this.renderImagePanel(),this.renderFaviconTips()]})}}n()(Y,"contextType",D.b);t.default=Object(d.connect)(e=>({faviconURL:Object(H.I)(e)}))(Y)},D27L:function(e,t,s){"use strict";var a=s("DCtA"),n=s("hcUJ"),i=s("dwxX"),o=s("TSYQ"),c=s.n(o),r=s("L2pB"),l=s("H4Ah"),d=s("MkBd"),u=s("foj4"),p=s("Vmlt"),h=s("3Rla"),g=s("cmhP"),b=s("qp4x"),m=s("SMay"),O=s("xkYB"),j=s("cAVQ"),f=s("yZiM"),x=s("PFfh");const{FOOTER:_,SOCIAL:S}=a.constants.widgetTypes;function T(e){const t=Object(b.f)(e);if(t===l.a.EDIT_WIDGET||t===l.a.EDIT_WIDGET_MUTATOR){const t=Object(u.f)(e),s=t?t.get("type"):"";if(s===S)return"social_widget";if(s===_)return"footer_widget"}return t===l.a.EDIT_SETTINGS_SOCIAL_ACCOUNTS?"site_settings":""}t.a={CREATE_FACEBOOK_LINK:function(e,t){const{executeAction:s}=e,a=Object(p.r)(t),o=Object(h.u)(t),f="business"===o&&a,E="businessPlus"===o||"commerce"===o||"commercePayPal"===o,I=Object(O.b)(t)["socialMediaManager.fb"],v=Object(m.o)(t,"enableSocialFacebookCreate"),C=Object(h.pb)(t,"fbPageId");if(!v||C||!(E||f||I))return{text:""};Object(i.c)({code:r.CONNECT_FACEBOOK_LINK_SHOWN,location:T(t)});const N=function(e){const t=Object(b.f)(e);if(t===l.a.EDIT_WIDGET||t===l.a.EDIT_WIDGET_MUTATOR){const t=Object(u.f)(e),s=t?t.get("type"):"";if(s===S)return"social_section";if(s===_)return"social_settings_footer"}return t===l.a.EDIT_SETTINGS_SOCIAL_ACCOUNTS?"social_site_settings":""}(t),A=Object(g.k)(t),y=`${Object(m.l)(t)}${Object(b.k)(t)}`;return{href:"#",text:Object(n.a)("createFacebookPageLink"),className:c()({"btn btn-sm btn-link":!A}),onClick:()=>{s(d.a,{url:Object(j.a)(t,"facebookCreateUrl"),query:Object.assign({},{redirect:y},N?{ua_placement:N}:{}),newWindow:!1}),Object(i.c)({code:r.CONNECT_FACEBOOK_LINK_CLICKED,location:T(t)}),Object(x.a)("facebook","setting")}}},CREATE_SOCIAL_PROVIDER_LINK:function(e,t,s){if("instagram"===s){const e=Object(O.b)(t)["socialMediaManager.instagram"];if(!Object(m.o)(t,"enableSocialInstagramCreate")||!e)return{text:""}}if(!!Object(f.a)(t,s))return{text:""};const a={fb:{},gmb:{},instagram:{linkRenderEvent:r.CONNECT_INSTAGRAM_LINK_SHOWN,linkClickEvent:r.CONNECT_INSTAGRAM_LINK_CLICKED,linkText:"connectInstagramBusinessLink",linkUrlKey:"instagramCreateUrl"},twitter:{linkRenderEvent:r.CONNECT_TWITTER_LINK_IMPRESSION,linkClickEvent:r.CONNECT_TWITTER_LINK_CLICK,linkText:"connectTwitterLink",linkUrlKey:"twitterConnectUrl"},yelp:{linkRenderEvent:r.CONNECT_YELP_LINK_IMPRESSION,linkClickEvent:r.CONNECT_YELP_LINK_CLICK,linkText:"connectYelpLink",linkUrlKey:"yelpCreateUrl"}}[s];Object(i.c)({code:a.linkRenderEvent,location:T(t)});const o=Object(g.k)(t),{executeAction:l}=e,u=`${Object(m.l)(t)}${Object(b.k)(t)}`;return{href:"#",className:c()({"btn btn-sm btn-link":!o}),text:Object(n.a)(a.linkText),onClick:()=>{l(d.a,{url:Object(j.a)(t,a.linkUrlKey),query:{redirect:u},newWindow:!1}),Object(i.c)({code:a.linkClickEvent,location:T(t)}),Object(x.a)(s,"setting")}}},CREATE_IDX_HELP_LINK:function(e,t){const s=Object(g.k)(t),a=Object(m.g)(t,"idxHelpLink");return{href:"#",className:c()({"btn-link":!s}),onClick:()=>{e.executeAction(d.a,{url:a,newWindow:!0})},text:Object(n.a)("textHowItWorks")}}}},DBMK:function(e,t,s){"use strict";var a=s("kUj2"),n=s("t+uG"),i=s("lvcY");var o=function(e,t,s=40){const a={},n=[];return(...i)=>{const o=t(...i);return a[o]||(a[o]=e(...i).catch(e=>{const t=n.indexOf(o);throw t>-1&&(delete a[o],n.splice(t,1)),e}),n.unshift(o),n.length>s&&delete a[n.pop()]),a[o]}},c=s("75c+");var r=o((function(e,t){return(window.bootstrap||Promise.resolve({})).then(({STOCK_PHOTOS:s})=>{if(s)return s;const o={type:i.a.GET_STOCK_PHOTOS,param:JSON.stringify(t)};return Object(c.g)(e.getState(),o)?Promise.resolve():e.executeAction(a.a,{url:n.G,params:t,metadata:o})})}),(e,{businessCategory:t="",keywords:s="",offset:a=0,limit:n=50})=>`${t}-${s}-${a}-${n}`),l=s("MZWs"),d=s("50lH"),u=s("3Rla"),p=s("SMay");const{SET_STOCK_PHOTOS_FOR_CATEGORY:h}=d.a;t.a=async function(e,t){const s=t.businessCategory||Object(u.i)(e.getState()),a=Object(u.qb)(e.getState()),n=Object(p.g)(e.getState(),"images.stock.baseDownloadURL");if(!a.size||t.businessCategory&&t.businessCategory!==s)return e.executeAction(r,{businessCategory:s}).then((t={})=>{const{results:a=[],totalCount:i=0}=t,o=function(e,t){return t.filter(e=>e.fullsize).map(({fullsize:t})=>0===t.indexOf(e)?t:`${e}/${t.split("/").pop()}`)}(n,a);return e.dispatch({type:h,payload:{businessCategory:s,images:o,totalCount:i}}),e.executeAction(l.a,{stockImages:o})})}},DPks:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("JPcv"),r=s("DCtA"),l=s("9iad"),d=s("dwxX"),u=s("TSYQ"),p=s.n(u),h=s("/MKj"),g=(s("s+Qk"),s("28sP")),b=s("W7As"),m=s("enMK"),O=s("IsWw"),j=s("Uuec"),f=s("pENX"),x=s("3Rla"),_=s("cmhP"),S=s("TQMK"),T=s("4jaQ"),E=s("CC3A"),I=s("JVM4"),v=s("u1xw"),C=s("OhOa"),N=s("nKUr");const A=r.constants.editors,y={signUp:{text:"displayAdsSignUp",url:"https://www.google.com/adsense/signup",trafficEvent:j.c.editor_side_menu.redirect_to_da_signup},findCode:{text:"displayAdsHelp",url:"https://support.google.com/adsense/answer/181960/",trafficEvent:j.c.editor_side_menu.redirect_to_find_da_code},helpArticle:{text:"helpArticle",url:"https://support.google.com/adsense/",trafficEvent:j.c.editor_side_menu.redirect_to_da_help_article},adSenseAccount:{text:"displayAdsAccount",url:"https://www.google.com/adsense/",trafficEvent:j.c.editor_side_menu.redirect_to_da_adsense_account},adsTxtLearnMore:{text:"displayAdsAdsTxtTooltipLearnMore",url:"https://support.google.com/admanager/answer/9422161/",trafficEvent:j.c.editor_side_menu.redirect_to_da_ads_txt_learn_more}};class P extends i.PureComponent{constructor(){super(...arguments),n()(this,"publishButtonClick",()=>{this.context.executeAction(f.a,{eventOriginKey:"editor_side_menu.adsense_publish_website",triggersNPS:!0})}),n()(this,"handleChange",(e,t)=>{const{isValid:s}=this.state,{property:a}=e;switch(a){case g.a.ADSENSE_SNIPPET:(this.validateInput(t)||0===t.length)&&this.handleBlur(e,t);break;case g.a.ADS_TXT_ENABLED:Object(d.c)({code:j.c.editor_side_menu[t?"ads_txt_toggle_on":"ads_txt_toggle_off"]}),this.context.executeAction(O.a,Object(m.a)(t,e)||{});break;case g.a.APP_ADS_TXT_ENABLED:Object(d.c)({code:j.c.editor_side_menu[t?"app_ads_txt_toggle_on":"app_ads_txt_toggle_off"]}),this.context.executeAction(O.a,Object(m.a)(t,e)||{});break;case g.a.ADS_TXT_CONTENT:case g.a.APP_ADS_TXT_CONTENT:this.context.executeAction(O.a,Object(m.a)(t,e)||{})}this.context.executeAction(E.a,{show:s})}),this.state={isValid:!1,snippet:"",input:"",dirty:!1}}componentDidMount(){const{adSenseSnippet:e}=this.props;this.validateInput(e)}validateInput(e){const t=Object(l.parse)({provider:"GOOGLE_ADSENSE",htmlCode:e});return this.setState({isValid:t.isValid,snippet:t.snippet,dirty:!0,input:e}),t.isValid}handleBlur(e,t){const s=Object(m.a)(t,e);s&&(this.context.executeAction(O.a,s),Object(d.c)({code:j.c.editor_side_menu.change_adsense_snippet}),this.context.executeAction(E.a,{show:!0}))}renderLink(e,t){const{isReseller:s}=this.props;return Object(N.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer","data-traffic2":e.trafficEvent,className:p()({"btn-link":!s}),children:t?Object(N.jsx)("span",{className:"settings-link",children:Object(o.a)(e.text)}):Object(N.jsx)("div",{className:"settings-link",children:Object(o.a)(e.text)})})}renderMessage(e,t,s,a){const n=Object(o.a)(e),[i,c]=n.split(t),r=p()("text-input-label-message",{"text-input-label-error":a});return Object(N.jsx)("div",{className:"settings-message",children:Object(N.jsxs)("div",{className:r,children:[i,this.renderLink(s,!0),c]})})}getMessage(){let e="";return this.state.input&&this.state.input.length>0&&(e=this.state.isValid?Object(N.jsx)("div",{className:"settings-message text-input-label-message",children:Object(o.a)("displayAdsValidationSuccessMessage1")}):this.renderMessage("displayAdsValidationFailedMessage","{helpArticle}",y.helpArticle,!0)),e}renderAdSenseFields(){const{adSenseSnippet:e}=this.props,{dirty:t,input:s}=this.state,a=!t||s&&s.length>0?e:"",n=Object(c.List)([Object(c.Map)({type:A.TEXT,fieldTitle:Object(o.a)("displayAdsAdSenseScript"),property:g.a.ADSENSE_SNIPPET,state:a,fieldPlaceholder:Object(o.a)("displayAdsPlaceholder"),mutatorSettings:{validate:this.validateInput,validationErrorMsg:""}})]);return Object(N.jsx)(C.a,{fields:n,onChange:this.handleChange})}renderAdsTxtField({toggle:e,textarea:t,tooltip:s}){const{isReseller:a}=this.props,{enabled:n,label:r}=e,{title:l,message:d,link:u}=s,h=Object(N.jsx)(T.a,{message:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{className:"mt-10 m-b-1 bold fs-large",children:l}),Object(N.jsx)("p",{children:d}),Object(N.jsx)("div",{children:Object(N.jsx)("a",{href:u.url,target:"_blank",className:p()("et-btn-link",{"text-secondary bold":a,"btn-link":!a}),rel:"noopener noreferrer","data-traffic2":u.trafficEvent,children:Object(o.a)(u.text)})})]})}),g=Object(N.jsxs)(i.Fragment,{children:[r,h]}),m=Object(c.List)([Object(c.Map)({type:A.MULTILINE,property:t.property,fieldTitle:t.fieldTitle,state:t.state})]);return Object(N.jsxs)(i.Fragment,{children:[Object(N.jsx)(b.a,{property:e.property,defaultValue:n,label:g,handleChange:this.handleChange.bind(this,{fieldType:A.TOGGLE,property:e.property},!n)}),n&&Object(N.jsx)(C.a,{fields:m,onChange:this.handleChange})]})}render(){const{adsTxtEnabled:e,adsTxtContent:t,appAdsTxtEnabled:s,appAdsTxtContent:a,isReseller:n}=this.props,i=this.getMessage(),c=this.state.isValid?Object(N.jsx)("div",{className:"settings-message",children:Object(N.jsx)(S.a,{design:n?"brand":"primary",className:"mt-20 settings-publish-btn",onClick:this.publishButtonClick})}):null,r=this.renderAdsTxtField({toggle:{property:g.a.ADS_TXT_ENABLED,enabled:e,label:Object(o.a)("displayAdsEnableAdsTxtHeading")},textarea:{property:g.a.ADS_TXT_CONTENT,fieldTitle:Object(o.a)("displayAdsAdsTxtDescription"),state:t},tooltip:{title:Object(o.a)("displayAdsAdsTxtTooltipTitle"),message:Object(o.a)("displayAdsAdsTxtTooltipMessage"),link:y.adsTxtLearnMore}}),l=this.renderAdsTxtField({toggle:{property:g.a.APP_ADS_TXT_ENABLED,enabled:s,label:Object(o.a)("displayAdsEnableAppAdsTxtHeading")},textarea:{property:g.a.APP_ADS_TXT_CONTENT,fieldTitle:Object(o.a)("displayAdsAppAdsTxtDescription"),state:a},tooltip:{title:Object(o.a)("displayAdsAppAdsTxtTooltipTitle"),message:Object(o.a)("displayAdsAppAdsTxtTooltipMessage"),link:y.adsTxtLearnMore}});return Object(N.jsxs)("div",{className:"display-ads-settings",children:[Object(N.jsx)(I.a,{}),Object(N.jsx)("div",{className:"settings-heading",children:Object(o.a)("displayAdsHeading")}),Object(N.jsx)("div",{className:"settings-message",children:Object(o.a)("displayAdsDescription")}),Object(N.jsxs)("div",{className:"settings-link-container",children:[this.renderLink(y.signUp),this.renderLink(y.findCode)]}),Object(N.jsxs)("div",{className:"settings-content no-overflow",children:[this.renderAdSenseFields(),i,r,l,c]})]})}}n()(P,"contextType",v.b);t.default=Object(h.connect)(e=>({adSenseSnippet:Object(x.pb)(e,g.a.ADSENSE_SNIPPET)||"",adsTxtEnabled:Boolean(Object(x.ob)(e,g.a.ADS_TXT_ENABLED)),adsTxtContent:Object(x.pb)(e,g.a.ADS_TXT_CONTENT)||"",appAdsTxtEnabled:Boolean(Object(x.ob)(e,g.a.APP_ADS_TXT_ENABLED)),appAdsTxtContent:Object(x.pb)(e,g.a.APP_ADS_TXT_CONTENT)||"",isReseller:Object(_.k)(e)}))(P)},Daju:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return o})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return r}));s("JPcv");var a=s("ashf");function n(e){return e.getIn(["options","isHomepage"],!1)}function i(e){const t=e.get("tags",[]);return t&&t.includes("FIXED")}function o(e){return!(i(e)||n(e))}function c(e){return!(i(e)||n(e))}function r(e){return e.trim().length>0&&e.length<=a.a.MAX_PAGE_NAME_LENGTH}},EZbY:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=s("rf6O"),i=(a=n)&&a.__esModule?a:{default:a};t.default={fixtures:i.default.array,initialValue:i.default.string,placeholder:i.default.string,disabled:i.default.bool,className:i.default.string,inputClassName:i.default.string,location:i.default.object,radius:i.default.oneOfType([i.default.string,i.default.number]),bounds:i.default.object,country:i.default.string,types:i.default.array,googleMaps:i.default.object,onSuggestSelect:i.default.func,onFocus:i.default.func,onBlur:i.default.func,onChange:i.default.func,skipSuggest:i.default.func,getSuggestLabel:i.default.func,autoActivateFirstSuggest:i.default.bool,debounceInterval:i.default.number,searchStartThreshold:i.default.number,suggestOnFocus:i.default.bool}},F0ji:function(e,t,s){},FNOC:function(e,t,s){},GCMo:function(e,t,s){"use strict";var a=s("21aA");e.exports=function(e){if(!e||!e.client)throw new Error("Missing required client property in options");return new a(e)}},GHx2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fixtures:[],initialValue:"",placeholder:"Search places",disabled:!1,className:"",inputClassName:"",location:null,radius:null,bounds:null,country:null,types:null,googleMaps:null,onSuggestSelect:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},skipSuggest:function(){},getSuggestLabel:function(e){return e.description},autoActivateFirstSuggest:!1,provider:"google",debounceInterval:0,searchStartThreshold:1,suggestOnFocus:!0}},GY1D:function(e,t,s){"use strict";s.r(t);s("grwd");var a=s("cDcd"),n=s("Ty5D"),i=s("/MKj"),o=s("foj4"),c=s("7ikK"),r=s("iTLE"),l=s("EJSG"),d=s("lSNA"),u=s.n(d),p=s("DCtA"),h=s("dwxX"),g=s("taM/"),b=s("Yijx"),m=s("L2pB"),O=s("n4ap"),j=s("u1xw"),f=s("JPcv"),x=s("CC3A"),_=s("UZ5R"),S=s("GW/O"),T=s("TSYQ"),E=s.n(T),I=(s("v1nl"),s("ghSl")),v=s("dKQj"),C=s("MS5P"),N=s("qp4x"),A=s("wqHn"),y=s("bTqv"),P=(s("oI5j"),s("hcUJ")),k=s("7B2s"),w=s("Uuec"),L=s("94X6"),M=s("pssd"),D=s("R41S"),B=s("nKUr");var R=function({widget:e,children:t}){return Object(B.jsx)(C.a.Consumer,{children:({onSelect:s,selectedWidgetId:a})=>{const n=e.id===a;return Object(B.jsxs)("div",{className:"edit-layouts-wrapper bc-faint",children:[e.isTransitionable&&Object(B.jsx)("div",{className:"edit-layouts-premium-label pos-absolute pull-right",children:Object(B.jsx)(M.a,{className:"bg-white text-feature",children:Object(P.a)("premium")})}),Object(B.jsxs)("div",{className:"pos-relative",...Object(k.c)(()=>s&&s(e)),"data-traffic2":w.c.edit_layout.select_widget_on_desktop,children:[Object(B.jsx)("div",{className:"widget-thumbnail-preview",children:Object(B.jsx)(D.a,{children:t})}),Object(B.jsx)("div",{className:E()("bc-secondary",{selected:n,"layouts-hover-layer":!n})})]}),Object(B.jsx)(L.a,{description:Object(P.a)(`widgetLayoutDescriptions.${e.type}.${e.properties.preset}`)})]})}})},U=s("RaM/"),G=s("3Rla"),F=s("P8+j");function K(e){return e?e.getIn(["properties","preset"]):null}class V extends a.PureComponent{constructor(e){super(...arguments),u()(this,"handleDirectionalSelector",e=>{const{selectedWidget:t}=this.state,s=e=>{const s=this.getLayoutPresets(),a=s.indexOf(t),n=s[(i=a+e,o=s.length,(i+o)%o)];var i,o;this.setState({selectedWidget:n}),this.props.handleLayoutSelection({widget:{id:n}})};switch(e.which){case y.b:return;case y.d:case y.f:s(-1);break;case y.e:case y.a:s(1);break;default:return}}),u()(this,"onSelect",({widget:e})=>{this.props.handleLayoutSelection({widget:{id:e.id}})}),this.state={selectedWidget:K(e.selectedWidget)}}static getDerivedStateFromProps(e){return{selectedWidget:K(e.selectedWidget)}}getLayoutPresets(){const{alternateLayouts:e}=this.props;return e.map(e=>e.get("id")).sort().toJS()}render(){const{website:e,pages:t,selectedIndex:s,isMobile:a,currentPageId:n,alternateLayouts:i}=this.props,{selectedWidget:o}=this.state,c=t.find(e=>e.get("id")===n,null,Object(f.Map)()).set("rootWidgets",Object(f.List)(i.map(e=>e.get("id")))),r=t.map(e=>e.get("id")===c.get("id")?c:e);return Object(B.jsxs)(F.a,{children:[Object(B.jsx)(U.a,{onKeyDown:this.handleDirectionalSelector}),Object(B.jsx)("div",{className:E()("editor-panel layout-editor bgc-light flex flex--column flex--grow",{"mobile-editor-panel":a,"tablet-editor-panel":!a}),children:Object(B.jsx)(C.b,{website:e,page:c,pages:r,widgets:i,selectedWidgetId:o,scale:I.f,onSelect:this.onSelect,renderMode:v.a.DISPLAY,renderCss:!1,Wrapper:R,selectedIndex:s})})]})}}var H=Object(i.connect)(e=>{const t=Object(N.g)(e,"widgetId"),s=t?Object(o.u)(e).get(t):null,a=Object(c.d)(e),n=Object(A.b)(e)||Object(f.Map)(),i=Object(A.k)(e);let r=0;if(s){const e=n.get("rootWidgets",[]).indexOf(s.get("id"));e>=0&&(r=e)}return{alternateLayouts:a,selectedIndex:r,pages:i,currentPageId:Object(A.d)(e),selectedWidget:s,selectedWidgetId:t,website:Object(G.v)(e)}})(V);class W extends a.PureComponent{constructor(){super(...arguments),this.handleLayoutSelection=this.handleLayoutSelection.bind(this)}handleLayoutSelection({widget:{id:e}}){const{selectedWidget:t,onChange:s,registryComponents:a,renderContext:n}=this.props;if(!t)return;const i=t.get("type");this.context.executeAction(x.a,{show:!0}),Object(h.c)({code:m.WIDGET_LAYOUT_CHANGED,widgetPreset:t.getIn(["properties","preset"]),nextPreset:e,widgetType:i});let o=t.setIn(["properties","preset"],e);o=o.mergeDeep(Object(S.a)({widgetType:i,components:a,widget:o.toJS(),renderContext:n})),s({widget:o})}render(){const{isMobile:e}=this.props;return Object(B.jsx)(H,{handleLayoutSelection:this.handleLayoutSelection,isMobile:e})}}u()(W,"contextType",j.b);var J=Object(i.connect)(e=>{const t=Object(o.g)(e);return{selectedWidget:t?Object(o.u)(e).get(t):null,selectedWidgetId:t,isMobile:Object(O.B)(e),registryComponents:Object(c.f)(e),renderContext:Object(_.a)(e)}})(W);const Y={deleteSectionButton:"footer",deleteImageButton:"footer",DeleteButton:"footer"},{constants:{routes:q}}=p.Maniless;class X extends a.PureComponent{constructor(...e){super(...e),u()(this,"handleRemove",e=>{this.context.executeAction(b.a,{modal:Object(B.jsx)(g.a,{widgetId:e})})}),u()(this,"renderFields",e=>{const{body:t,footer:s}=e.reduce((e,t)=>(e[Y[t.kind]||Y[t.id]||"body"].push(t),e),{body:[],footer:[]});return Object(B.jsxs)(a.Fragment,{children:[this.renderBody(t),this.renderFooter(s)]})})}componentDidMount(){const{widgetType:e,widgetPreset:t}=this.props;Object(h.c)({code:m.WIDGET_MUTATOR_VIEWED,widgetType:e,widgetPreset:t})}componentWillUnmount(){const{widgetType:e,widgetPreset:t}=this.props;Object(h.c)({code:m.WIDGET_MUTATOR_CLOSED,widgetType:e,widgetPreset:t})}renderBody(e){const{Mutator:t}=this.props;return e.length?Object(B.jsx)("div",{className:"editor-panel-content flex--grow",children:e.map(e=>t.renderField(e))}):null}renderFooter(e){const{Mutator:t,isMobile:s}=this.props,a=s?e:e.filter(e=>!e.id.toLowerCase().includes("section"));return a.length?Object(B.jsx)("div",{className:"editor-panel-footer bg-faint ux-form-group",children:a.map(e=>t.renderField(e))}):null}render(){const{widgetId:e,widgetType:t,widgetPreset:s,Mutator:a}=this.props;return Object(B.jsx)(p.Maniless.context.Router.Consumer,{children:({widget:n,route:i})=>Object(B.jsx)(p.Maniless.context.Fields.Consumer,{children:({registered:o,onChange:c})=>o?n===e&&i===q.PRESETS?Object(B.jsx)(J,{onChange:c}):Object(B.jsx)(a,{executeAction:this.context.executeAction,id:e,type:t,widgetPreset:s,className:"flex flex--column height--100",onRemove:this.handleRemove,children:this.renderFields}):null})})}}u()(X,"contextType",j.b);var $=Object(i.connect)(e=>({isMobile:Object(O.B)(e)}))(X);t.default=function(){const e=Object(n.e)().widgetId||"",t=Object(i.useSelector)(o.u),s=Object(i.useSelector)(c.f),a=t.get(e||"");if(!a)return null;const d=a.get("type"),u=a.getIn(["properties","preset"]),p=s.getIn([d,u]),h=null==p?void 0:p.Mutator;return h?Object(B.jsx)(l.a,{onError:()=>null,namespace:r.a.WIDGET_MUTATOR,meta:{widgetType:d,preset:u},children:Object(B.jsx)($,{widgetId:e,widgetType:d,widgetPreset:u,Mutator:h})}):null}},H0KX:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("5lD2"),r=s("dwxX"),l=s("/MKj"),d=s("JPcv"),u=s("q1hO"),p=s("Uuec"),h=s("IsWw"),g=s("Kdf1"),b=s("enMK");const m=/{\w*: [\W|\w]*},/,O={gaTrack:/^(true)$/,pageLanguage:/^[a-z]{2,3}(-[A-Z]{2,3})?$/,multilanguagePage:/^(true)$/,gaId:/^(UA|YT|MO)-\d+-\d+$/,includedLanguages:/^([a-zA-Z]{2,3}-?,?)*$/,layout:/^google\.translate\.TranslateElement\.(FloatPosition\.(TOP_LEFT|TOP_RIGHT|BOTTOM_LEFT|BOTTOM_RIGHT)|InlineLayout\.(HORIZONTAL|SIMPLE))$/},j={gaId:"",layout:"",gaTrack:!1,pageLanguage:"",includedLanguages:"",multilanguagePage:!1};var f={parseGoogleTranslateSnippet:function(e){const t=e.match(m);if(t){const e=(s=t[0]).slice(0,s.length-1).replace(/[{}']/g,"").split(", ").reduce((e,t)=>{let[s,a]=t.split(":");return s=s.trim(),a=a.trim(),O.hasOwnProperty(s)&&(e[s]=a),e},{});if(function(e){return Object.keys(e).every(t=>O[t].test(e[t]))}(e))return{isValid:!0,parseResult:{...j,...e}}}var s;return{isValid:!1,parseResult:{}}},defaultGoogleTranslateOptions:j},x=s("3Rla"),_=s("CC3A"),S=s("u1xw"),T=s("ekZf"),E=s("nKUr");class I extends i.PureComponent{constructor(...e){super(...e),n()(this,"handleValidCode",(e,t)=>{const s=Object(b.a)(t,e);s&&(this.context.executeAction(h.a,s),this.context.executeAction(_.a,{show:!0})),Object(r.d)(p.c.editor_side_menu.google_translate_code_added)})}render(){const{hasSavedOptions:e}=this.props;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"settings-heading",children:Object(o.a)("googleTranslateHeading")}),Object(E.jsx)("div",{className:"settings-message",children:Object(o.a)("googleTranslateDescriptionExt")}),Object(E.jsx)("div",{className:"settings-link-container",children:Object(E.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://translate.google.com/manager/website","data-aid":u.a.GOOGLE_TRANSLATE_GET_CODE_LINK,"data-traffic2":p.c.editor_side_menu.redirect_to_get_google_translate_code,children:Object(E.jsx)("strong",{children:Object(o.a)("getGoogleTranslateCode")})})}),Object(E.jsx)(T.a,{parseCode:f.parseGoogleTranslateSnippet,handleValidCode:this.handleValidCode,errorMessage:"googleTranslateErrorMessage",successMessage:Object(o.a)("googleTranslateSuccessMessage"),codePresentMessage:Object(o.a)("googleTranslateCodePresent"),clearCodeMessage:Object(o.a)("googleTranslateClearCodeMessage"),sectionTitle:Object(o.a)("googleTranslate"),codePlaceholder:Object(o.a)("placeholder"),removeCodeTrafficId:p.c.editor_side_menu.google_translate_code_removed,pasteNewCodeTrafficId:p.c.editor_side_menu.google_translate_paste_new_code,publishTrafficId:p.c.editor_side_menu.google_translate_publish_website,hasSavedOptions:e,propertyName:g.a.GOOGLE_TRANSLATE_OPTIONS,defaultPropertyValue:f.defaultGoogleTranslateOptions})]})}}n()(I,"contextType",S.b);t.default=Object(l.connect)(e=>({hasSavedOptions:!(Object(x.lb)(e,g.a.GOOGLE_TRANSLATE_OPTIONS)||Object(d.Map)()).every(c.isEmpty)}))(I)},HzlJ:function(e,t,s){"use strict";var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("/MKj"),c=s("QfRr"),r=s("SMay"),l=s("3Rla"),d=s("wv1X"),u=s("Vmlt"),p=s("cmhP"),h=s("u1xw"),g=(s("F0ji"),s("hcUJ")),b=s("TSYQ"),m=s.n(b),O=s("dwxX"),j=s("L2pB"),f=s("1ZWq"),x=s("Yijx"),_=s("7thF"),S=s("eiLz"),T=s("q1hO"),E=s("7xSL"),I=s("nKUr");const v=/[^a-zA-Z\d\s-._]/i,C=(e,t)=>(e=(e=>v.test(e)?"your-name":e)(e),t=t||Object(g.a)("domainPlaceholder"),e&&t?`${e}@${t}`:null);var N=e=>{const t=Object(E.a)(),{loginName:s,domain:a,source:n,isEligible:i,isReseller:o}=e,c=j.O365_ACTIVATION_CTA_SHOW;Object(O.d)(c,{source:n,eligible:i});const r=(({email:e,isEligible:t})=>e&&t?Object(g.a)("o365ActivationCtaDescription",{email:e}):Object(g.a)("o365ActivationCtaDescriptionNoEmail"))({email:C(s,a),getIntlString:g.a,isEligible:i});return Object(I.jsxs)("div",{className:"section-header ux-editor reduce-top-spacing",children:[Object(I.jsx)(f.a,{wrap:e=>Object(I.jsx)("span",{className:"bold",children:e}),children:r}),Object(I.jsx)("div",{className:"section-header-link",children:Object(I.jsx)("a",{href:"#",className:m()({"btn-link":!o}),onClick:e=>((e,{executeAction:t,isEligible:s,domain:a,source:n})=>{e.preventDefault(),Object(O.c)({code:j.O365_ACTIVATION_CTA_CLICKED,source:n});const i=s?Object(I.jsx)(_.a,{}):Object(I.jsx)(S.a,{domain:a,isPostPurchase:!1});t(x.a,{modal:i})})(e,{executeAction:t,isEligible:i,domain:a,source:n}),"data-aid":T.a.O365_CTA_CREATE,children:Object(g.a)("o365ActivationCtaLink")})})]})};class A extends i.Component{componentDidMount(){this.context.executeAction(c.a)}render(){const{source:e,domain:t,loginName:s,isO365Eligible:a,showEmailCTA:n,isReseller:i}=this.props;return n?Object(I.jsx)(N,{source:e,domain:t,loginName:s,isEligible:a,isReseller:i}):null}}n()(A,"contextType",h.b),n()(A,"defaultProps",{domain:null,loginName:""});t.a=Object(o.connect)(e=>{const t=Object(l.vb)(e)&&!Object(l.wb)(e)?Object(l.C)(e):null;return{showEmailCTA:Boolean(Object(r.o)(e,"showEmailActivation")&&Object(r.o)(e,"enableO365Activation")&&Object(d.a)(e)),isO365Eligible:Object(d.b)(e),domain:t,loginName:Object(u.l)(e),isReseller:Object(p.k)(e)}})(A)},I9s4:function(e,t,s){},IrQ8:function(e,t,s){"use strict";var a=s("EcEN"),n=s.n(a),i=s("WjD0"),o=s.n(i);function c(e){if(!e)return"";const t=e.lastIndexOf(".");return-1===t?"":e.substring(t)}function r(e,t,s){return t=t||"",e.length+t.length>s?e.substr(0,s-t.length):e}function l(e,t){return e?t?(e.endsWith(t)&&(e=e.substring(0,e.length-t.length)),e):e:""}function d(e,t){const s=c(e);let a=l(e,s);return-1===a.search(/-(\d+)$/)?(a=r(a,s,t),`${a}-0001${s}`):(a=a.replace(/(\d+)+$/,(e,t)=>((t=parseInt(t,10)+1)<=9999&&(t=("000"+t).slice(-4)),String(t))),`${a}${s}`)}function u(e,t=[],s=50){let a=function(e,t){const s=c(e);let a=l(e,s);return a=r(a,s,t),function(e){return(e||"").replace(/[\\/?#'"]/g,"_")}(`${a}${s}`)}(e,s);for(;t&&t.indexOf(a)>-1;)a=d(a,s);return a}t.a={generateFileUploadInfo:function(e,t,s=[],a=50){let i=e.name;i=u(i,s,a);const c=n.a.v4(),r=new o.a;return r.append("file",e,i),{data:r,filename:i,requestId:c,basePath:t}},ensureUniqueFilename:u,splitFileName:function(e){let t=e.lastIndexOf(".");return-1===t&&(t=e.length),{name:e.substring(0,t),extension:e.substring(t+1)}},fileSizeToMbString:function(e){const t=e/1024/1024;return String(Math.floor(t))}}},"JPb/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(s("6HVB")),n=i(s("lJ/R"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={serviceProvider:n.default,parse:function(e){var t=e.provider,s=e.htmlCode;if(!t||!a.default[t])throw new Error("The service provider is unsupported");return s?a.default[t](s):{isValid:!1,message:"invalid htmlCode"}}}},JVM4:function(e,t,s){"use strict";var a=s("hcUJ"),n=(s("cDcd"),s("dwxX")),i=s("hplg"),o=s("DCtA"),c=s("7Fxu"),r=s("1ZWq"),l=s("q1hO"),d=s("L2pB"),u=s("C48V"),p=s("7xSL"),h=s("nKUr");t.a=function(){const e=Object(p.a)();function t(){e(u.a,{widgetType:o.constants.widgetTypes.COOKIE_BANNER}),Object(n.c)({code:d.TRACKING_WARNING_LINK})}const s=Object(h.jsx)(r.a,{tagName:"a",wrap:e=>Object(h.jsx)(i.Button,{design:"inline",className:"fs-base td-underline",onClick:t,"data-aid":l.a.TRACKING_WARNING_LINK,text:e}),children:Object(a.a)("trackingWarningMessage")});return Object(h.jsx)(c.a,{type:"warning",className:"mt-20 mr-20 mb-15 ml-20",dataAid:l.a.TRACKING_WARNING,message:s})}},Jfj4:function(e,t,s){},KLyI:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("TSYQ"),r=s.n(c),l=s("dwxX"),d=s("hplg"),u=s("/MKj"),p=s("Uuec"),h=s("vQjf"),g=s("Yijx"),b=s("q1hO"),m=s("fZO1"),O=s("kUj2"),j=s("t+uG"),f=s("lvcY");var x=function(e,{websiteId:t}){return e.executeAction(O.a,{url:j.C,segments:{websiteId:t},method:"post",params:{},metadata:{type:f.a.RESET_WEBSITE,param:t}})},_=s("mA/2"),S=s("JPmn"),T=s("JIsT"),E=s("AbpD"),I=s("3Rla"),v=s("nKUr");const{APP_SET_FULL_ERROR_PAGE:C}=m.a;var N=function(e){const t=Object(I.y)(e.getState());return e.executeAction(g.a,{modal:Object(v.jsx)(T.a,{titleKey:"resetWebsiteProgress"})}).then(()=>e.executeAction(E.a)).then(()=>e.executeAction(x,{websiteId:t})).then(()=>e.executeAction(S.a,{goToNewOnboarding:!0})).then(()=>e.executeAction(_.a)).catch(t=>e.executeAction(_.a).then(()=>{e.dispatch({type:C,payload:{error:t}})}))},A=s("u1xw"),y=s("6hm7");class P extends i.PureComponent{constructor(...e){super(...e),n()(this,"handleStartOver",e=>{Object(l.c)({code:p.c.reset_website.modal_confirm_start_over_button,domEvent:e.nativeEvent}),this.context.executeAction(N)})}componentDidMount(){Object(l.d)(p.c.reset_website.modal_impression)}render(){return Object(v.jsx)(y.a,{title:"resetWebsiteModalTitleExtended",buttonLabel:"resetWebsiteModalConfirmationExtended",description:"resetWebsiteModalDescriptionExtended",deleteButtonDataAid:b.a.RESET_WEBSITE_MODAL_CONFIRM,cancelButtonDataAid:b.a.RESET_WEBSITE_MODAL_CANCEL,closeTrafficEvent:p.c.reset_website.modal_close_with_x,cancelTrafficEvent:p.c.reset_website.modal_cancel_start_over_button,handleDelete:this.handleStartOver})}}n()(P,"contextType",A.b);var k=P,w=s("oy5v"),L=s("SMay"),M=s("cmhP");class D extends i.PureComponent{constructor(){super(),n()(this,"createManualBackup",()=>{const{websiteId:e,maxBackups:t}=this.props;this.context.executeAction(w.a,{websiteId:e,isAutomatic:!1,maxBackups:t,shouldReloadBackups:!0}),this.setState({manualCreated:!0}),Object(l.c)({code:p.c.edit_site.create_manual_backup})}),n()(this,"resetWebsitePrompt",()=>{this.context.executeAction(g.a,{modal:Object(v.jsx)(k,{})})}),this.state={manualCreated:!1}}render(){const{isReseller:e}=this.props,{manualCreated:t}=this.state,s=r()("reset-website-button",{"btn-dark":e}),a=r()({"btn-filled":e,"btn-dark":!e});return Object(v.jsxs)(h.a,{className:"flex",wrapperClassName:"no-background-color set-min-height",children:[Object(v.jsx)(d.Button,{className:a,design:"secondary",size:"small",style:{fontSize:"12px"},"data-aid":b.a.CREATE_MANUAL_BACKUP,onClick:this.createManualBackup,disabled:t,text:Object(o.a)("createBackup")}),Object(v.jsx)(d.Button,{className:s,design:"critical",size:"small",style:{fontSize:"12px"},"data-aid":b.a.RESET_WEBSITE_BUTTON,onClick:this.resetWebsitePrompt,text:Object(o.a)("resetWebsite")})]})}}n()(D,"contextType",A.b);t.default=Object(u.connect)(e=>({websiteId:Object(I.y)(e),maxBackups:Object(L.g)(e,"limits.maxBackupsLoaded"),isReseller:Object(M.k)(e)}))(D)},Mpm1:function(e,t,s){},NpGM:function(e,t,s){},O9Yt:function(e,t,s){},OIKS:function(e,t,s){"use strict";s.r(t);s("zFEB");var a=s("hcUJ"),n=s("cDcd"),i=s.n(n),o=s("TSYQ"),c=s.n(o),r=s("/MKj"),l=s("dwxX"),d=s("hplg"),u=(s("40A7"),s("4jaQ")),p=s("ashf"),h=s("4NvJ"),g=s("4xuX"),b=s("q1hO"),m=s("tyho"),O=s("W7As"),j=s("p/89"),f=s("y+xp"),x=s("paR9"),_=s("Yijx"),S=s("Uuec"),T=s("Daju"),E=s("NGq9"),I=s("8zog"),v=s("CC3A"),C=s("SMay"),N=s("3Rla"),A=s("qp4x"),y=s("cmhP"),P=s("wqHn"),k=(s("n4ma"),s("7xSL")),w=s("+bYj"),L=s("nKUr");t.default=function({pageId:e}){const t=Object(k.a)(),s=Object(r.useSelector)(P.l),o=e?s.get(e):null,M=Object(r.useSelector)(y.k),D=Object(r.useSelector)(e=>Object(A.i)(e,"flyoutMenuId")),B=Object(r.useSelector)(e=>Object(C.N)(e,"help.membersOnly")),R=Object(r.useSelector)(C.y),U=Object(r.useSelector)(e=>Object(C.o)(e,"manageMemebersTooltip")),G=Object(r.useSelector)(e=>Object(C.o)(e,"enableMembership")),F=Object(r.useSelector)(N.f),K=G&&!M,[V,H]=Object(n.useState)(o?o.get("name"):""),[W,J]=Object(n.useState)(!o||o.getIn(["options","showLink"],!0)),[Y,q]=Object(n.useState)(!!o&&o.getIn(["options","showInFooter"],!1)),[X,$]=Object(n.useState)(!!o&&Boolean(o.getIn(["options","requiresAuth"]))),[z,Q]=Object(n.useState)(!1);Object(n.useEffect)(()=>()=>{t(v.a,{show:!1})},[t]);const Z=()=>!o,ee=e=>{if(!Object(T.e)(V)||z)return;const{nativeEvent:s}=e;Q(!0),t(f.a),t(j.a,{pageName:V,showLink:W,showInFooter:Y,flyoutMenuId:D,requiresAuth:X}),Object(l.c)({code:S.c.edit_site.create_page_button,domEvent:s})},te=(e,s,a)=>{const n={},i={showLink:{show:"show_page_in_nav",hide:"hide_page_in_nav"},showInFooter:{show:"show_page_in_footer",hide:"hide_page_in_footer"},requiresAuth:{show:"enable_members_only",hide:"disable_members_only"}};n[e]=s;const c=S.c.edit_site[s?i[e].show:i[e].hide];switch(e){case"showLink":J(s);break;case"showInFooter":q(s);break;case"requiresAuth":$(s)}Z()||t(v.a,{show:!0}),o&&t(x.a,{id:o.get("id"),options:{...n}}),Object(l.c)({code:c,domEvent:a.nativeEvent})},se=e=>{Object(E.b)(o),t(_.a,{modal:Object(L.jsx)(m.a,{pageId:o.get("id"),itemName:o.get("name"),websiteId:o.get("websiteId"),onDelete:()=>Q(!0)})}),Object(l.c)({code:S.c.edit_site.manage_pages_remove_page,domEvent:e.nativeEvent})},ae=!!o&&Object(T.a)(o),ne=!D&&Z();let ie=(()=>{const e=Object(T.e)(V);return Z()?Object(L.jsx)(d.Button,{design:"primary",className:c()({"btn-filled":M}),size:"small",onClick:ee,disabled:z||!e,"data-aid":b.a.CREATE_PAGE_BTN,text:Object(a.a)("createPage")}):Object(T.c)(o)?Object(L.jsx)(d.Button,{size:"small",design:"inline",className:M?"reseller-critical":"btn-critical",onClick:se,disabled:z,"data-aid":b.a.DELETE_PAGE_BUTTON,text:Object(a.a)("deletePageButton")}):null})();ie&&(ie=Object(L.jsx)(g.a,{className:"ux-form-group",children:ie}));const oe=U?(()=>{const e=c()({"text-secondary bold":M,"btn btn-link btn-sm":!M,f1cwckvt:!M}),t=F?"manageMembersWithAccessTooltipMessage":"manageMembersTooltipMessage";return Object(L.jsxs)(i.a.Fragment,{children:[Object(a.a)("membersOnly"),Object(L.jsx)("span",{className:"manage-members-tooltip",children:Object(L.jsx)(u.a,{message:Object(L.jsxs)(i.a.Fragment,{children:[Object(L.jsx)("p",{className:"mt-10 m-b-1 bold fs-large",children:Object(a.a)("manageMembersTooltipTitle")}),Object(L.jsx)("p",{children:Object(a.a)(t)}),Object(L.jsx)("div",{children:Object(L.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:R,className:e,children:Object(a.a)("manageMembershipSettings")})}),Object(L.jsx)("div",{children:Object(L.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:B,className:e,children:Object(a.a)("manangeMembersMoreInfoLink")})})]}),onOpen:()=>Object(l.d)(S.c.edit_site.manage_members_tooltip_displayed)})})]})})():Object(L.jsxs)("span",{children:[Object(a.a)("membersOnly")," ",Object(L.jsx)(I.a,{icon:"lock",size:"xsmall"})]});return Object(L.jsxs)("div",{className:"pages-detail-editor flex flex--column",children:[Object(L.jsxs)("div",{className:"pages-detail-form",children:[ne&&Object(L.jsx)(w.a,{selectedOptionValue:"PAGE"}),Object(L.jsx)(h.a,{placeholder:Object(a.a)("egAboutUs"),onChange:(e,s)=>{const a=Object(T.e)(e);H(e),Z()||t(v.a,{show:!0}),o&&a&&(Object(l.c)({code:S.c.edit_site.manage_pages_rename_page,domEvent:s.nativeEvent}),t(x.a,{id:o.get("id"),name:e}))},label:Object(a.a)("pageTitle"),maxCount:p.a.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:b.a.TEXT_INPUT_PAGE_NAME,onKeyPress:e=>{Z()&&"Enter"===e.key&&ee(e)},value:V,disabled:ae}),o&&Object(T.b)(o)?null:Object(L.jsx)(O.a,{label:Object(a.a)("showInNavigation"),handleChange:te.bind(null,"showLink"),defaultValue:W,property:"SHOW_IN_NAVIGATION",inputDataAid:b.a.TOGGLE_PAGE_NAVIGATION_VISIBILITY,disabled:ae}),Object(L.jsx)(O.a,{label:Object(a.a)("showInFooter"),handleChange:te.bind(null,"showInFooter"),defaultValue:Y,property:"SHOW_IN_FOOTER",inputDataAid:b.a.TOGGLE_PAGE_NAVIGATION_FOOTER_VISIBILITY,disabled:ae}),o&&Object(T.b)(o)||!K?null:Object(L.jsx)(O.a,{label:oe,handleChange:te.bind(null,"requiresAuth"),defaultValue:X,property:"MEMBERS_ONLY",inputDataAid:X?b.a.TOGGLE_MEMBERS_ONLY_ON:b.a.TOGGLE_MEMBERS_ONLY_OFF,hint:U?null:Object(a.a)("membersOnlyGuidance")})]}),ie]})},s("0kGF")},OJzR:function(e,t,s){"use strict";const a=s("2X3e");e.exports=a("location","false")},OhOa:function(e,t,s){"use strict";var a=s("cDcd"),n=s.n(a),i=s("lSNA"),o=s.n(i),c=s("5lD2"),r=s("JPcv"),l=s("TSYQ"),d=s.n(l),u=s("DCtA"),p=s("q1hO"),h=s("28sP"),g=(s("iAHy"),s("hcUJ")),b=s("pfx2"),m=s.n(b),O=s("hplg"),j=s("/MKj"),f=s("peh1"),x=s("IFdU"),_=s("vDqi"),S=s.n(_);var T=class{constructor({accessToken:e}){this.accessToken=e}geocode(e){return this.findBestMatch(e).then(e=>e&&e.center&&{latitude:e.center[1],longitude:e.center[0]})}reverseGeocode({latitude:e,longitude:t}){return this.findBestMatch(`${t},${e}`).then(e=>e&&e.place_name)}findBestMatch(e){const t=encodeURIComponent(e);return S.a.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${t}.json?access_token=${this.accessToken}`).then(({data:{features:[e]=[]}={}})=>e||null)}sendPermanentAddress(e){const t=encodeURIComponent(e);return S.a.get(`https://api.mapbox.com/geocoding/v5/mapbox.places-permanent/${t}.json?access_token=${this.accessToken}`)}},E=s("SMay"),I=(s("xUA0"),s("OJzR")),v=s.n(I),C=s("nKUr");class N extends a.Component{constructor(){super(...arguments),o()(this,"handleClick",e=>{const{onGeoLocationStarted:t}=this.props;t&&t(e),window.navigator.geolocation.getCurrentPosition(this.handlePosition,this.handleGeolocationError),e.preventDefault()}),o()(this,"handlePosition",({coords:e})=>{this.state.mapboxClient.reverseGeocode(e).then(this.handleGeolocationSuccess.bind(this,e)).catch(this.handleGeolocationError)}),o()(this,"handleGeolocationError",e=>{const{onLocationError:t,onGeoLocationFinished:s}=this.props;t&&t(e),s&&s()}),this.state={mapboxClient:new T({accessToken:this.props.accessToken})}}handleGeolocationSuccess(e,t){const{onLocation:s,onGeoLocationFinished:a}=this.props;s({address:t,lat:String(e.latitude),lng:String(e.longitude)}),a&&a()}render(){return window.navigator.geolocation?Object(C.jsx)(O.Button,{design:"primary",onClick:this.handleClick,className:"geo-locator-btn","aria-label":"Location",icon:Object(C.jsx)("span",{className:"geo-locator flex--abs-center",children:Object(C.jsx)(v.a,{width:20,height:20})})}):null}}var A=Object(j.connect)((function(e){return{accessToken:Object(E.g)(e,"mapbox.accessToken")}}))(N);var y=function({libraries:e,onLoaded:t,srcUrl:s,libraryPromises:n,crossOrigin:i}){return Object(a.useEffect)(()=>{const a=e.filter(e=>!(e in n));if(a.length){const e=new Promise(e=>{const t=window.document.createElement("script");i&&(t.crossOrigin=i),t.onload=e,t.src=s,window.document.body.appendChild(t)});a.forEach(t=>n[t]=e)}Promise.all(e.map(e=>n[e])).then(t)},[]),null};function P({libraries:e,onLoaded:t,accessToken:s}){return Object(C.jsx)(y,{srcUrl:"https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js",libraries:e,onLoaded:()=>{L.mapbox.accessToken=s,t()},libraryPromises:P.libraryPromises,crossOrigin:"anonymous"})}P.libraryPromises={};var k=Object(j.connect)((function(e){return{accessToken:Object(E.g)(e,"mapbox.accessToken")}}))(P);function w({libraries:e,onLoaded:t,apiKey:s}){const a=["https://maps.googleapis.com/maps/api/js","?key="+s,"&channel=gc-editor","&libraries="+e.filter(e=>!(e in w.libraryPromises)).join(",")].join("");return Object(C.jsx)(y,{srcUrl:a,libraries:e,onLoaded:t,libraryPromises:w.libraryPromises})}w.libraryPromises={};var M=Object(j.connect)((function(e){return{apiKey:Object(E.g)(e,"google.maps.api.key")}}))(w);class D extends a.Component{UNSAFE_componentWillReceiveProps(e){this.setState({isPopulated:!!e.value})}constructor(){super(...arguments),o()(this,"handlePlacesAPILoaded",()=>{this.setState({isPlacesAPILoaded:!0})}),o()(this,"handleGeoLocationStarted",e=>{const{onGeoLocationStarted:t}=this.props;this.setState({isGeoLocating:!0}),t&&t(e)}),o()(this,"handleChangeForGeoSuggest",e=>{e&&"string"!=typeof e?this.handleChange({address:e.currentAddress,lat:e.location.lat,lng:e.location.lng,postcode:e.postcode,place:e.place,region:e.region,country:e.country}):this.handleChange({address:e||"",lat:"",lng:""})}),o()(this,"handleChangeForInput",e=>{this.handleChange({address:e.currentTarget.value,lat:"",lng:""},e)}),o()(this,"handleGeoLocationFinished",()=>{this.setState({isGeoLocating:!1})}),o()(this,"handleInitialSuggestion",e=>{const t=this.updateLocation(e),{onChange:s}=this.props;s&&s(t)}),o()(this,"handleSuggestionSelection",e=>{const t=this.updateLocation(e);(this.props.onSelect||this.props.onChange)(t)}),o()(this,"handleGeoLocationSet",e=>{this.setState({isPopulated:!!e.address}),(this.props.onGeoLocated||this.props.onChange)(e)}),o()(this,"handleFocus",()=>{this.setState({isFocused:!0}),this.props.isModal&&document.body&&(document.body.scrollTop=0)}),o()(this,"handleBlurForGeoSuggest",e=>{setTimeout(()=>{this.setState({isFocused:!1})},0);const t=this.updateLocation(e,!0),{onBlur:s}=this.props;s&&s(t)}),o()(this,"handleBlurForInput",e=>{const{onBlur:t}=this.props,{currentTarget:s}=e;e&&s&&t&&t({address:s.value,lat:"",lng:""})}),this.state={isPlacesAPILoaded:!1,isFocused:!1,isGeoLocating:!1,isPopulated:!!this.props.value}}handleChange(e,t){this.setState({isPopulated:!!e.address});const{onChange:s,onBlur:a}=this.props;s&&s(e,t),!e.address&&a&&a(e)}updateLocation(e,t){let s="";s=t||e.currentAddress&&e.label&&e.currentAddress===e.label?e.currentAddress:e.label;const a={address:s,lat:e.location&&String(e.location.lat)||"",lng:e.location&&String(e.location.lng)||"",postcode:e.postcode||"",place:e.place||"",region:e.region||"",country:e.country||""},n={};return n.isPopulated=!!a.address,this.props.isModal&&(n.isFocused=!1),this.setState(n),this.props.isGoogleProvider||this.props.mapboxClient.sendPermanentAddress(a.address),a}renderGeoSuggest(e){const{id:t,automationId:s,dataRoute:a,autoFocus:n,value:i,geoSuggestProvider:o,isGoogleProvider:c,geosuggestLimits:r}=this.props,{isPlacesAPILoaded:l}=this.state;let u=250,p=1;!c&&r&&(u=r.mapbox?r.mapbox.debounceInterval:1e3,p=r.mapbox?r.mapbox.searchStartThreshold:5);const h={id:t,value:i,autoFocus:n,type:"text","data-route":a,className:"ux-form-control",onFocus:this.handleFocus,placeholder:Object(g.a)("searchPlaces"),autoComplete:"off"};return l?Object(C.jsx)(m.a,{...h,geoLocating:this.state.isGeoLocating,inputClassName:d()("form-control","text-input","ux-form-control",{"text-input-invalid":e.length,"mapbox-input":!c}),provider:o,onSuggestSelect:this.handleSuggestionSelection,initialValue:i,automationId:s,debounceInterval:u,searchStartThreshold:p,onChange:this.handleChangeForGeoSuggest,onBlur:this.handleBlurForGeoSuggest}):Object(C.jsx)("input",{...h,onChange:this.handleChangeForInput,onBlur:this.handleBlurForInput})}render(){const{id:e,label:t,automationId:s,value:a,children:n,labelClassNames:i,isGoogleProvider:o,errors:c}=this.props,{isPlacesAPILoaded:r,isFocused:l,isPopulated:u,isGeoLocating:p}=this.state;return Object(C.jsxs)("div",{className:d()("location-input",{empty:!u,focused:l}),"data-aid":s,children:[o?Object(C.jsx)(M,{libraries:["places"],onLoaded:this.handlePlacesAPILoaded}):Object(C.jsx)(k,{libraries:["mapbox"],onLoaded:this.handlePlacesAPILoaded}),Object(C.jsxs)(x.a,{label:t,inputId:e,count:a.length,errors:c,isInvalid:0!==c.length,isFocused:l,className:d()(i,{empty:!u,focused:l}),children:[this.renderGeoSuggest(c),n,!o&&r&&!p&&Object(C.jsx)(A,{onLocation:this.handleGeoLocationSet,onGeoLocationStarted:this.handleGeoLocationStarted,onGeoLocationFinished:this.handleGeoLocationFinished}),p&&Object(C.jsx)("div",{className:"geo-locator-spinner",children:Object(C.jsx)(O.Spinner,{size:"sm"})})]})]})}}o()(D,"defaultProps",{value:"",isModal:!1,autoFocus:!1,errors:[]});const B=Object(f.defaultMemoize)(e=>new T({accessToken:e}));var R=Object(j.connect)((function(e){const t=Object(E.q)(e);return{isGoogleProvider:"google"===t,geoSuggestProvider:t,mapboxClient:B(Object(E.g)(e,"mapbox.accessToken")),geosuggestLimits:Object(E.g)(e,"limits.geosuggest")}}))(D),U=s("Yijx"),G=s("xrG/"),F=s("u1xw");const{BUSINESS_CITY:K,BUSINESS_COUNTRY:V,BUSINESS_REGION:H,BUSINESS_ZIP:W}=h.a,J=Object(G.a)(()=>s.e(105).then(s.bind(null,"Rcw8"))),Y={postcode:W,place:K,region:H,country:V};class q extends a.Component{constructor(...e){super(...e),o()(this,"handleChange",e=>{const t=(s=e,{postcode:"",place:"",region:"",country:"",...s});var s;this.handleModifications(t,this.props.onChange),this.props.showConfirmationButton()}),o()(this,"handleBlur",e=>{this.handleModifications(e,this.props.onBlur)}),o()(this,"openMapboxDragModal",()=>{const{field:e}=this.props,t=e.getIn(["state","value"],""),s=e.getIn(["state","lat"],""),a=e.getIn(["state","lng"],"");return this.context.executeAction(U.a,{modal:Object(C.jsx)(J,{lat:s,lon:a,address:t,onSave:this.props.onBlur})})})}getBusinessAddressData(e){const t=Object.keys(e).some(t=>!e[t]);return Object.keys(Y).reduce((s,a)=>(s[Y[a]]=t?"":e[a],s),{})}handleModifications(e,t){t({value:e.address,lat:e.lat,lng:e.lng,...this.getBusinessAddressData(e)})}render(){const{dataRoute:e,field:t,labelClassNames:s}=this.props,a=t.get("id"),n=t.get("fieldTitle"),i=t.getIn(["state","value"]),o=`${p.a.TEXT_INPUT}_${e.replace(/\//g,"_").toUpperCase()}`;return Object(C.jsx)(R,{id:a,label:n,value:i,onChange:this.handleChange,onBlur:this.handleBlur,onSelect:this.handleBlur,onGeoLocated:this.handleBlur,labelClassNames:s,automationId:o,dataRoute:e,openMapboxDragModal:this.openMapboxDragModal})}}o()(q,"defaultProps",{onChange:c.noop,onBlur:c.noop,showConfirmationButton:c.noop}),o()(q,"contextType",F.b);var X=q,$=s("HzlJ"),z=s("rf6O"),Q=s.n(z),Z=s("4NvJ"),ee=s("4jaQ"),te=s("D27L"),se=s("pouD");const ae=e=>d()("group-label",{"label-disabled":Boolean(e.disabled)}),ne=e=>d()("ux-form-control",{"ux-form-control-disabled":Boolean(e.disabled)});function ie({field:e,dataRoute:t,disabled:s,className:a,labelClassNames:n,onChange:i,onFocus:o,onBlur:r,errors:l,showConfirmationButton:d}){const u=Object(se.a)(),h=e.get("mutatorSettings"),g=e.get("state")||"",b=h.get("prefix"),m=Object(c.isNil)(h.get("showTag"))?h.get("disabled"):h.get("showTag"),O=e.get("link")&&e.get("link").toJS(),f=h.get("externalLinkID"),x=h.get("strictValidation"),_=h.get("validationRegex"),S=h.get("validationErrorMsg"),T=h.get("validationValueMatchGroupIndex"),E=e.get("fieldTooltip"),I=e.get("fieldTitle"),v=E?Object(C.jsxs)("span",{children:[I,Object(C.jsx)(ee.a,{message:E})]}):I;return Object(C.jsx)(j.ReactReduxContext.Consumer,{children:({store:c})=>{const j=f?te.a[f](u,c.getState()):O||{};return Object(C.jsx)(Z.a,{automationId:`${p.a.TEXT_INPUT}_${e.get("id","").toUpperCase()}`,dataRoute:t,maxCount:e.get("maxCount")||h.get("maxCount"),hideCount:e.get("hideCount")||h.get("hideCount"),id:e.get("id"),label:v,tag:h.get("tag"),description:e.get("fieldSubtitle"),value:g,placeholder:e.get("fieldPlaceholder"),isRequired:h.get("isRequired"),onChange:i,subText:h.get("subText"),subTextLinkLabel:h.get("subTextLinkLabel"),subTextLink:h.get("subTextLink"),showTag:m,onFocus:o,onBlur:r,disabled:s,labelClassNames:n||ae({disabled:s}),className:a||ne({disabled:s}),autoSelectAll:e.get("autoSelectAll")||e.get("mutatorSettings").get("autoSelectAll"),prefix:b,link:j,validationRegex:_,validationErrorMsg:S,validationValueMatchGroupIndex:T,strictValidation:x,errors:l,leftLabel:h.get("leftLabel"),rightLabel:h.get("rightLabel"),showConfirmationButton:d})}})}ie.propTypes={field:Q.a.instanceOf(r.Map).isRequired,disabled:Q.a.bool,className:Q.a.string,labelClassNames:Q.a.string,dataRoute:Q.a.string,onChange:Q.a.func,onFocus:Q.a.func,onBlur:Q.a.func,isRequired:Q.a.bool,errors:Q.a.array,showConfirmationButton:Q.a.func},ie.defaultProps={onChange:c.noop,onFocus:c.noop,onBlur:c.noop,showConfirmationButton:c.noop,disabled:!1,isRequired:!1,errors:[]};var oe=ie;class ce extends a.Component{render(){const{field:e,disabled:t,className:s,labelClassNames:a,dataRoute:i,onChange:o,onFocus:c,onBlur:l,appName:d,isRequired:u,errors:p,showConfirmationButton:h}=this.props,g=e.get("source")||e.get("mutatorSettings",new r.Map).get("source","");return Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)(oe,{field:e,disabled:t,className:s,labelClassNames:a,dataRoute:i,onChange:o,onFocus:c,onBlur:l,appName:d,isRequired:u,errors:p,showConfirmationButton:h}),Object(C.jsx)($.a,{source:g})]})}}o()(ce,"defaultProps",{disabled:!1,isRequired:!1,errors:[]});var re=ce;class le extends a.Component{constructor(e){super(e),this.dataAid=`${p.a.TEXTAREA_INPUT}_${this.props.dataRoute.replace(/\//g,"_").toUpperCase()}`}render(){const{dataRoute:e,field:t,disabled:s,className:a,labelClassNames:n,minHeight:i,fieldType:o,editingId:c,onChange:r,onBlur:l,errors:d,showConfirmationButton:u,singleline:p,showToolbar:h,restrictedKeyCommands:g}=this.props;return Object(C.jsx)(Z.a,{automationId:this.dataAid,fieldType:o,editingId:c,dataRoute:e,maxCount:t.getIn(["mutatorSettings","maxCount"]),hideCount:t.getIn(["mutatorSettings","hideCount"]),showValidationText:t.getIn(["mutatorSettings","showValidationText"]),id:e,label:t.get("fieldTitle"),description:t.get("fieldSubtitle"),labelClassNames:n||ae({disabled:s}),className:a||ne({disabled:s}),value:t.get("state"),placeholder:t.get("fieldPlaceholder"),isRequired:!1,onChange:r,showConfirmationButton:u,onBlur:l,disabled:s,minHeight:t.getIn(["mutatorSettings","minHeight"])||i,maxHeight:t.getIn(["mutatorSettings","maxHeight"]),tall:t.getIn(["mutatorSettings","tall"])||!1,errors:d,singleline:p,showToolbar:h,restrictedKeyCommands:g})}}le.propTypes={field:Q.a.instanceOf(r.Map).isRequired,dataRoute:Q.a.string,editingId:Q.a.string,className:Q.a.string,labelClassNames:Q.a.string,fieldType:Q.a.string,disabled:Q.a.bool,minHeight:Q.a.number,onChange:Q.a.func,onBlur:Q.a.func,errors:Q.a.array,showConfirmationButton:Q.a.func,tall:Q.a.bool,singleline:Q.a.bool,showToolbar:Q.a.bool,restrictedKeyCommands:Q.a.arrayOf(Q.a.string)},le.defaultProps={fieldType:"textarea",onChange:()=>{},onBlur:()=>{},minHeight:140,disabled:!1,errors:[],showConfirmationButton:c.noop,tall:!1,singleline:!1,showToolbar:!0,restrictedKeyCommands:[]};var de=le,ue=s("W7As");s("sSOW");class pe extends a.Component{constructor(e){super(...arguments),o()(this,"handleChange",e=>{const{handleChange:t,showConfirmationButton:s}=this.props,{buttonState:a}=this.state;s&&s(),t&&t(e.target.checked,e),this.setState({buttonState:!a})}),o()(this,"renderToggle",()=>{const{className:e,defaultValue:t,handleBlur:s,subtype:a,label:n,property:i,hint:o,dataRoute:c,inputDataAid:r,inputName:l,disabled:d,mutatorSettings:u,handleChange:h,highlightChange:g,labelClassNames:b,showConfirmationButton:m,...j}=this.props,f=r||`${i}_${p.a.CHECKBOX_FORM}_${t?"ENABLED":"DISABLED"}`,x=u.has("eventId")?u.get("eventId"):void 0;return Object(C.jsx)(O.Toggle,{...j,small:!0,type:"checkbox",id:l,"data-aid":f,name:l,checked:t,onChange:this.handleChange,"data-route":c,"data-event":x,onBlur:e=>s&&s(e.target.checked,e)})}),this.state={buttonState:e.defaultValue}}render(){const{label:e}=this.props;return Object(C.jsxs)("div",{className:d()("ml-20","mr-20","mb-20","bgc-faint","toggle-section-control-container","flex","flex--space-between"),children:[Object(C.jsx)("div",{className:"flex flex--middle toggle-section-control-label",children:e}),Object(C.jsx)("div",{className:"flex flex--end toggle-section-control-selection",children:this.renderToggle()})]})}}var he=pe;class ge extends a.Component{constructor(...e){super(...e),o()(this,"_getClassName",()=>{const{className:e,disabled:t}=this.props;return e||ne({disabled:t})}),o()(this,"_getLabelClassNames",()=>{const{labelClassNames:e,disabled:t}=this.props;return e||ae({disabled:t})})}render(){const{field:e,dataRoute:t,disabled:s,onChange:a,showConfirmationButton:n}=this.props,i=e.get("id"),o=e.get("mutatorSettings"),c=o.get("isSectionControl",!1),r=e.get("fieldTooltip"),l=e.get("fieldTitle"),d={id:i,dataRoute:t,disabled:s,mutatorSettings:o,showConfirmationButton:n,property:i,label:r?Object(C.jsxs)("span",{children:[l,Object(C.jsx)(ee.a,{message:r})]}):l,defaultValue:e.get("state"),handleChange:a,highlightChange:!1,labelClassNames:this._getLabelClassNames(),className:this._getClassName()},u=c?he:ue.a;return Object(C.jsx)(u,{...d})}}ge.propTypes={field:Q.a.instanceOf(r.Map).isRequired,property:Q.a.string,disabled:Q.a.bool,className:Q.a.string,labelClassNames:Q.a.string,dataRoute:Q.a.string,onChange:Q.a.func,showConfirmationButton:Q.a.func},ge.defaultProps={onChange:()=>{},disabled:!1,showConfirmationButton:()=>{}};var be=ge;const me=u.constants.editors;var Oe={[me.ADDRESS]:X,[me.EMAIL]:re,[me.MULTILINE]:de,[me.TEXT]:oe,[me.TOGGLE]:be};var je=e=>"string"==typeof e?!e.trim().length:!e;const fe=u.constants.editors;class xe extends a.PureComponent{constructor(){super(...arguments),this.handleChange=Object(c.debounce)(this.handle.bind(this,"onChange"),500),this.handleBlur=Object(c.debounce)(this.handle.bind(this,"onBlur"),500)}handle(e,t){const{field:s}=this.props,a=s.getIn(["mutatorSettings","isRequired"]),n=s.getIn(["mutatorSettings","trimTrailingSpaces"]),i=s.getIn(["mutatorSettings","maxCount"],0);if(a&&je(t))return;const o=t&&n?t.trim():t;i>0&&o.length>i||this.props[e]({fieldType:s.get("type"),property:s.get("property")},o)}render(){const{disabled:e,field:t,className:s,labelClassNames:a}=this.props;if(t.get("hidden"))return null;const n=t.toJS(),{type:i,property:o,errors:c}=n,l=Object(r.fromJS)({id:o,mutatorSettings:{},clearOverride:!1,...n}),u=Oe[i]||Oe[fe.TEXT];return Object(C.jsx)(u,{className:d()("ux-form-control",s,{"ux-form-control-disabled":e}),dataRoute:l.get("id"),field:l,id:l.get("id"),onChange:this.handleChange,onBlur:this.handleBlur,errors:c,labelClassNames:a,disabled:e})}}o()(xe,"defaultProps",{onChange:c.noop,onBlur:c.noop,disabled:!1});var _e=xe;t.a=function({fields:e,onChange:t,onBlur:s,disabled:n,className:i,labelClassNames:o}){return Object(C.jsx)(C.Fragment,{children:e.map((e,c)=>a.isValidElement(e)?Object(C.jsx)(a.Fragment,{children:e},c):Object(C.jsx)(_e,{onChange:t,onBlur:s,field:e,disabled:n,className:i,labelClassNames:o},c))})}},"P++E":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));const a={postSuggestionTitle:"post_suggestion_title",postSuggestionBody:"post_suggestion_body",postSuggestionMessagePlaceholder:"post_suggestion_message_placeholder",postSuggestionSkipInstantAnswersButton:"post_suggestion_skip_instant_answers_button",postSuggestionDetailsTitle:"post_suggestion_details_title",suggestionTitleLabel:"suggestion_title_label",suggestionTitlePlaceholder:"suggestion_title_placeholder",suggestionCategoryLabel:"suggestion_category_label",postSuggestionSubmitButton:"post_suggestion_submit_button",postSuggestionSuccessTitle:"post_suggestion_success_title",postSuggestionSuccessBody:"post_suggestion_success_body"}},PC2u:function(e,t,s){"use strict";const a=s("2X3e");e.exports=a("camera","false")},PFfh:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s("dwxX"),n=s("L2pB");function i(e,t){Object(a.c)({code:n.SOCIAL_CONNECT_LINK_CLICK,socialProvider:e,location:t})}},TKNf:function(e,t,s){"use strict";e.exports={fixtures:[],getSuggestLabel:function(e){return e.place_name},skipSuggest:function(){}}},"U/Dm":function(e,t,s){"use strict";var a=s("lSNA"),n=s.n(a),i=(s("9/X/"),s("hcUJ")),o=s("cDcd"),c=s("TSYQ"),r=s.n(c),l=s("dwxX"),d=s("keKT"),u=s.n(d),p=s("nKUr");class h extends o.PureComponent{constructor(...e){super(...e),n()(this,"onLinkClick",e=>{const{trafficId:t,linkOnClick:s}=this.props;s&&s(),t&&Object(l.c)({code:t,domEvent:e.nativeEvent})})}render(){const{description:e,titleEnabled:t,title:s,titleBold:a,featured:n,linkUrl:o,linkText:c,linkOnClick:l,topBorder:d,marginBottom:h,isReseller:g,className:b}=this.props;if(n)return Object(p.jsxs)("div",{className:"featured-section normalize-white-space flex flex--row",style:{flexShrink:0},children:[Object(p.jsx)("img",{src:u.a},"star-png"),Object(p.jsx)("div",{className:"featured-section-text",children:Object(i.a)(e)})]});const m=r()(b,"section-header","ux-editor",{"border-on-top":d,"mb-10":h}),O=s&&t&&Object(p.jsx)("div",{className:"section-header-title",children:Object(p.jsx)("strong",{children:Object(i.a)(s)||s})}),j=a&&Object(p.jsx)("div",{className:"section-header-title-bold",children:Object(p.jsx)("strong",{children:(Object(i.a)(a)||a).toUpperCase()})}),f=e?Object(p.jsx)("div",{className:"section-header-description",children:Object(i.a)(e)||e}):null,x=(o||l)&&c?Object(p.jsx)("div",{className:r()("section-header-link",{"section-header-link-clickable":!o&&l}),onClick:this.onLinkClick,children:Object(p.jsx)("a",{className:r()({"btn-link":!g}),href:o||null,target:"_blank",rel:"noopener noreferrer",children:Object(p.jsx)("div",{children:c})})}):null;return O||j||f?Object(p.jsxs)("div",{className:m,children:[j,O,f,x]}):null}}n()(h,"defaultProps",{title:"",titleBold:"",description:"",titleEnabled:!1,featured:!1,linkUrl:"",linkText:"",linkOnClick:null,topBorder:!1,marginBottom:!1,className:""}),t.a=h},VaJo:function(e,t,s){"use strict";var a=s("fZO1"),n=s("J9rY"),i=s("5lD2"),o=s("kUj2"),c=s("t+uG"),r=s("lvcY");var l=function(e,{page:t,flyoutMenuId:s,position:a}){const{websiteId:n}=t,l={};return s&&(l.flyoutMenuId=s),Object(i.isNumber)(a)&&(l.position=a),e.executeAction(o.a,{url:c.t,method:"post",segments:{websiteId:n},params:l,metadata:{type:r.a.POST_PAGE,param:n},reauthStatusCodes:[401],data:t})},d=s("ylaK"),u=s("AbpD"),p=s("CIKg"),h=s("gU+0"),g=s("NGq9"),b=s("3Rla");const{ADD_PAGE:m}=n.a,{APP_SET_FULL_ERROR_PAGE:O}=a.a;t.a=function(e,t){const{pageName:s,showLink:a=!0,showInFooter:n,externalUrl:i,isFlyoutMenu:o,flyoutMenuId:c,requiresAuth:r,position:j,templateId:f,widgets:x}=t,_=e.getState(),S=Object(g.d)(Object(b.y)(_)),T=i?(E=i)&&!E.match(/^[a-zA-Z]+:\/\//)?"http://"+E:E:"";var E;const I={websiteId:S,name:s,properties:{routePath:T,templateId:f},options:{showLink:a,showInFooter:n,isExternalUrl:Boolean(i),isFlyoutMenu:Boolean(o),requiresAuth:Boolean(r)},data:{},widgets:x};return e.executeAction(u.a).then(()=>e.executeAction(l,{page:I,flyoutMenuId:c,position:j})).then(({id:t})=>Promise.all([e.executeAction(d.a,{websiteId:S,pageId:t}),e.executeAction(p.a),e.executeAction(h.a)])).then(([t])=>(e.dispatch({type:m,payload:{page:t}}),t)).catch(t=>{throw e.dispatch({type:O,payload:{error:t}}),t})}},VqQo:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("TSYQ"),r=s.n(c),l=s("JPcv"),d=s("DCtA"),u=s("dwxX"),p=s("/MKj"),h=(s("40A7"),s("enMK")),g=s("Uuec"),b=s("28sP"),m=s("IsWw"),O=s("pENX"),j=s("3Rla"),f=s("cmhP"),x=s("TQMK"),_=s("CC3A"),S=s("JVM4"),T=s("u1xw"),E=s("OhOa"),I=s("nKUr");const v=d.constants.editors,C=/^(UA|YT|MO)-\d+-\d+$/;const N={signUp:{text:"googleAnalyticsSignUp",url:"https://www.google.com/analytics",trafficEvent:g.c.editor_side_menu.redirect_to_ga_signup},findID:{text:"googleAnalyticsFindId",url:"https://support.google.com/analytics/answer/9539598",trafficEvent:g.c.editor_side_menu.redirect_to_find_tracking_id}},A="e17zodml";class y extends i.PureComponent{constructor(e){super(...arguments),n()(this,"publishButtonClick",()=>{this.context.executeAction(O.a,{eventOriginKey:"editor_side_menu.google_analytics_publish_website",triggersNPS:!0})}),n()(this,"validateInput",e=>{const t=C.test(e)||function(e){const t=e.split("-");return 2===t.length&&"G"===t[0]}(e);return this.setState({isValid:t,input:e}),t}),n()(this,"handleChange",(e,t)=>{this.validateInput(t)||0===t.length?this.handleBlur(e,t):(this.updateState(!1,t),this.context.executeAction(_.a,{show:!1}))}),this.state={isValid:!!e.gaTrackingID,input:e.gaTrackingID}}updateState(e,t){this.setState({isValid:e,input:t})}handleBlur(e,t){const s=Object(h.a)(t,e);s&&(this.context.executeAction(m.a,s),Object(u.c)({code:g.c.editor_side_menu.change_tracking_id}),0!==t.length&&this.context.executeAction(_.a,{show:!0}))}renderLink(e){const{isReseller:t}=this.props;return Object(I.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:r()({"btn btn-sm btn-link":!t}),"data-traffic2":e.trafficEvent,children:Object(I.jsx)("div",{className:"settings-link",children:Object(o.a)(e.text)})})}convertPropsToFields(){const{gaTrackingID:e}=this.props,t=this.state.input?e:"";return Object(l.List)([Object(l.Map)({type:v.TEXT,fieldTitle:Object(o.a)("trackingID"),property:b.a.GA_TRACKING_ID,state:t,fieldPlaceholder:Object(o.a)("trackingIDPlaceholder"),mutatorSettings:{validate:this.validateInput,validationErrorMsg:""}})])}getMessage(){return this.state.input?this.state.isValid?Object(I.jsx)("div",{className:"settings-message text-input-label-message",children:Object(o.a)("googleAnalyticsValidationSuccessMessage")}):Object(I.jsx)("div",{className:"settings-message",children:Object(I.jsx)("div",{className:r()("text-input-label-message text-input-label-error",A),children:Object(o.a)("trackingIDErrorMessage")})}):null}hasGoodState(){return this.state.isValid&&this.state.input}render(){const{isReseller:e}=this.props,t=this.convertPropsToFields(),s=this.getMessage(),a=this.hasGoodState()?Object(I.jsx)("div",{className:"settings-message",children:Object(I.jsx)(x.a,{design:e?"brand":"primary",className:"mt-20 settings-publish-btn",onClick:this.publishButtonClick})}):null;return Object(I.jsxs)("div",{children:[Object(I.jsx)(S.a,{}),Object(I.jsx)("div",{className:"settings-heading",children:Object(o.a)("googleAnalyticsHeading")}),Object(I.jsx)("div",{className:"settings-message",children:Object(o.a)("googleAnalyticsDescriptionExt")}),Object(I.jsxs)("div",{className:"settings-link-container",children:[Object(I.jsx)("div",{children:this.renderLink(N.signUp)}),Object(I.jsx)("div",{children:this.renderLink(N.findID)})]}),Object(I.jsxs)("div",{className:"settings-content",children:[Object(I.jsx)(E.a,{fields:t,onChange:this.handleChange}),s,a]})]})}}n()(y,"contextType",T.b);t.default=Object(p.connect)(e=>({isReseller:Object(f.k)(e),gaTrackingID:Object(j.pb)(e,b.a.GA_TRACKING_ID)||""}))(y),s("NpGM")},W7As:function(e,t,s){"use strict";var a=s("lSNA"),n=s.n(a),i=(s("O9Yt"),s("yzf0"),s("8Tp/"),s("cDcd")),o=s("hcUJ"),c=s("DCtA"),r=s("hplg"),l=s("JPcv"),d=s("OrsP"),u=s.n(d),p=s("6Up9"),h=s.n(p),g=s("euNs"),b=s.n(g),m=s("TSYQ"),O=s.n(m),j=s("q1hO"),f=s("IFdU"),x=s("7B2s"),_=s("nKUr");const{toggleTypes:S}=c.constants;class T extends i.Component{constructor(e){super(...arguments),n()(this,"handleChange",e=>{const{highlightChange:t,mutatorSettings:s,handleChange:a,showConfirmationButton:n}=this.props,i=s&&s.get("isButton");t&&this._highlightChange(),n&&n(),a&&a(i?!this.state.buttonState:e.target.checked,e),this.setState({buttonState:!this.state.buttonState})}),n()(this,"_highlightChange",()=>{const{editingId:e,fieldSetName:t}=this.props,s=Object(x.a)(t,e);this._highlightTimer=Object(x.d)(s,this._highlightTimer)}),n()(this,"_getInputName",()=>{const{className:e,property:t}=this.props;return`${e}-toggle-${t}`}),n()(this,"_getInputIcon",()=>{const{subtype:e}=this.props,t=this._getInputName(),s=e===S.CHECKBOX;return Object(_.jsxs)("label",{htmlFor:t,className:O()({"toggle-checkbox-icon":s}),children:[s&&Object(_.jsx)(u.a,{height:16,width:16}),Object(_.jsx)("label",{htmlFor:t})]})}),n()(this,"_getLabelClassName",()=>{const{subtype:e,labelClassNames:t}=this.props;let s=t;return s+=e===S.CHECKBOX?" checkbox-label":" slider-label",s}),this.state={buttonState:e.defaultValue}}render(){const{className:e,defaultValue:t,handleBlur:s,subtype:a,label:n,property:c,hint:l,dataRoute:d,inputDataAid:u,disabled:p,mutatorSettings:g,handleChange:m,highlightChange:O,labelClassNames:x,showConfirmationButton:T,...E}=this.props,I=this._getInputName(),v=u||`${c}_${j.a.CHECKBOX_FORM}_${t?"ENABLED":"DISABLED"}`,C=(a===S.CHECKBOX?"toggle-checkbox":"slider")+(p?" disabled":"");let N;if(g.get("isButton")){const e=g.get("isButton");N=this.state.buttonState?Object(o.a)(e.get("falseStateLabel")):Object(o.a)(e.get("trueStateLabel"))}const A=g.has("eventId")?`${g.get("eventId")} - ${String(this.state.buttonState)}`:void 0,y=this.state.buttonState?Object(_.jsx)(h.a,{height:14,width:14}):Object(_.jsx)(b.a,{height:12,width:18});return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(f.a,{className:"inline-group flex flex--center flex--space-between "+e,label:n,inputId:c,labelClassNames:this._getLabelClassName(),isValid:!0,isRequired:!1,disabled:p,children:Object(_.jsx)("div",{className:C,children:g&&g.get("isButton")?Object(_.jsx)(r.Button,{design:"secondary",className:"btn-filled",size:"small",onClick:this.handleChange,"data-aid":j.a.TOGGLE_TRANSFORMED_BUTTON,style:{margin:"0 auto"},"data-event":A,icon:y,text:N}):Object(_.jsxs)("div",{className:C,children:[Object(_.jsx)(r.Toggle,{...E,small:!0,type:"checkbox",id:I,"data-aid":v,name:I,checked:t,onChange:this.handleChange,"data-route":d,"data-event":A,onBlur:e=>s&&s(e.target.checked,e)}),this._getInputIcon()]})})}),l&&Object(_.jsx)("div",{className:"labeled-input text-input-label-hint",children:Object(_.jsx)("div",{children:l})})]})}}n()(T,"defaultProps",{fieldSetName:"",labelClassNames:"",showConfirmationButton:()=>{},handleBlur:()=>{},subtype:"",className:"",dataRoute:"",editingId:"",highlightChange:!0,disabled:!1,mutatorSettings:Object(l.Map)()}),t.a=T},WGPV:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=(s("zFEB"),s("hcUJ")),o=s("cDcd"),c=s("TSYQ"),r=s.n(c),l=s("dwxX"),d=s("hplg"),u=s("/MKj"),p=s("4NvJ"),h=s("iM3s"),g=s("4xuX"),b=s("q1hO"),m=s("tyho"),O=s("p/89"),j=s("paR9"),f=s("Yijx"),x=s("ashf"),_=s("Uuec"),S=s("Daju"),T=s("AiBc"),E=s("NGq9"),I=s("W7As"),v=s("CC3A"),C=s("cmhP"),N=s("qp4x"),A=s("wqHn"),y=s("u1xw"),P=s("+bYj"),k=s("nKUr");class w extends o.Component{constructor(e){super(...arguments),n()(this,"handleNameChange",(e,t)=>{const s=Object(S.e)(e);this.setState({name:e}),this.isAddMode()||this.context.executeAction(v.a,{show:!0});const{link:a}=this;a&&s&&(Object(l.c)({code:_.c.edit_site.manage_pages_rename_page,domEvent:t}),this.context.executeAction(j.a,{id:a.get("id"),name:e,title:e,options:{isExternalUrl:!0}}))}),n()(this,"handleToggle",(e,t,s)=>{const a={},n={showLink:{show:"show_link_in_nav",hide:"hide_link_in_nav"},showInFooter:{show:"show_link_in_footer",hide:"hide_link_in_footer"}};a[e]=t;const i=_.c.edit_site[t?n[e].show:n[e].hide];this.setState({...a}),this.isAddMode()||this.context.executeAction(v.a,{show:!0});const{link:o}=this;o&&this.context.executeAction(j.a,{id:o.get("id"),options:{...a}}),Object(l.c)({code:i,domEvent:s})}),n()(this,"handleUrlChange",e=>{const{link:t}=this,s=T.b.test(e);if(this.setState({externalUrl:e}),!this.isAddMode()&&s&&this.context.executeAction(v.a,{show:!0}),t&&s){const s=e.match(/^[a-zA-Z]+:\/\//)?e:"http://"+e;this.context.executeAction(j.a,{id:t.get("id"),options:{isExternalUrl:!0},properties:{routePath:s}})}}),n()(this,"handleKeyPress",e=>{this.isAddMode()&&"Enter"===e.key&&this.handleCreateClick(e)}),n()(this,"handleCreateClick",e=>{const{flyoutMenuId:t}=this.props,{name:s,externalUrl:a,isLocked:n,showLink:i,showInFooter:o}=this.state;if(!this.isValid()||n)return;const{nativeEvent:c}=e;this.setState({isLocked:!0},()=>{this.context.executeAction(O.a,{pageName:s,externalUrl:a,flyoutMenuId:t,showLink:i,showInFooter:o}),Object(l.c)({code:_.c.edit_site.create_page_button,domEvent:c})})}),n()(this,"handleDeleteClick",e=>{const{link:t}=this;Object(E.b)(t),this.context.executeAction(f.a,{modal:Object(k.jsx)(m.a,{isExternalUrl:!0,pageId:t.get("id"),itemName:t.get("name"),websiteId:t.get("websiteId"),onDelete:()=>this.setState({isLocked:!0})})}),Object(l.c)({code:_.c.edit_site.manage_pages_remove_page,domEvent:e})}),n()(this,"onUrlFieldBlur",()=>{const{link:e}=this,{externalUrl:t}=this.state;e&&0===t.length&&this.setState({externalUrl:e.getIn(["properties","routePath"])})});const{link:t}=e;this.state={name:t?t.get("name"):"",showLink:!t||t.getIn(["options","showLink"],!0),showInFooter:!!t&&t.getIn(["options","showInFooter"],!1),externalUrl:t?t.getIn(["properties","routePath"],""):"",isLocked:!1},this.link=t}componentWillUnmount(){this.context.executeAction(v.a,{show:!1})}isValid(){const{name:e,externalUrl:t}=this.state;return Object(S.e)(e)&&t.length>0}isAddMode(){return!this.link}getTitle(){return this.isAddMode()?"add":"linkSettings"}renderCtaButton(){const{isReseller:e}=this.props,{isLocked:t}=this.state;return this.isAddMode()?Object(k.jsx)(d.Button,{design:"primary",size:"small",className:r()({"btn-filled":e}),onClick:this.handleCreateClick,disabled:t||!this.isValid(),"data-aid":b.a.CREATE_PAGE_BTN,text:Object(i.a)("createLink")}):Object(k.jsx)(d.Button,{design:"critical",size:"small",onClick:this.handleDeleteClick,disabled:t,"data-aid":b.a.DELETE_PAGE_BUTTON,text:Object(i.a)("deleteLinkButton")})}render(){const{name:e,showLink:t,showInFooter:s,externalUrl:a}=this.state,{flyoutMenuId:n}=this.props,o=!n&&this.isAddMode();return Object(k.jsxs)("div",{className:"pages-detail-editor flex flex--column",children:[Object(k.jsxs)("div",{className:"pages-detail-form",children:[o&&Object(k.jsx)(P.a,{selectedOptionValue:"LINK"}),Object(k.jsx)(p.a,{placeholder:Object(i.a)("egBlogLink"),onChange:this.handleNameChange,label:Object(i.a)("externalLinkNameInputTitle"),maxCount:x.a.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:b.a.TEXT_INPUT_PAGE_NAME,onKeyPress:this.handleKeyPress,value:e}),Object(k.jsx)(h.a,{id:b.a.TEXT_INPUT_LINK,onBlur:this.onUrlFieldBlur,onChange:this.handleUrlChange,label:Object(i.a)("externalLinkInputBarTitle"),automationId:b.a.TEXT_INPUT_LINK,onKeyPress:this.handleKeyPress,value:a,validationErrorMsg:"invalidUrl"}),Object(k.jsx)(I.a,{label:Object(i.a)("showInNavigation"),handleChange:this.handleToggle.bind(null,"showLink"),defaultValue:t,property:"SHOW_IN_NAVIGATION",inputDataAid:b.a.TOGGLE_PAGE_NAVIGATION_VISIBILITY}),Object(k.jsx)(I.a,{label:Object(i.a)("showInFooter"),handleChange:this.handleToggle.bind(null,"showInFooter"),defaultValue:s,property:"SHOW_IN_FOOTER",inputDataAid:b.a.TOGGLE_PAGE_NAVIGATION_FOOTER_VISIBILITY})]}),Object(k.jsx)(g.a,{className:"ux-form-group",children:this.renderCtaButton()})]})}}n()(w,"contextType",y.b);t.default=Object(u.connect)((e,{linkId:t})=>{let s=null;return t&&(s=Object(A.l)(e).get(t)),{link:s,flyoutMenuId:Object(N.i)(e,"flyoutMenuId"),isReseller:Object(C.k)(e)}})(w)},WjD0:function(e,t){e.exports=FormData},"XF+8":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return a.forEach((function(s){e[s]&&(t[s]=e[s])})),t};var a=["autoComplete","autoFocus","data-route","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","height","id","inputMode","maxLength","name","pattern","placeholder","readOnly","required","size","spellCheck","tabIndex"]},XjmV:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=(s("sdO7"),s("hcUJ")),o=s("cDcd"),c=s("/MKj"),r=s("JPcv"),l=s("dwxX"),d=s("DCtA"),u=s("tAVT"),p=s("Z8Lr"),h=s("IFdU"),g=s("JLhN"),b=s("paR9"),m=s("rlje"),O=s("aZye"),j="title",f="properties.description",x=s("h5oJ"),_=s("Uuec"),S=s("n4ap"),T=s("cmhP"),E=s("SMay"),I=s("xkYB"),v=s("wqHn"),C=s("Vmlt"),N=s("3Rla"),A=s("umY2"),y=s("CC3A"),P=s("u1xw"),k=s("OhOa"),w=(s("/PPW"),s("hplg")),L=s("8zog"),M=s("mA/2"),D=s("4mg7"),B=s("Yijx"),R=s("AMkf"),U=s("IhhE"),G=s("jKne");var F=(e,{accountId:t,market:s,upgradeCallback:a,shopperId:n})=>{const i=Object(G.a)(e.getState());return e.executeAction(B.a,{modal:Object(R.a)({accountId:t,shopperId:n,isDarkTheme:i,errorCallback:a=>{throw e.executeAction(D.a,{error:a,returnPath:Object(U.c)({accountId:t,locale:s,path:"changeplan",type:"seo"})}),a},feature:x.a.SEO,locale:s,onClose:()=>{e.executeAction(M.a)},planTier:"business",upgradeCallback:a}),isUpgrade:!0})},K=s("EfLF"),V=s("q1hO"),H=s("pssd"),W=s("L2pB"),J=s("nKUr");class Y extends o.Component{constructor(...e){super(...e),n()(this,"state",{launching:!1}),n()(this,"handleStartOptimizingClick",async()=>{const{accountId:e,autoUpgrade:t,domain:s,market:a,resellerId:n,rootDomain:i,shopperId:o,upgradeCallback:c}=this.props,r={accountId:e,domain:s,market:a,resellerId:n,rootDomain:i,shopperId:o};return this.setState({launching:!0}),t?(await this.context.executeAction(F,{shopperId:o,accountId:e,market:a,upgradeCallback:c}),this.setState({launching:!1})):this.context.executeAction(m.a,r)}),n()(this,"renderUpsell",()=>{const{isMobile:e,isReseller:t}=this.props;if(t)return null;return Object(J.jsxs)("div",{className:"flex",children:[Object(J.jsx)(L.a,{icon:"sev",width:e?43:86,height:46}),Object(J.jsx)("div",{children:Object(J.jsx)("strong",{children:Object(i.a)("seoCallToLearnTitle")})}),Object(J.jsx)("span",{children:Object(i.a)("seoCallToLearn")}),Object(J.jsx)("a",{href:"https://www.godaddy.com/websites/website-builder",className:"text-primary",target:"_blank",rel:"noopener noreferrer",children:Object(i.a)("seoCallToLearnLink")})]})})}componentDidMount(){const{accountId:e,autoUpgrade:t}=this.props;t&&this.context.executeAction(K.a,{accountId:e})}render(){const{hasSEO:e,isFreeMat:t}=this.props,{launching:s}=this.state;return Object(J.jsx)("div",{children:e?Object(J.jsxs)("div",{children:[t&&Object(J.jsx)(H.a,{className:"bg-magenta text-feature",children:Object(i.a)("premium")}),Object(J.jsx)("div",{className:"call-to-action-text",children:Object(i.a)("seoCallToLaunch")}),Object(J.jsx)("div",{className:"call-to-action-button",children:Object(J.jsx)(w.Button,{"data-aid":V.a.SEO_BUTTON,"data-event":W.SEO_EDITOR_BUTTON_CLICK,className:"btn-dark",design:"secondary",size:"small",onClick:this.handleStartOptimizingClick,disabled:s,text:Object(i.a)("seoCallToLaunchLink")})})]}):this.renderUpsell()})}}n()(Y,"contextType",P.b);var q=Object(c.connect)(e=>({isFreeMat:Object(N.ub)(e),accountId:Object(N.w)(e),domain:Object(N.Z)(e),isMobile:Object(S.B)(e),isReseller:Object(T.k)(e),market:Object(S.o)(e),pageId:Object(v.d)(e),resellerId:Object(T.c)(e),rootDomain:Object(E.F)(e),shopperId:Object(T.e)(e),websiteId:Object(N.y)(e)}))(Y);const X=d.constants.editors;class $ extends o.PureComponent{constructor(e){super(...arguments),n()(this,"handleFieldChange",(e,t)=>{const s={id:this.state.selectedPageId};let a=s;e.property.split(".").forEach((e,s,n)=>{s===n.length-1?a[e]=t:(a[e]={},a=a[e])}),this.context.executeAction(b.a,s),this.context.executeAction(y.a,{show:!0}),Object(l.c)({code:_.c.editor_side_menu.change_seo_settings})}),n()(this,"handlePageChange",e=>{this.setState({selectedPageId:e.value})}),n()(this,"onUpgradeClick",()=>{const{accountId:e,domain:t,market:s,resellerId:a,rootDomain:n,shopperId:i}=this.props;this.context.executeAction(O.a,{accountId:e,feature:"seo",planTier:"business",onPostUpgradeSuccessClick:()=>this.context.executeAction(m.a,{accountId:e,domain:t,market:s,resellerId:a,rootDomain:n,shopperId:i}),widgetType:"seo"})}),n()(this,"seoUpgradeCallback",()=>{const{accountId:e,domain:t,market:s,resellerId:a,rootDomain:n,shopperId:i}=this.props;Object(l.c)({code:_.c.editor_side_menu.seo_upgrade_learn_more}),this.context.executeAction(m.a,{accountId:e,domain:t,market:s,resellerId:a,rootDomain:n,shopperId:i})}),n()(this,"renderUpgrade",()=>Object(J.jsxs)("div",{className:"seo-upgrade-container",onClick:this.onUpgradeClick,children:[Object(J.jsxs)("div",{className:"settings-heading flex flex--row",children:[Object(i.a)("seoRankHigher"),Object(J.jsx)("div",{className:"seo-upgrade-tag text-nowrap",children:Object(J.jsx)("span",{children:Object(i.a)("upgrade")})})]}),Object(J.jsx)("div",{className:"settings-message",children:Object(i.a)("seoRankHigherDescription")}),Object(J.jsx)("div",{className:"learn-btn-container",children:Object(J.jsx)(g.a,{label:"seoCallToLearnLink"})})]})),this.state={selectedPageId:e.currentPageId}}componentDidMount(){this.props.showUpgrade&&u.ContextualUpgrade.preload()}renderActionModal(e){const{autoUpgrade:t,isCallToActionEnabled:s,showSEO:a}=this.props;return s&&(a&&e||!a&&!e)?Object(J.jsxs)("div",{className:"seo-call-to-action-container",children:[Object(J.jsx)(q,{autoUpgrade:t,hasSEO:a,upgradeCallback:this.seoUpgradeCallback}),Object(J.jsx)("hr",{className:"seo-call-to-action-divider"})]}):null}render(){const{showUpgrade:e}=this.props,{selectedPageId:t}=this.state,s=this.convertPropsToFields();return Object(J.jsxs)("div",{children:[this.renderActionModal(!0),Object(J.jsx)("div",{className:"seo-description",children:Object(i.a)("seoDescriptionExt")}),Object(J.jsx)(h.a,{label:Object(i.a)("pages"),children:Object(J.jsx)(p.a,{onPageChange:this.handlePageChange,selectedPageId:t})}),Object(J.jsx)(k.a,{fields:s,onChange:this.handleFieldChange}),e&&this.renderUpgrade()]})}convertPropsToFields(){const{pages:e}=this.props,t=e.find(e=>e.get("id")===this.state.selectedPageId)||Object(r.Map)();return Object(r.List)([Object(r.Map)({type:X.TEXT,fieldTitle:Object(i.a)("headline"),property:j,state:t.get("title")}),Object(r.fromJS)({type:X.MULTILINE,fieldTitle:Object(i.a)("description"),property:f,id:"description",state:t.getIn(["properties","description"]),mutatorSettings:{maxCount:160,showValidationText:!1}})])}}n()($,"contextType",P.b);t.default=Object(c.connect)(e=>{const t=Object(I.b)(e)[x.a.SEO],s=Object(C.r)(e),a=Object(E.o)(e,"enableSeoCallToAction"),n=Object(T.c)(e),i=Object(A.a)(n),o=Object(C.C)(e),c=(t||s)&&!o,r=!t&&(!s||o)&&a&&!i;return{accountId:Object(N.kb)(e),autoUpgrade:s&&!t,currentPageId:String(Object(v.d)(e)),domain:Object(N.Z)(e),isCallToActionEnabled:a,market:Object(S.o)(e),pages:Object(v.l)(e),rootDomain:Object(E.F)(e),shopperId:Object(T.e)(e),resellerId:n,showSEO:c,showUpgrade:r}})($)},Yu4X:function(e,t,s){"use strict";s.d(t,"a",(function(){return O}));var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=(s("rf6O"),s("dwxX")),r=s("JLhN"),l=s("q1hO"),d=s("Uuec"),u=s("mA/2"),p=s("u1xw"),h=s("Z3IU"),g=s("aJpR"),b=s("GZJP"),m=s("nKUr");class O extends i.PureComponent{constructor(){super(...arguments)}_handleClose(e,t){const s=e?d.c.edit_site.ok_button_on_max_files_uploaded_confirmation:d.c.edit_site.close_button_on_max_files_uploaded_confirmation;this.context.executeAction(u.a),Object(c.c)({code:s,domEvent:t})}render(){const{modalTitle:e,maxFileCount:t}=this.props;return Object(m.jsx)(b.a,{className:"max-file-uploaded-modal",showCloseOnTop:!0,closeOnTopClick:this._handleClose.bind(this,!1),children:Object(m.jsx)(g.a,{theme:"danger",title:e,description:Object(o.a)("maxFilesSelectedDescription",{maxSelected:t}),children:Object(m.jsx)(h.a,{children:Object(m.jsx)(r.a,{theme:"primary",label:"ok",dataAid:l.a.MAX_FILES_UPLOADED_MODAL_OK,onClick:this._handleClose.bind(this,!0)})})})})}}n()(O,"contextType",p.b),n()(O,"defaultProps",{modalTitle:"maxFilesSelected"})},Z8Lr:function(e,t,s){"use strict";var a=s("lSNA"),n=s.n(a),i=(s("Mpm1"),s("hcUJ")),o=s("cDcd"),c=s("TSYQ"),r=s.n(c),l=s("/MKj"),d=(s("JPcv"),s("dwxX")),u=s("hplg"),p=s("q1hO"),h=s("H4Ah"),g=s("L2pB"),b=s("wqHn"),m=s("OpJB"),O=s("u1xw"),j=s("j59i"),f=s("nKUr");const{DropdownItem:x,DropdownControl:_}=u.Dropdown;class S extends o.PureComponent{constructor(...e){super(...e),n()(this,"handleDropdownToggle",e=>{const{dropdownOpenEventId:t}=this.props;e&&t&&Object(d.c)({code:t})}),n()(this,"handleManagePages",e=>{e.stopPropagation(),this.context.executeAction(m.a,{routeName:h.a.EDIT_PAGES}),Object(d.c)({code:g.MANAGE_PAGES_LINK})})}getSelectedOrCurrentPage(){const{currentPage:e,pages:t,selectedPageId:s}=this.props;return s?t.find(e=>e.get("id")===s):e}renderItem(e){const t=e.get("name");return Object(f.jsx)("div",{className:"item-name","data-aid":`${p.a.PAGES_DROPDOWN}_${t}`,children:t})}renderDropdownItems(e){const t=this.getSelectedOrCurrentPage(),s=t&&t.get("id");return e.map(e=>Object(f.jsx)(x,{active:e.get("id")===s,href:null,value:e.get("id"),children:this.renderItem(e)},e.get("id"))).toArray()}renderAddPageLink(){return Object(f.jsx)(x,{className:"pages-dropdown-fixed-link-item",href:null,children:Object(f.jsx)(j.a,{className:"pages-dropdown-add-page-link-button fs-base",showIcon:!0})})}renderManagePagesLink(){return Object(f.jsx)(x,{className:"pages-dropdown-fixed-link-item",href:null,children:Object(f.jsx)(u.Button,{design:"inline",className:"pages-dropdown-manage-pages-link fs-14",onClick:this.handleManagePages,"data-aid":p.a.MANAGE_PAGES_LINK,text:Object(i.a)("managePages")})})}render(){const{pages:e,onPageChange:t,className:s}=this.props,a=this.getSelectedOrCurrentPage();return a?Object(f.jsx)("div",{className:r()("pages-dropdown custom-dropdown",s),children:Object(f.jsxs)(u.Dropdown,{id:"websites-manage-pages-dropdown",type:"select",value:a.get("id"),enableFullscreen:!1,onChange:t,onToggle:this.handleDropdownToggle,children:[Object(f.jsx)(_,{children:this.renderItem(a)}),this.renderDropdownItems(e),this.renderManagePagesLink()]})}):null}}n()(S,"contextType",O.b);t.a=Object(l.connect)(e=>({pages:Object(b.g)(e),currentPage:Object(b.b)(e)}))(S)},a4GI:function(e,t,s){},a5nd:function(e,t,s){},bD7m:function(e,t,s){"use strict";var a=s("tLQC"),n=s("GCMo");e.exports=function(e){return"mapbox"===(e&&e.provider?e.provider:"google").toLowerCase()?a(e):n(e)}},bKdC:function(e,t,s){"use strict";var a=s("5lD2"),n=s("dwxX"),i=s("HI5H"),o=s("L2pB"),c=s("3Rla");const{UPDATE_NAVIGATION:r}=i.a;t.a=function(e,t){const s=e.getState(),i=Object(c.v)(s),l=Object(c.nb)(s).toJS(),d=(u=l,(p=t.navigation).map(e=>{if(e.id)return e;if(!Object(a.includes)(u,e)){const t=u.find(t=>t.id===e);return t?{id:e,navigation:t.navigation.filter(e=>!Object(a.includes)(e,p))}:e}return e}));var u,p;return!i||Object(a.isEqual)(l,d)||(Object(n.c)({code:o.REORDER_PAGE_SUCCESS}),e.dispatch({type:r,payload:{navigation:d}})),Promise.resolve()}},"cm+F":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},n=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),i=r(s("cDcd")),o=r(s("TSYQ")),c=r(s("XF+8"));function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onChange",value:function(){this.props.onChange(this.refs.input.value)}},{key:"onInputKeyDown",value:function(e){switch(e.which){case 40:e.preventDefault(),this.props.onNext();break;case 38:e.preventDefault(),this.props.onPrev();break;case 13:e.preventDefault(),this.props.onSelect();break;case 9:this.props.onSelect();break;case 27:this.props.onEscape()}}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"render",value:function(){var e=(0,c.default)(this.props),t=(0,o.default)("geosuggest__input",this.props.className);return i.default.createElement("input",a({className:t,ref:"input",type:"text"},e,{value:this.props.value,onKeyDown:this.onInputKeyDown.bind(this),onChange:this.onChange.bind(this),onFocus:this.props.onFocus.bind(this),onBlur:this.props.onBlur.bind(this)}))}}]),t}(i.default.Component);u.defaultProps={className:"",value:"",onChange:function(){},onFocus:function(){},onBlur:function(){},onNext:function(){},onPrev:function(){},onSelect:function(){},onEscape:function(){}},t.default=u},dSby:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={external:"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",inline:'(adsbygoogle = window.adsbygoogle || []).push({\n    google_ad_client: "_ad_client_",\n    enable_page_level_ads: true\n  });'};t.default=function(e){if(!e)return{isValid:!1,message:"Missing script"};var t=e.match(/ca-pub-[\d]*/i);if(!t)return{isValid:!1};var s=t[0].trim().toLowerCase();return{isValid:!0,snippet:{external:a.external,inline:a.inline.replace("_ad_client_",s)}}}},dVvk:function(e,t,s){"use strict";s.r(t);s("a5nd");var a=s("hcUJ"),n=s("cDcd"),i=s("/MKj"),o=s("DCtA"),c=s("H4Ah"),r=s("4ujt"),l=s("Sllw"),d=s("ejzi"),u=s("OpJB"),p=s("C48V"),h=s("n4ap"),g=s("cmhP"),b=s("peh1"),m=s("+fTh"),O=s.n(m),j=s("q1hO"),f=s("Uuec"),x=s("h5oJ"),_=s("L2pB"),S=s("Vmlt"),T=s("xkYB"),E=s("SMay"),I=s("3Rla");const v=O()({SITE:null,TRACKING:null,RESOURCES:null});const C=Object(b.createSelector)(e=>Object(T.b)(e)[x.a.ADS],S.K,e=>Object(h.B)(e)&&Object(E.o)(e,"enableFeedback"),e=>Object(E.o)(e,"enableDisplayAds"),e=>Object(E.o)(e,"enableCookieBanner"),e=>Object(h.B)(e)?Object(E.r)(e):null,e=>Object(E.o)(e,"enablePinterestMeta"),S.t,I.N,e=>Object(E.o)(e,"renameSEOSetting"),(e,t,s,a,n,i,o,r,l,d)=>{const u=function(e){return{[c.a.EDIT_SETTINGS_BUSINESS_PROFILE]:{id:j.a.BUSINESS_PROFILE,title:"businessProfile",trafficId:f.c.editor_side_menu.launch_business_profile_settings,group:v.SITE},[c.a.EDIT_SETTINGS_BUSINESS_PROFILE_CATEGORY]:{id:j.a.BUSINESS_PROFILE_CATEGORY,showPivot:!1,group:v.SITE},[c.a.EDIT_SETTINGS_SOCIAL_ACCOUNTS]:{id:j.a.SOCIAL_ACCOUNTS,title:"socialMediaLinks",trafficId:f.c.editor_side_menu.launch_social_account_settings,group:v.SITE},[c.a.EDIT_SETTINGS_FAVICON]:{id:j.a.FAVICON,title:"favicon",trafficId:f.c.editor_side_menu.launch_favicon_settings,group:v.SITE},[c.a.EDIT_SETTINGS_USER_PANEL_SEO]:{id:j.a.USER_PANEL_SEO,title:e?"seoLabel":"searchEngineOptimization",isEditField:!1,trafficId:f.c.editor_side_menu.launch_seo_settings,group:v.SITE,mixpanelEventId:_.SEO_PIVOT_IN_SETTINGS_CLICK},[c.a.EDIT_SETTINGS_GOOGLE_TRANSLATE]:{id:j.a.GOOGLE_TRANSLATE,title:"googleTranslate",trafficId:f.c.editor_side_menu.launch_google_translate_settings,group:v.SITE},[c.a.EDIT_SETTINGS_COOKIE_BANNER]:{id:j.a.COOKIE_BANNER,title:"cookieBanner",trafficId:f.c.editor_side_menu.launch_cookie_banner_settings,group:v.TRACKING},[c.a.EDIT_SETTINGS_GOOGLE_AN]:{id:j.a.GOOGLE_AN,title:"googleAnalytics",trafficId:f.c.editor_side_menu.launch_google_analytics_settings,group:v.TRACKING},[c.a.EDIT_SETTINGS_BACKUP_RESTORE]:{id:j.a.BACKUP_RESTORE,title:"siteHistory",trafficId:f.c.editor_side_menu.launch_backup_restore_settings,group:v.SITE},[c.a.EDIT_SETTINGS_FACEBOOK_PIXEL]:{id:j.a.FACEBOOK_PIXEL,title:"facebookPixel",trafficId:f.c.editor_side_menu.launch_facebook_pixel_settings,group:v.TRACKING},[c.a.EDIT_SETTINGS_FACEBOOK_META]:{id:j.a.FACEBOOK_META,title:"facebookMeta",trafficId:f.c.editor_side_menu.launch_facebook_pixel_settings,group:v.TRACKING},[c.a.EDIT_SETTINGS_PINTEREST_META]:{id:j.a.PINTEREST_META,title:"pinterestMeta",trafficId:f.c.editor_side_menu.launch_facebook_pixel_settings,group:v.TRACKING},[c.a.EDIT_SETTINGS_USER_PANEL_HELP]:{id:j.a.USER_PANEL_HELP,title:"help",target:"_blank",isEditField:!1,trafficId:f.c.editor_side_menu.launch_gd_help,actionButtonText:"open",group:v.RESOURCES,ignoreArrow:!0},[c.a.EDIT_SETTINGS_USER_PANEL_FEEDBACK]:{id:j.a.USER_PANEL_FEEDBACK,title:"feedback",isEditField:!1,trafficId:f.c.editor_side_menu.launch_uservoice_feedback,group:v.RESOURCES,ignoreArrow:!0},[c.a.EDIT_SETTINGS_DISPLAY_ADS]:{id:j.a.DISPLAY_ADS,title:"googleAdSense",trafficId:f.c.editor_side_menu.launch_display_ads_settings,group:v.TRACKING}}}(d);if(l||delete u[c.a.EDIT_SETTINGS_GOOGLE_TRANSLATE],n||delete u[c.a.EDIT_SETTINGS_COOKIE_BANNER],t||delete u[c.a.EDIT_SETTINGS_BACKUP_RESTORE],o||delete u[c.a.EDIT_SETTINGS_PINTEREST_META],i?u[c.a.EDIT_SETTINGS_USER_PANEL_HELP].href=i:delete u[c.a.EDIT_SETTINGS_USER_PANEL_HELP],s||delete u[c.a.EDIT_SETTINGS_USER_PANEL_FEEDBACK],a&&e||delete u[c.a.EDIT_SETTINGS_DISPLAY_ADS],r){const e={[c.a.EDIT_SETTINGS_USER_PANEL_SEO]:x.a.SEO,[c.a.EDIT_SETTINGS_DISPLAY_ADS]:x.a.ADS};Object.keys(e).forEach(t=>{t in u&&e[t]in r&&(u[t].isTransitionable=!0)})}return u});var N=s("7xSL"),A=(s("mpTE"),s("nYho")),y=s("TSYQ"),P=s.n(y),k=s("hplg"),w=s("dwxX"),L=s("c9wG"),M=s("vgKe"),D=(s("vNJ6"),s("40A7"),s("f91B")),B=s.n(D),R=s("GZJP"),U=s("lvcY"),G=s("75c+"),F=s("C84Q"),K=s("aJpR"),V=s("nKUr");var H=function(){return Object(V.jsx)(K.a,{children:Object(V.jsxs)("div",{className:"flex flex--column flex--abs-center",children:[Object(V.jsx)(F.a,{size:"xlg"}),Object(V.jsx)("div",{className:"modal-spinner-title font-primary-bold text-black",children:Object(a.a)("unpublishingProgressTitle")}),Object(V.jsx)("div",{className:"modal-spinner-description",children:Object(a.a)("justAMomentNotification")})]})})},W=s("JLhN"),J=s("mA/2"),Y=s("Z3IU");var q=()=>{const e=Object(N.a)();return Object(V.jsx)(K.a,{title:"unpublishModalSuccessTitle",description:"unpublishModalSuccessDescription",children:Object(V.jsx)(Y.a,{children:Object(V.jsx)(W.a,{theme:"primary",label:"ok",onClick:()=>{e(J.a)},dataAid:j.a.UNPUBLISH_SUCCESS_OK_BUTTON,trafficId:f.c.editor_unpublish_modal.unpublish_success_ok_button})})})},X=(s("0bpF"),s("AbpD")),$=s("a8SQ"),z=s("HI5H"),Q=s("28sP"),Z=s("kUj2"),ee=s("t+uG");var te=function(e,t){const{websiteId:s}=t;return e.executeAction(Z.a,{url:ee.H,segments:{websiteId:s},method:"post",metadata:{type:U.a.UNPUBLISH_WEBSITE,param:s},reauthStatusCodes:[401]})};var se=Object($.b)((function(e){const t=e.getState(),s=Object(I.y)(t);return e.executeAction(X.a).then(()=>e.executeAction(te,{websiteId:s})).then(t=>{const s={[Q.a.LAST_UNPUBLISH_DATE]:t.lastUnpublishSuccessUtcDateTime};e.dispatch({type:z.a.SET_WEBSITE_PROPERTIES,payload:s}),Object(w.d)(_.UNPUBLISH_SUCCESS)}).catch(e=>{throw Object(w.d)(_.UNPUBLISH_ERROR),e})}),U.a.UNPUBLISH_WEBSITE);const ae={start:()=>{const e=Object(N.a)(),t=Object(i.useSelector)(h.B);return Object(V.jsx)(K.a,{title:"unpublishModalTitle",description:"unpublishModalDescription",children:Object(V.jsxs)(Y.a,{className:P()({"flex--no-grow flex--center":t}),children:[Object(V.jsx)(W.a,{theme:"primary",label:"unpublishModalYesBtn",onClick:()=>{e(se)},dataAid:j.a.UNPUBLISH_BUTTON,trafficId:f.c.editor_unpublish_modal.unpublish_button,className:P()({"mr-3":t})}),Object(V.jsx)(W.a,{theme:"inline",label:"unpublishModalCancelBtn",onClick:()=>{e(J.a),Object(w.c)({code:_.UNPUBLISH_CANCEL_BUTTON})},dataAid:j.a.UNPUBLISH_CANCEL_BUTTON,trafficId:f.c.editor_unpublish_modal.unpublish_cancel_button})]})})},error:()=>{const e=Object(N.a)();return Object(V.jsx)(K.a,{title:"unpublishingModalErrorTitle",description:"unpublishingModalResellerErrorDescription",children:Object(V.jsxs)(Y.a,{children:[Object(V.jsx)(W.a,{theme:"primary",label:"unpublishingModalTryAgainBtn",onClick:()=>{e(se),Object(w.c)({code:_.UNPUBLISH_TRY_AGAIN_BUTTON})},dataAid:j.a.UNPUBLISH_BUTTON,trafficId:f.c.editor_unpublish_modal.unpublish_try_again_button}),Object(V.jsx)(W.a,{theme:"inline",label:"cancel",onClick:()=>e(J.a),dataAid:j.a.UNPUBLISH_CANCEL_BUTTON,trafficId:f.c.editor_unpublish_modal.unpublish_error_cancel_button})]})})},success:q,inprogress:H};var ne=()=>{const[e,t]=Object(n.useState)("start"),s=Object(i.useSelector)(e=>Object(G.f)(e,U.a.UNPUBLISH_WEBSITE)),a=Object(i.useSelector)(e=>Object(G.e)(e,U.a.UNPUBLISH_WEBSITE));Object(n.useEffect)(()=>s||a||"inprogress"!==e?s?t("inprogress"):!s&&a&&"start"!==e?t("error"):void 0:t("success"),[s,a,e]);const o=ae[e];return Object(V.jsx)(R.a,{showCloseOnTop:"inprogress"!==e,children:Object(V.jsx)(o,{})})},ie=s("Yijx");var oe=function(e){return e.executeAction(ie.a,{modal:Object(V.jsx)(ne,{})})},ce=s("pENX");const re="s114j4zx";var le=function(){const e=Object(N.a)(),t=Object(i.useSelector)(h.o),s=Object(i.useSelector)(I.S),n=Object(i.useSelector)(I.Lb),o=s?new Date(s).toLocaleDateString(t,{month:"short",year:"numeric",day:"numeric"}):"";return Object(V.jsx)("div",{className:P()("flex flex--space-between bc-faint settings-publish-information",re),children:n?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{children:[Object(a.a)("notPublishedLabel")," ",Object(V.jsx)("p",{className:"text-muted m-0",children:Object(a.a)("notPublishedLabelSubText")})]}),Object(V.jsx)(k.Button,{onClick:function(){e(ce.a,{eventOriginKey:"editor_side_menu.settings",publishImmediately:!1}),Object(w.c)({code:_.PUBLISH_SITE_FROM_SETTINGS})},className:"publish-link",size:"small","data-aid":j.a.SETTINGS_PUBLISH_LINK,design:"inline",text:Object(a.a)("publish")})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("span",{className:"mr-1",children:Object(a.a)("lastPublishedLabel")}),Object(V.jsx)("span",{className:"color-primary",children:Object(V.jsx)(B.a,{width:18,height:18})}),Object(V.jsxs)("p",{className:"text-muted m-0",children:[Object(a.a)("lastPublishedLabelSubText")," ",o]})]}),Object(V.jsx)(k.Button,{onClick:()=>{e(oe),Object(w.c)({code:_.UNPUBLISH_SITE_FROM_SETTINGS})},className:"unpublish-link",size:"small",design:"inline","data-aid":j.a.SETTINGS_UNPUBLISH_LINK,text:Object(a.a)("unpublishCTA")})]})})};s("eTq9");const de="editor.settings";var ue=function(){const e=Object(N.a)(),t=Object(i.useSelector)(S.y),s=Object(i.useSelector)(S.I),o=Object(i.useSelector)(I.Z),c=Object(i.useSelector)(M.f),r=Object(i.useSelector)(I.B),l=Object(i.useSelector)(I.ub),d=Object(i.useSelector)(S.i),u=o||c||"",p=Object(i.useSelector)(S.z);if(Object(n.useEffect)(()=>{d&&Object(w.c)({code:_.EDITOR_SETTINGS_DOMAIN_PAYWALL_IMPRESSION,source:de})},[d]),!s&&!t)return null;const h=!d||l&&p;return Object(V.jsxs)("div",{className:"settings-domain-information",children:[Object(V.jsx)("p",{className:"text-muted fs-small m-4 settings-content-heading",children:Object(a.a)("publishToMyDomain")}),Object(V.jsxs)(V.Fragment,{children:[s&&Object(V.jsx)(le,{}),t&&Object(V.jsxs)("div",{className:"flex flex--space-between settings-domain-content",children:[h&&Object(V.jsx)("p",{className:"text-ellipsis bold",children:Object(A.toUnicode)(u)}),Object(V.jsx)(k.Button,{onClick:()=>{Object(w.c)({code:_.SIDE_SETTINGS_LAUNCH_DOMAIN_SETTINGS,source:de}),e(L.a,{isFreeDomainOffer:p,hasDomainPaywall:d,source:de})},className:P()({"mb-20":d}),design:"inline",size:"small","data-aid":j.a.DOMAIN,text:h?Object(a.a)("manage"):r?Object(a.a)("connectDomainName",{domainName:r}):Object(a.a)("connectDomain")})]})]})]})};t.default=function(){const e=Object(N.a)(),t=Object(i.useSelector)(h.B),s=Object(i.useSelector)(g.k),n=Object(i.useSelector)(C),b=[{id:v.SITE,title:Object(a.a)("siteProfile")},{id:v.TRACKING,title:Object(a.a)("analyticsAndTracking")}];t&&b.push({id:v.RESOURCES,title:Object(a.a)("resources")});const m=b.map(t=>{const i=Object.keys(n).filter(e=>{const s=n[e];return s.group===t.id&&!1!==s.showPivot});return Object(V.jsxs)("div",{className:"mb-35 setting-content-pivot-list",children:[Object(V.jsx)("p",{className:"text-muted fs-small m-4 settings-content-heading",children:t.title}),Object(V.jsx)(l.a,{children:i.map((t,i)=>{const l=n[t];return Object(V.jsx)(r.a,{title:l.title?Object(a.a)(l.title):void 0,ignoreArrow:l.ignoreArrow,id:l.id,isReseller:s,trafficId:l.trafficId,isEditField:!1!==l.isEditField,href:l.href,target:l.target,onClick:()=>function(t){t===c.a.EDIT_SETTINGS_USER_PANEL_FEEDBACK?e(d.a,{params:[["show",{mode:"smartvote",accent_color:"#77C043",position:"bottom-right"}]]}):t===c.a.EDIT_SETTINGS_COOKIE_BANNER?e(p.a,{widgetType:o.constants.widgetTypes.COOKIE_BANNER}):n[t].href||e(u.a,{routeName:t})}(t),actionButtonText:l.actionButtonText,route:l.route,className:0===i?"single-pivot":"",isCollapsed:!0,isTransitionable:l.isTransitionable,mixpanelEventId:l.mixpanelEventId},i)})})]},t.id)});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ue,{}),m]})}},eTq9:function(e,t,s){},ekZf:function(e,t,s){"use strict";var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("JPcv"),r=s("DCtA"),l=s("hplg"),d=s("q1hO"),u=s("7Fxu"),p=s("IsWw"),h=s("pENX"),g=s("CC3A"),b=s("TQMK"),m=s("u1xw"),O=s("OhOa"),j=s("nKUr");const f=r.constants.editors;class x extends i.PureComponent{constructor(e){super(...arguments),n()(this,"pasteButtonClick",()=>{this.setState({pasteNewCode:!0,removeCode:!1,isNewCodeValid:!1,publishClicked:!1})}),n()(this,"removeButtonClick",()=>{const{propertyName:e,defaultPropertyValue:t}=this.props;this.setState({removeCode:!0,publishClicked:!1}),this.context.executeAction(p.a,{[e]:t}),this.context.executeAction(g.a,{show:!0})}),n()(this,"publishButtonClick",()=>{this.setState({publishClicked:!0,pasteNewCode:!1}),this.context.executeAction(h.a,{eventOriginKey:this.props.publishTrafficId})}),n()(this,"displayError",()=>{this.setState({errors:[this.props.errorMessage]}),this.context.executeAction(g.a,{show:!1})}),n()(this,"handleValidParseResult",(e,t)=>{this.setState({isNewCodeValid:!0,errors:[]}),this.props.handleValidCode(e,t)}),n()(this,"handleChange",(e,t)=>{const{isValid:s,parseResult:a}=this.props.parseCode(t,this.props.metaSettingsType);s?this.handleValidParseResult(e,a):this.displayError()}),this.state={firstTimeAddition:!e.hasSavedOptions,errors:[],removeCode:!1,pasteNewCode:!1,isNewCodeValid:!1,publishClicked:!1}}convertPropsToFields(){return Object(c.List)([Object(c.Map)({type:this.props.fieldType||f.MULTILINE,fieldTitle:this.props.sectionTitle,fieldPlaceholder:this.props.codePlaceholder,property:this.props.propertyName,state:"",errors:this.state.errors})])}render(){const{hasSavedOptions:e,className:t}=this.props,{pasteNewCode:s,isNewCodeValid:a,removeCode:n,firstTimeAddition:i,publishClicked:c}=this.state,r=(s||!e)&&!a&&!n,p=e&&!n&&!s&&(!i||c)&&Object(j.jsx)(u.a,{type:"success",className:"ml-20 mr-20",dataAid:d.a.CODE_INPUT_SNIPPET_PRESENT,message:this.props.codePresentMessage}),h=a&&!n&&!c&&Object(j.jsx)(u.a,{type:"warning",className:"ml-20 mr-20 mt-15",dataAid:d.a.CODE_INPUT_SNIPPET_SAVED,message:this.props.successMessage}),g=n&&Object(j.jsx)(u.a,{type:c?"success":"warning",className:"ml-20 mr-20 mt-15",dataAid:d.a.CODE_INPUT_SNIPPET_REMOVED,message:this.props.clearCodeMessage}),m=(n||a)&&Object(j.jsx)(b.a,{size:"small",className:"mb-15 ml-20",onClick:this.publishButtonClick,dataAid:d.a.CODE_INPUT_PUBLISH_BUTTON,text:Object(o.a)("publishNow")}),f=(!r||a)&&!n&&Object(j.jsx)(l.Button,{className:"ml-20 mr-20 mb-15",design:"critical",size:"small",onClick:this.removeButtonClick,"data-aid":d.a.CODE_INPUT_REMOVE_BUTTON,"data-traffic2":this.props.removeCodeTrafficId,text:Object(o.a)("clearCode")}),x=(!r&&!a||n)&&Object(j.jsx)(l.Button,{className:"btn-dark ml-20 mb-15",design:"secondary",size:"small",onClick:this.pasteButtonClick,"data-aid":d.a.CODE_INPUT_ADD_BUTTON,"data-traffic2":this.props.pasteNewCodeTrafficId,text:Object(o.a)("pasteNewCode")});return Object(j.jsxs)("div",{className:"settings-content",children:[r?Object(j.jsx)(O.a,{fields:this.convertPropsToFields(),onChange:this.handleChange}):Object(j.jsx)("p",{className:t||"settings-message mt-15",children:Object(j.jsx)("strong",{children:this.props.sectionTitle})}),p,h,g,Object(j.jsxs)("div",{className:"mt-15",children:[m,x,f]})]})}}n()(x,"contextType",m.b),t.a=x},enMK:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s("5lD2");function n(e){return"number"==typeof e?""+e:e}function i(e,t){if(void 0===e)return null;if(Object(a.isObject)(e)&&void 0!==e.value&&Object.keys(e).length>0){const s=Object(a.reduce)(e,(s,a,i)=>(void 0!==e[i]&&("value"===i&&(i=t.property),s[i]=n(a)),s),{});if(Object.keys(s).length>0)return s}return{[t.property]:n(e)}}},euNs:function(e,t,s){"use strict";const a=s("2X3e");e.exports=a("play","false")},f6xQ:function(e,t,s){},flSk:function(e,t,s){"use strict";e.exports={fixtures:[],getSuggestLabel:function(e){return e.description},skipSuggest:function(){}}},gp2B:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(s("cDcd")),n=o(s("TSYQ")),i=o(s("3+nF"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.isHidden,s=void 0===t||t,o=e.suggests,c=void 0===o?[]:o,r=e.activeSuggest,l=e.onSuggestMouseDown,d=void 0===l?function(){}:l,u=e.onSuggestMouseOut,p=void 0===u?function(){}:u,h=e.onSuggestSelect,g=void 0===h?function(){}:h,b=(0,n.default)("geosuggest__suggests",{"geosuggest__suggests--hidden":s});return a.default.createElement("ul",{className:b},c.map((function(e){var t=r&&e.placeId===r.placeId;return a.default.createElement(i.default,{key:e.placeId,className:e.className,suggest:e,isActive:t,onMouseDown:d,onMouseOut:p,onSelect:function(){return g(e)}})})))}},grwd:function(e,t,s){},iAHy:function(e,t,s){},iM3s:function(e,t,s){"use strict";s("cDcd");var a=s("AiBc"),n=s("4NvJ"),i=s("nKUr");const o=e=>e.trim();t.a=function(e){const{label:t,disabled:s,value:c,onChange:r,onBlur:l,onKeyPress:d,validationErrorMsg:u,automationId:p}=e;return Object(i.jsx)(n.a,{id:p,label:t,value:c,onChange:r,onBlur:l,onKeyPress:d,disabled:s,automationId:p,placeholder:"http://",validationErrorMsg:u||"ctaUrlError",strictValidation:!0,formatPastedValue:o,validationRegex:a.a})}},j59i:function(e,t,s){"use strict";s("GZej"),s("cDcd");var a=s("hcUJ"),n=s("QNf7"),i=s("hplg"),o=s("dwxX"),c=s("QZC8"),r=s.n(c),l=s("aMLi"),d=s("q1hO"),u=s("L2pB"),p=s("7xSL"),h=s("nKUr");const g=Object(n.styled)("span")({name:"PlusContainer",class:"p13kaywu"});t.a=function({showIcon:e,className:t}){const s=Object(p.a)();return Object(h.jsx)(i.Button,{design:"inline",className:t,"data-aid":d.a.PAGES_DROPDOWN_ADD_PAGE_LINK,onClick:e=>{e.preventDefault(),e.stopPropagation(),Object(o.c)({code:u.ADD_PAGE_DROPDOWN_BUTTON}),s(l.a)},icon:e?Object(h.jsx)(g,{children:Object(h.jsx)(r.a,{width:20,height:20})}):null,text:Object(a.a)("addPage")})},s("a4GI")},keKT:function(e,t,s){e.exports=s.p+"bcd73087bf470091b1793e6085859bb2.svg"},kgA6:function(e,t,s){"use strict";s.r(t);var a=s("lSNA"),n=s.n(a),i=(s("LbuZ"),s("vNJ6"),s("mQmU"),s("hcUJ")),o=s("cDcd"),c=s("/MKj"),r=s("TSYQ"),l=s.n(r),d=s("hplg"),u=s("dwxX"),p=s("f91B"),h=s.n(p),g=s("QnAF"),b=s.n(g),m=s("q1hO"),O=s("/OxC"),j=s("kUj2"),f=s("t+uG"),x=s("lvcY");var _=function(e,{websiteId:t,backupId:s,updatedMetadata:a}){return e.executeAction(j.a,{url:f.g,method:"patch",segments:{websiteId:t,backupId:s},metadata:{param:{websiteId:t,backupId:s},type:x.a.PATCH_BACKUP},data:a})},S=s("3Rla");var T=function(e,{backupId:t,updatedMetadata:s}){const a=Object(S.y)(e.getState());return Promise.resolve().then(()=>e.executeAction(_,{websiteId:a,backupId:t,updatedMetadata:s})).then(()=>e.executeAction(O.a))},E=s("Uuec"),I=s("72Em"),v=s("8zog");var C=function(e,{websiteId:t,backupId:s}){return e.executeAction(j.a,{url:f.e,method:"post",segments:{websiteId:t,backupId:s},metadata:{param:{websiteId:t,backupId:s},type:x.a.RESTORE_BACKUP}})},N=s("H4Ah"),A=s("MkBd"),y=s("+HT3"),P=s("qp4x");function k(e,{websiteId:t,backupId:s}){return Promise.resolve().then(()=>e.executeAction(C,{websiteId:t,backupId:s})).then(()=>{setTimeout(()=>{const t=Object(P.h)(e.getState()),s=Object(y.a)(N.a.WEBSITE,t);return e.executeAction(A.a,{url:s})},3e3)})}var w=s("Yijx"),L=s("JLhN"),M=s("mA/2");var D=function(e,{websiteId:t,backupId:s}){return e.executeAction(j.a,{url:f.e,method:"delete",segments:{websiteId:t,backupId:s},metadata:{param:{websiteId:t,backupId:s},type:x.a.DELETE_BACKUP}})};var B=function(e,{websiteId:t,backupId:s,maxBackups:a}){return Promise.resolve().then(()=>e.executeAction(D,{websiteId:t,backupId:s})).then(()=>e.executeAction(O.a,{websiteId:t,maxBackups:a}))},R=s("u1xw"),U=s("Z3IU"),G=s("aJpR"),F=s("GZJP"),K=s("nKUr");class V extends o.PureComponent{constructor(...e){super(...e),n()(this,"_handleClose",()=>{this.context.executeAction(M.a)}),n()(this,"_handleConfirmation",()=>{const{websiteId:e,backupId:t}=this.props;this.context.executeAction(B,{websiteId:e,backupId:t}),Object(u.c)({code:E.c.edit_site.delete_backup}),this._handleClose()})}render(){return Object(K.jsx)(F.a,{showCloseOnTop:!0,closeOnTopClick:this._handleClose,children:Object(K.jsx)(G.a,{title:Object(i.a)("backupDeleteModalTitle"),description:Object(i.a)("backupDeleteModalDescription"),children:Object(K.jsxs)(U.a,{children:[Object(K.jsx)(L.a,{theme:"critical",label:"backupDeleteModalConfirm",dataAid:m.a.DELETE_BACKUP_MODAL_CONFIRM_BUTTON,onClick:this._handleConfirmation}),Object(K.jsx)(L.a,{theme:"secondary",label:"backupDeleteModalCancel",dataAid:m.a.DELETE_BACKUP_MODAL_CANCEL_BUTTON,onClick:this._handleClose})]})})})}}n()(V,"contextType",R.b);var H=V,W=s("Olao"),J=s("oHq2");const Y=E.c.manage_backups_flyout;class q extends o.PureComponent{constructor(...e){super(...e),n()(this,"handleRenameSettingsClick",()=>{this.props.renameAction()}),n()(this,"handleDeleteSettingsClick",()=>{const{websiteId:e,backupId:t}=this.props;this.context.executeAction(w.a,{modal:Object(K.jsx)(H,{websiteId:e,backupId:t})})})}render(){const{flyoutEvent:e,onCloseFlyout:t}=this.props;return Object(K.jsxs)(J.a,{flyoutEvent:e,onCloseFlyout:t,dataAid:m.a.FLYOUT_KEBAB_MENU,children:[Object(K.jsx)(W.a,{onClick:this.handleRenameSettingsClick,"data-aid":m.a.BACKUP_FLYOUT_RENAME_OPTION,"data-traffic2":Y.rename_backup_option,children:Object(i.a)("backupFlyoutRename")}),Object(K.jsx)(W.a,{className:"text-danger",onClick:this.handleDeleteSettingsClick,"data-aid":m.a.BACKUP_FLYOUT_DELETE_OPTION,"data-traffic2":Y.delete_backup_option,children:Object(i.a)("backupFlyoutDelete")})]})}}n()(q,"contextType",R.b);var X=q,$=s("n4ap"),z=s("75c+");const Q=/^.*-generated/;class Z extends o.Component{constructor(){super(...arguments),n()(this,"restoreButtonClick",()=>{const{selected:e}=this.state,{backupResults:t}=this.props;if(t&&null!==e){Object(u.c)({code:E.c.edit_site.restore_backup});const{websiteId:s,backupId:a}=t[e];this.context.executeAction(k,{websiteId:s,backupId:a}),this.setState({backupRestoreInProgress:!0})}}),n()(this,"showSettingsClick",e=>{this.setState({flyoutEvent:{clientX:e.clientX,clientY:e.clientY}})}),n()(this,"handleRename",e=>{this.setState({renameActive:!0,renameValue:e.currentTarget.value})}),n()(this,"executeRenameAction",()=>{const{backupResults:e}=this.props,{selected:t,renameValue:s,originalValue:a}=this.state;if(null===t||s===a)return;const{backupId:n}=e[t];this.context.executeAction(T,{backupId:n,updatedMetadata:{name:s}}),this.setState({renameActive:!1})}),n()(this,"handleFocus",(e,t)=>{this.setState({renameActive:!0,renameValue:t,originalValue:t}),e.currentTarget.value="",e.currentTarget.value=t}),n()(this,"handleCancelRename",e=>{this.setState({renameActive:!1,renameValue:e})}),n()(this,"resolveBackupTileLabels",e=>{const t=Object(i.a)("backupRestoreAutomatic"),s=e.name.split("-");switch(e.type){case"PUBLISH":return`${t} - ${Object(i.a)("backupRestoreTypePublish")}`;case"RESTORE":return`${t} - ${Object(i.a)("backupRestoreTypeRestore")}`;case"RESET":return`${t} - ${Object(i.a)("backupRestoreTypeResetWebsite")}`;case"AUTO":return`${t} - ${Object(i.a)("backupRestoreType"+s[s.length-1])}`;case"USER":return""+Object(i.a)("backupRestoreManual");default:return Object(i.a)("backupRestoreTypeUnknown")}}),this.state={selected:null,renameValue:"",originalValue:"",flyoutEvent:null,renameActive:!1,finishLoadingBackup:!1,backupRestoreInProgress:!1},this.context.executeAction(O.a)}componentDidUpdate(e){this.state.finishLoadingBackup||!e.restoreInProgress||this.props.restoreInProgress||this.setState({finishLoadingBackup:!0}),e.publishInProgress&&!this.props.publishInProgress&&this.context.executeAction(O.a)}convertTimeStamp(e){const{market:t}=this.props,s=new Date,a=new Date(e),n=a.getUTCFullYear(),o={hour:"numeric",minute:"numeric"};if(s.toDateString()===a.toDateString())return`${Object(i.a)("today")}, ${a.toLocaleTimeString(t,o)}`;const c={month:"numeric",day:"numeric",year:n===s.getUTCFullYear()?void 0:"2-digit",...o};return a.toLocaleDateString(t,c)}setSelectedBackup(e){this.state.backupRestoreInProgress||this.state.renameActive||this.state.selected===e||this.setState({selected:e,flyoutEvent:null})}renderBackupList(){const{backupResults:e,restoreInProgress:t}=this.props,{selected:s,finishLoadingBackup:a}=this.state;return e.length?e.map((e,n)=>Object(K.jsx)("div",{id:"backup-"+n,className:l()("backup-result bg-faint",{selected:s===n,"fade-out":t||a}),children:this.renderBackupListItem(e,n)},n)):this.renderNoBackupFound()}renderNoBackupFound(){return Object(K.jsx)("div",{className:"flex flex--column flex--abs-center backup-result",children:Object(K.jsx)("div",{className:"backup-title width--100","data-aid":m.a.NO_BACKUPS_MESSAGE,children:Object(i.a)("noBackups")})})}renderBackupListItem(e,t){const{restoreInProgress:s}=this.props,{selected:a,renameActive:n,flyoutEvent:c,renameValue:r,originalValue:u}=this.state,p=a===t,g=p&&n;return Object(K.jsxs)("div",{className:"flex backup-index",onClick:this.setSelectedBackup.bind(this,t),onMouseEnter:this.setSelectedBackup.bind(this,t),children:[Object(K.jsx)("div",{className:l()("flex flex--grow flex--column flex--space-between",{"backup-info-container":!p}),children:g?this.renderBackupNameInput(e):Object(K.jsxs)(o.Fragment,{children:[Object(K.jsx)("div",{className:"backup-title",children:this.getParsedBackTitle(e)}),Object(K.jsx)("div",{className:"backup-type",children:this.resolveBackupTileLabels(e)})]})}),g&&Object(K.jsxs)("div",{className:"flex flex--row flex--abs-center",children:[Object(K.jsx)("div",{"data-aid":m.a.BACKUP_RESTORE_SAVE_RENAME_BUTTON,className:l()("save-rename-icon flex--abs-center",{disabled:r===u}),onClick:this.executeRenameAction,children:Object(K.jsx)(h.a,{width:14,height:14})}),Object(K.jsx)("div",{className:"cancel-rename-icon flex--abs-center",onClick:this.handleCancelRename.bind(this,e.name),children:Object(K.jsx)(b.a,{width:14,height:14})})]}),p&&!n&&Object(K.jsx)("div",{className:"flex flex--abs-center",children:s?Object(K.jsx)(d.Spinner,{size:"sm"}):Object(K.jsxs)(o.Fragment,{children:[Object(K.jsx)(d.Button,{id:"restore-"+t,design:"inline",size:"small",onClick:this.restoreButtonClick,"data-aid":m.a.BACKUP_RESTORE_BUTTON,text:Object(i.a)("restore")}),Object(K.jsx)("div",{onClick:this.showSettingsClick,"data-aid":"KEBAB_DOTS_"+t,className:"flex flex--abs-center kebab-menu",children:Object(K.jsx)(v.a,{width:26,height:28,icon:"whiteKababDots"})})]})}),p&&c&&Object(K.jsx)(X,{flyoutEvent:c,websiteId:e.websiteId,backupId:e.backupId,onCloseFlyout:()=>{this.setState({flyoutEvent:null})},renameAction:()=>{this.setState({renameActive:!0})}})]})}getParsedBackTitle(e){return Q.exec(e.name)||0===e.name.length?this.convertTimeStamp(e.createDate):e.name}renderBackupNameInput(e){const{renameValue:t,renameActive:s}=this.state,a=this.getParsedBackTitle(e);return Object(K.jsx)("input",{type:"text",maxLength:30,autoFocus:!0,className:"bg-faint backup-name-input","data-aid":m.a.BACKUP_RENAME_INPUT,onChange:e=>this.handleRename(e),placeholder:Object(i.a)("backupRename"),value:s?t:a,onFocus:e=>this.handleFocus(e,a),onKeyPress:e=>{"Enter"===e.key&&this.executeRenameAction()}})}renderProgress(){const{finishLoadingBackup:e}=this.state,{restoreInProgress:t,isMobile:s,processingRequest:a}=this.props;if(a)return Object(K.jsx)(I.a,{isFullViewport:!0});if(!t&&!e)return null;const n=s?{left:"50%",transform:"translateX(-50%)"}:{};return Object(K.jsxs)("div",{className:"flex--abs-center flex--column restore-notification-container",style:{mobileStyles:n},children:[t?Object(K.jsx)(d.Spinner,{size:"lg"}):Object(K.jsx)(h.a,{width:14,height:14}),Object(K.jsx)("span",{className:"notification-text",children:Object(i.a)(t?"backupRestoreInProgress":"backupRestoreFinished")})]})}render(){const{processingRequest:e}=this.props;return Object(K.jsx)("div",{className:"flex flex--column backup-restore-settings",children:Object(K.jsxs)("div",{className:"settings-message",children:[this.renderProgress(),!e&&this.renderBackupList()]})})}}n()(Z,"contextType",R.b);t.default=Object(c.connect)((function(e){return{market:Object($.o)(e),isMobile:Object($.B)(e),backupResults:e.backup.backupResults,processingRequest:Object(z.f)(e,x.a.GET_WEBSITE_BACKUPS),restoreInProgress:Object(z.f)(e,x.a.RESTORE_BACKUP),publishInProgress:Object(z.f)(e,x.a.PUBLISH_WEBSITE)}}))(Z)},"lJ/R":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=s("+fTh"),i=(a=n)&&a.__esModule?a:{default:a};t.default=(0,i.default)({SOUNDCLOUD:null,GOOGLE_ADSENSE:null})},lxK0:function(e,t,s){"use strict";s.r(t);s("cDcd");var a=s("/MKj"),n=s("enMK"),i=s("28sP"),o=s("IsWw");const c={pinterest:"p:domain_verify",facebook:"facebook-domain-verification"};function r(e,t){const s=document.createElement("div");s.innerHTML=e;const a=s.querySelector(`meta[name="${c[t]}"]`);return a?{isValid:!0,parseResult:String(a.getAttribute("content"))}:{isValid:!1,parseResult:""}}var l=s("cmhP"),d=s("3Rla"),u=s("JVM4"),p=s("Q8KW"),h=s("7xSL"),g=s("hcUJ"),b=s("q1hO"),m=s("Uuec"),O=s("TSYQ"),j=s.n(O),f=s("ekZf"),x=s("nKUr");var _=e=>Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"settings-heading",children:e.mutatorHeading}),Object(x.jsx)("div",{className:"settings-link-container",children:Object(x.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:j()({"btn btn-sm btn-link":!e.isReseller}),href:e.hrefURL,"data-aid":e.dataAid,"data-traffic2":e.traffic2EventId,children:Object(x.jsx)("strong",{children:e.getCode})})}),Object(x.jsx)("div",{className:"settings-message",children:e.mutatorDescription}),Object(x.jsx)(f.a,{parseCode:e.extractMetaCode,handleValidCode:e.handleValidCode,errorMessage:e.errorMessage,successMessage:e.successMessage,codePresentMessage:e.codePresentMessage,clearCodeMessage:e.clearCodeMessage,sectionTitle:e.sectionTitle,codePlaceholder:e.codePlaceholder,removeCodeTrafficId:e.removeCodeTrafficId,pasteNewCodeTrafficId:e.pasteNewCodeTrafficId,publishTrafficId:e.publishTrafficId,hasSavedOptions:e.hasSavedOptions,propertyName:e.propertyName,defaultPropertyValue:"",metaSettingsType:e.metaSettingsType})]});var S=e=>Object(x.jsx)(_,{mutatorHeading:Object(g.a)("pinterestMetaMutatorHeading"),isReseller:e.isReseller,hrefURL:"https://help.pinterest.com/en/articles/claim-your-website",dataAid:b.a.PINTEREST_META_GET_CODE_LINK,traffic2EventId:m.c.editor_side_menu.redirect_to_get_pinterest_meta_code,getCode:Object(g.a)("getMetaCode"),mutatorDescription:Object(g.a)("pinterestMetaMutatorDescription"),extractMetaCode:e.extractMetaCode,handleValidCode:e.handleValidCode,errorMessage:"pinterestMetaErrorMessage",successMessage:Object(g.a)("pinterestMetaSuccessMessage"),codePresentMessage:Object(g.a)("pinterestMetaCodePresent"),clearCodeMessage:Object(g.a)("pinterestMetaClearCodeMessage"),sectionTitle:Object(g.a)("pinterestMeta"),codePlaceholder:Object(g.a)("pinterestMetaTagPlaceholder"),removeCodeTrafficId:m.c.editor_side_menu.pinterest_meta_code_removed,pasteNewCodeTrafficId:m.c.editor_side_menu.pinterest_meta_paste_new_code,publishTrafficId:m.c.editor_side_menu.pinterest_meta_publish_website,hasSavedOptions:e.hasSavedOptions,propertyName:i.a.PINTEREST_META_CODE,metaSettingsType:p.a.PINTEREST});var T=e=>Object(x.jsx)(_,{mutatorHeading:Object(g.a)("facebookMetaMutatorHeading"),isReseller:e.isReseller,hrefURL:"https://business.facebook.com/settings/owned-domains/",dataAid:b.a.FACEBOOK_META_GET_CODE_LINK,traffic2EventId:m.c.editor_side_menu.redirect_to_get_facebook_meta_code,getCode:Object(g.a)("getMetaCode"),mutatorDescription:Object(g.a)("facebookMetaMutatorDescription"),extractMetaCode:e.extractMetaCode,handleValidCode:e.handleValidCode,errorMessage:"facebookMetaErrorMessage",successMessage:Object(g.a)("pinterestMetaSuccessMessage"),codePresentMessage:Object(g.a)("facebookMetaCodePresent"),clearCodeMessage:Object(g.a)("pinterestMetaClearCodeMessage"),sectionTitle:Object(g.a)("facebookMeta"),codePlaceholder:Object(g.a)("facebookMetaTagPlaceholder"),removeCodeTrafficId:m.c.editor_side_menu.facebook_meta_code_removed,pasteNewCodeTrafficId:m.c.editor_side_menu.facebook_meta_paste_new_code,publishTrafficId:m.c.editor_side_menu.facebook_meta_publish_website,hasSavedOptions:e.hasSavedOptions,propertyName:i.a.FACEBOOK_META_CODE,metaSettingsType:p.a.FACEBOOK});t.default=e=>{const t=Object(h.a)(),s=Object(a.useSelector)(l.k),c=Object(a.useSelector)(d.v),g=e.metaSettingsType===p.a.PINTEREST?i.a.PINTEREST_META_CODE:i.a.FACEBOOK_META_CODE,b=c?c.getIn(["properties",g]):"",m=Boolean(b),O=e.metaSettingsType===p.a.PINTEREST?S:T;return Object(x.jsxs)("div",{children:[Object(x.jsx)(u.a,{}),Object(x.jsx)(O,{isReseller:s,extractMetaCode:r,handleValidCode:(e,s)=>{const a=Object(n.a)(s,e);a&&t(o.a,a)},hasSavedOptions:m})]})}},mQmU:function(e,t,s){},mpTE:function(e,t,s){},oI5j:function(e,t,s){},"p/89":function(e,t,s){"use strict";var a=s("dwxX"),n=s("H4Ah"),i=s("OpJB"),o=s("EjCk"),c=s("wqHn"),r=s("CC3A"),l=s("L2pB"),d=s("3Rla"),u=s("VaJo");const{EDIT_PAGES:p,EDIT_PAGE:h}=n.a;t.a=async function(e,t){const{externalUrl:s,isFlyoutMenu:n,routeName:g=p,templateId:b}=t,m=e.getState(),O=Object(d.i)(m);return s||n||!Object(c.r)(m)?e.executeAction(u.a,t).then(t=>(Object(a.c)({code:l.ADD_PAGE_SUCCESS,pageTemplateId:b,vertical:O}),s||n?e.executeAction(i.a,{routeName:p}):(function(){const e=document.querySelector(".browser-chrome, .widget-header");if(e){const{container:t,clientHeight:s}=Object(o.a)(e),a=(2*e.offsetTop-s)/2-e.offsetHeight;t.scrollTop=a}}(),e.executeAction(i.a,{routeName:g,params:{pageId:t.id}}).then(()=>{g===h&&e.executeAction(r.a,{show:!0})})))):Promise.reject(new Error("Cannot add page, page limit reached"))}},pfx2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},n=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),i=g(s("cDcd")),o=g(s("TSYQ")),c=g(s("GHx2")),r=g(s("EZbY")),l=g(s("XF+8")),d=g(s("bD7m")),u=g(s("cm+F")),p=g(s("gp2B")),h=s("5lD2");function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.showSuggests=(0,h.debounce)((function(){s.searchSuggests(),s.setState({isSuggestsHidden:!1})}),s.props.debounceInterval),s.pickAndSetTopSuggestion=s.pickAndSetTopSuggestion.bind(s),s.selectGeocodedSuggestion=(0,h.debounce)((function(){s.selectSuggest(null)}),s.props.debounceInterval),s.state={isSuggestsHidden:!0,previousInput:"",userInput:s.props.initialValue,activeSuggest:null,suggests:[],timer:null,position:{},fallbackToGeocode:"google"===e.provider},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initialValue!==e.initialValue&&this.setState({userInput:e.initialValue}),e.geoLocating&&this.setState({isSuggestsHidden:!0})}},{key:"componentDidMount",value:function(){this.setState({userInput:this.props.initialValue}),this.initializeProvider(),this.setState({isMounted:!0}),this.props.onInitialSuggestion&&Boolean(this.props.initialValue)&&this.geocodeSuggest({label:this.props.initialValue},this.props.onInitialSuggestion)}},{key:"initializeProvider",value:function(){switch(this.props.provider.toLowerCase()){case"mapbox":if(!L)return void console.error("Mapbox api was not found in the page.");this.MapboxClient=L.mapbox.geocoder("mapbox.places"),this.geoSuggestProvider=(0,d.default)({provider:"mapbox",client:this.MapboxClient});break;default:var e=this.props.googleMaps||window.google&&window.google.maps||this.googleMaps;if(!e)return void console.error("Google map api was not found in the page.");this.googleMaps=e,this.geoSuggestProvider=(0,d.default)({provider:"google",client:this.googleMaps})}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timer)}},{key:"onInputChange",value:function(e){var t=this;this.setState({userInput:e},(function(){t.showSuggests(),t.props.onChange(e),t.pickAndSetTopSuggestion("onChange")}))}},{key:"onInputFocus",value:function(){this.props.onFocus(),this.props.suggestOnFocus&&this.showSuggests()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"update",value:function(e){this.setState({userInput:e}),this.props.onChange(e)}},{key:"clear",value:function(){var e=this;this.setState({userInput:""},(function(){return e.hideSuggests()}))}},{key:"getLocation",value:function(e){return navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,console.warn)}},{key:"searchSuggests",value:function(){var e=this,t=this,s=this.props.navigatorPositionFunction||this.getLocation;if(s&&s((function(t){e.setState({position:t})})),!t.state.userInput||!t.geoSuggestProvider||t.state.userInput.length<this.props.searchStartThreshold)this.updateSuggests();else if(t.state.userInput!==t.state.previousInput){var a={input:this.state.userInput};a.props=this.props,a.position=this.state.position,this.setState({previousInput:this.state.userInput}),t.geoSuggestProvider.getSuggestions(a,(function(e,s){t.updateSuggests(s),t.props.autoActivateFirstSuggest&&t.activateSuggest("next")}))}else this.updateSuggests(t.state.suggests)}},{key:"updateSuggests",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({suggests:e}),this.state.fallbackToGeocode&&!e.length&&this.selectGeocodedSuggestion()}},{key:"hideSuggests",value:function(e){var t=this;if(!this.state.ignoreBlur){var s=setTimeout((function(){t.setState({isSuggestsHidden:!0})}),100);this.setState({timer:s})}e&&this.pickAndSetTopSuggestion(e)}},{key:"pickAndSetTopSuggestion",value:function(e){var t,s=this.state.suggests[0];s&&s.label&&(s.currentAddress=this.state.userInput,t=this,s.location&&s.location.lat&&s.location.lng?t.props[e](s):t.geoSuggestProvider.geocodeSuggest(s,(function(a,n){a?(console.error(a),t.props[e](s)):t.props[e](n)})))}},{key:"onInputBlur",value:function(){this.state.ignoreBlur||this.hideSuggests("onBlur")}},{key:"activateSuggest",value:function(e){if(this.state.isSuggestsHidden)this.showSuggests();else{for(var t=this.state.suggests.length-1,s="next"===e,a=null,n=0,i=0;i<=t;i++)this.state.suggests[i]===this.state.activeSuggest&&(n=s?i+1:i-1);this.state.activeSuggest||(n=s?0:t),n>=0&&n<=t&&(a=this.state.suggests[n]),this.setState({activeSuggest:a})}}},{key:"selectSuggest",value:function(e){e||(e={label:this.state.userInput});var t=this.state.userInput.length>e.label.length?this.state.userInput:e.label;if(this.setState({isSuggestsHidden:!0,userInput:t}),e.location)return e.currentAddress=this.state.userInput,this.setState({ignoreBlur:!1}),void this.props.onSuggestSelect(e);this.geocodeSuggest(e)}},{key:"geocodeSuggest",value:function(e,t){var s=t||this.props.onSuggestSelect;e.currentAddress=this.state.userInput,e.location&&e.location.lat&&e.location.lng?s(e):this.geoSuggestProvider.geocodeSuggest(e,(function(t,a){t?(console.error(t),s(e)):s(a)}))}},{key:"render",value:function(){var e=this,t=(0,l.default)(this.props),s=(0,o.default)("geosuggest",this.props.className);return i.default.createElement("div",{className:s},i.default.createElement(u.default,a({className:this.props.inputClassName,ref:"input",value:this.state.userInput,onChange:this.onInputChange.bind(this),onFocus:this.onInputFocus.bind(this),onBlur:this.onInputBlur.bind(this),onNext:function(){return e.activateSuggest("next")},onPrev:function(){return e.activateSuggest("prev")},onSelect:function(){return e.selectSuggest(e.state.activeSuggest)},onEscape:this.hideSuggests.bind(this)},t)),i.default.createElement(p.default,{isHidden:this.state.isSuggestsHidden,suggests:this.state.suggests,activeSuggest:this.state.activeSuggest,onSuggestMouseDown:function(){return e.setState({ignoreBlur:!0})},onSuggestMouseOut:function(){return e.setState({ignoreBlur:!1})},onSuggestSelect:this.selectSuggest.bind(this)}))}}]),t}(i.default.Component);b.propTypes=r.default,b.defaultProps=c.default,t.default=b},rlje:function(e,t,s){"use strict";t.a=function(e,{accountId:t,domain:s,market:a,resellerId:n,rootDomain:i,shopperId:o}){const c="https://searchenginevisibility."+i+"/externalappstart?account_uid="+encodeURIComponent(t||"")+"&plid="+encodeURIComponent(String(n))+"&shopper_id="+encodeURIComponent(o||"")+"&domain="+encodeURIComponent(s||"")+"&marketid="+encodeURIComponent(a||"")+"&appLink=VNEXT";return Promise.resolve().then(()=>{window.open(c,"_self")})}},"s+Qk":function(e,t,s){},sSOW:function(e,t,s){},sdO7:function(e,t,s){},tLQC:function(e,t,s){"use strict";var a=s("3hNz");e.exports=function(e){if(!e||!e.client)throw new Error("Missing required client property in options");return new a(e)}},tyho:function(e,t,s){"use strict";var a=s("lSNA"),n=s.n(a),i=s("cDcd"),o=s("hcUJ"),c=s("dwxX"),r=s("/MKj"),l=s("q1hO"),d=s("fZO1"),u=s("J9rY"),p=s("H4Ah"),h=s("L2pB"),g=s("OpJB"),b=s("5lD2"),m=s("kUj2"),O=s("t+uG");var j=function(e,{websiteId:t,pageId:s}){return e.executeAction(m.a,{url:O.s,method:"delete",segments:{websiteId:t,pageId:s}}).catch(e=>{if(404!==Object(b.get)(e,"response.status"))throw e})},f=s("AbpD"),x=s("CIKg"),_=s("wqHn"),S=s("3Rla"),T=s("NGq9"),E=s("a8SQ"),I=s("lvcY");const{EDIT_PAGES:v}=p.a,{DELETE_PAGE:C}=u.a,{APP_SET_FULL_ERROR_PAGE:N}=d.a;const A=Object(E.b)((function(e,{pageId:t}){const s=e.getState(),a=Object(T.d)(Object(S.v)(s)).toJS(),n=Object(_.d)(s),i=Object(_.l)(s).getIn([t,"properties","templateId"]),o=Object(S.i)(s),r=a.id,l=t===n?a.homepageId:n;return e.executeAction(f.a).then(()=>e.executeAction(j,{websiteId:r,pageId:t})).then(()=>e.executeAction(x.a)).then(()=>e.executeAction(g.a,{routeName:v,params:{pageId:l}})).then(()=>{Object(c.c)({code:h.DELETE_PAGE_SUCCESS,pageTemplateId:i,vertical:o}),e.dispatch({type:C,payload:{pageId:t}})}).catch(t=>{throw e.dispatch({type:N,payload:{error:t}}),t})}),I.a.DELETE_PAGE);var y=Object(E.c)("delete-page",A),P=s("h184"),k=s("5Dxt"),w=s("75c+"),L=s("n4ap"),M=s("mA/2"),D=s("u1xw"),B=s("6hm7"),R=s("nKUr");class U extends i.PureComponent{constructor(...e){super(...e),n()(this,"_handleDelete",e=>{const{pageId:t,onDelete:s,websiteId:a}=this.props;this.context.executeAction(P.a,{websiteId:a,backupReference:k.b}),this.context.executeAction(y,{pageId:t}),Object(c.c)({code:h.DELETE_PAGE_CONFIRM,domEvent:e.nativeEvent,pageId:t}),s&&s()})}componentDidUpdate(e){e.isDeletePending&&!this.props.isDeletePending&&this.context.executeAction(M.a)}getButtonLabel(e){const{isMobile:t}=this.props;return t?Object(o.a)("itemDeletionConfirmation",{itemName:Object(o.a)(e).toLowerCase()}):"delete"}getCopies(){const{isFlyoutMenu:e,isExternalUrl:t,itemName:s}=this.props;let a="deletePage",n=Object(o.a)("confirmItemDeletion",{itemName:`"${s}"`}),i=this.getButtonLabel("page");return e?(a="deleteDropDownMenu",n=Object(o.a)("confirmDropDownMenuDeletion",{itemName:`"${s}"`}),i=this.getButtonLabel("dropdownMenu")):t&&(a="deleteLink",i=this.getButtonLabel("link")),{title:a,description:n,buttonLabel:i}}render(){const{title:e,description:t,buttonLabel:s}=this.getCopies(),{isMobile:a}=this.props;return Object(R.jsx)(B.a,{title:e,buttonLabel:s,description:t,handleDelete:this._handleDelete,closeTrafficEvent:h.DELETE_PAGE_CANCEL,cancelTrafficEvent:h.DELETE_PAGE_CANCEL,cancelButtonDataAid:l.a.DELETE_PAGE_MODAL_CANCEL,deleteButtonDataAid:l.a.DELETE_PAGE_MODAL_DELETE,hideOnDelete:!1,bypassI18N:a,isMobile:a})}}n()(U,"contextType",D.b);t.a=Object(r.connect)(e=>({isDeletePending:Object(w.f)(e,I.a.DELETE_PAGE),isMobile:Object(L.B)(e)}))(U)},uIkT:function(e,t,s){"use strict";s.r(t);var a=s("cDcd"),n=s("hcUJ"),i=s("TSYQ"),o=s.n(i),c=s("DCtA"),r=s("/MKj"),l=s("enMK"),d=s("28sP"),u=s("IsWw"),p=s("q1hO"),h=s("Uuec");var g=function(e){const t=/fbq\('.*', '(\d*)'\);/g.exec(e),s=/src="https:\/\/www\.facebook\.com\/.*[?&]id=(\d*).*"/g.exec(e),a=/^[\d+]{15,}$/.exec(e),n=a?a[0]:null;return t&&s&&t[1]===s[1]||n?{isValid:!0,parseResult:s&&s[1]||n}:{isValid:!1,parseResult:""}},b=s("lSNA"),m=s.n(b),O=(s("5x04"),s("JPcv"),s("ejzi")),j=s("8/HY"),f=s("u1xw"),x=s("nKUr");class _ extends a.Component{constructor(...e){super(...e),m()(this,"onClick",e=>{e.preventDefault(),this.context.executeAction(O.a,{params:[["show",this.getUserVoiceSettings()]]})})}getUserVoiceSettings(){const{forumId:e,feedbackModalText:t,field:s}=this.props;let a={};if(s){const e=s.get("mutatorSettings").toJS();a=Object(j.b)({userVoiceStrings:e.userVoiceModal,forumId:e.forumId,position:e.position})}else t&&e&&(a=Object(j.b)({userVoiceStrings:t,forumId:e}));return a}render(){const{isMobile:e,field:t,className:s,linkText:a}=this.props;if(e)return null;const n=t?t.getIn(["mutatorSettings","feedbackLinkText"]):a||"";return Object(x.jsx)("div",{className:"feedback-container",children:Object(x.jsx)("a",{id:j.a,href:"#",className:s,onClick:this.onClick,children:n})})}}m()(_,"contextType",f.b),m()(_,"defaultProps",{feedbackModalText:{}});var S=_,T=s("P++E"),E=s("3Rla"),I=s("SMay"),v=s("n4ap"),C=s("cmhP"),N=s("JVM4"),A=s("7xSL"),y=s("ekZf");const P=c.constants.editors;t.default=function(){const e=Object(A.a)(),{enableFeedback:t}=Object(r.useSelector)(I.p),s=Object(r.useSelector)(C.k),a=Object(r.useSelector)(E.H),i=Object(r.useSelector)(v.B),c=""!==a;return Object(x.jsxs)("div",{children:[Object(x.jsx)(N.a,{}),Object(x.jsx)("div",{className:"settings-heading",children:Object(n.a)("facebookPixelIdMutatorHeading")}),Object(x.jsx)("div",{className:"settings-message",style:{paddingBottom:"0px",paddingTop:"0px"},children:Object(n.a)("facebookPixelIdMutatorDescription")}),Object(x.jsx)("div",{className:"settings-link-container",style:{paddingBottom:"5px",paddingTop:"0px"},children:Object(x.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/business/help/952192354843755",className:o()({"btn btn-sm btn-link":!s}),"data-aid":p.a.FACEBOOK_PIXEL_GET_CODE_LINK,"data-traffic2":h.c.editor_side_menu.redirect_to_get_facebook_pixel_code,style:{fontSize:"12px"},children:Object(x.jsx)("strong",{children:Object(n.a)("learnMore")})})}),Object(x.jsx)(y.a,{fieldType:P.TEXT,parseCode:g,handleValidCode:function(t,s){const a=Object(l.a)(s,t);a&&e(u.a,a)},errorMessage:"facebookPixelErrorMessage",successMessage:Object(n.a)("facebookPixelSuccessMessage"),codePresentMessage:Object(n.a)("facebookPixelCodePresent"),clearCodeMessage:Object(n.a)("facebookPixelClearCodeMessage"),sectionTitle:Object(n.a)("facebookPixelId"),codePlaceholder:Object(n.a)("facebookPixelIdMutatorPlaceholder"),removeCodeTrafficId:h.c.editor_side_menu.facebook_pixel_code_removed,pasteNewCodeTrafficId:h.c.editor_side_menu.facebook_pixel_paste_new_code,publishTrafficId:"editor_side_menu.facebook_pixel_publish_website",hasSavedOptions:c,propertyName:d.a.FACEBOOK_PIXEL_ID,defaultPropertyValue:"",className:"settings-message m-t-0 m-b-0"}),t&&Object(x.jsx)(S,{isMobile:i,linkText:Object(n.a)("userVoiceFacebookPixel"),className:o()({"btn btn-sm btn-link":!s}),forumId:"909058",feedbackModalText:function(){const e={};for(const t in T.a)Object.prototype.hasOwnProperty.call(T.a,t)&&(e[t]="postSuggestionTitle"===t?Object(n.a)("userVoiceFacebookPixel"):Object(n.a)("userVoiceSuggestion."+t));return e.postSuggestionSuccessBodyLink=Object(n.a)("userVoiceSuggestion.postSuggestionSuccessBodyLink"),e}()})]})}},v1nl:function(e,t,s){},xUA0:function(e,t,s){},"y+xp":function(e,t,s){"use strict";var a=s("cDcd"),n=s("00lU"),i=s("lSNA"),o=s.n(i),c=s("hcUJ"),r=(s("rf6O"),s("dwxX")),l=s("JLhN"),d=s("q1hO"),u=s("Uuec"),p=s("mA/2"),h=s("u1xw"),g=s("Z3IU"),b=s("aJpR"),m=s("GZJP"),O=s("nKUr");class j extends a.PureComponent{constructor(){super(),this._onClick=this._onClick.bind(this)}_addLog(e,t,s){Object(r.c)({domEvent:e,code:t,pageLimitReached:s})}_onClick(e,t){const{pageLimit:s,infoPageLimits:a,warnPageLimits:n}=this.props,i=a.has(s)||n.has(s)?u.c.edit_site[`gotit_button_on_soft_page_limit_${s}_notification`]:u.c.edit_site.gotit_button_on_hard_page_limit_notification;this.context.executeAction(p.a),this._addLog(t,i,s)}render(){const{description:e,hardLimit:t,title:s}=this.props,a=Object(c.a)(e,{hardLimit:t});return Object(O.jsx)(m.a,{className:"page-limit-modal ta-center color-black",showCloseOnTop:!1,children:Object(O.jsx)(b.a,{theme:"default",className:"ta-center",title:s,description:a,children:Object(O.jsx)(g.a,{className:"flex--justify-center",children:Object(O.jsx)(l.a,{theme:"primary",label:"ok",dataAid:d.a.PAGE_LIMIT_MODAL_GOT_IT,onClick:this._onClick.bind(null,"GOTIT_BUTTON")})})})})}}o()(j,"contextType",h.b);var f=j,x=s("wqHn"),_=s("SMay"),S=s("xkYB"),T=s("Yijx");t.a=async function(e){const t=e.getState(),s=Object(x.k)(t),a=new Set(Object(_.g)(t,"limits.infoPageLimits")),i=new Set(Object(_.g)(t,"limits.warnPageLimits")),o=Object(S.e)(t)?Object(_.g)(t,"limits.maxPages"):1,c=function({infoPageLimits:e,warnPageLimits:t,maxPages:s,pages:a}){const i=Object(n.b)(a);if(e.has(i))return function(e){return{pageLimitModalTitle:"tooManyPagesInformation",pageLimitModalDescription:"pageLimitInformation",pageLimit:e}}(i);if(t.has(i))return function(e){return{pageLimitModalTitle:"tooManyPagesSoftWarning",pageLimitModalDescription:"pageLimitSoftWarning",pageLimit:e}}(i);if(i>=s)return function(e){return{pageLimitModalTitle:"tooManyPagesHardWarning",pageLimitModalDescription:"pageLimitHardWarning",pageLimit:e}}(s)}({infoPageLimits:a,warnPageLimits:i,maxPages:o,pages:s});if(c){const{pageLimitModalTitle:t,pageLimitModalDescription:s,pageLimit:n}=c;return e.executeAction(T.a,{modal:Object(O.jsx)(f,{hardLimit:o,pageLimit:n,title:t,warnPageLimits:i,infoPageLimits:a,description:s})})}}},yZiM:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s("5lD2");function n(e,t){return function(e,t,s){return Object(a.get)(e,["social",t,s])}(e,t,"connection")}},yzf0:function(e,t,s){},zFEB:function(e,t,s){}}]);
//# sourceMappingURL=https://blobby.test-wsimg.com/go/static/editor/mutators.019a95bd3b740ea5e679.c.js.map