define("@widget/CONTACT/c/genericMap-9662644e.js",["exports","@wsb/guac-widget-shared@^1/lib/common/utils/form","@wsb/guac-widget-shared@^1/lib/components/Recaptcha/badge","@wsb/guac-widget-shared@^1/lib/common/constants/form/recaptchaTypes"],(function(e,t,a,o){"use strict";function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},r.apply(this,arguments)}class n extends(global.React||guac.react).Component{static get propTypes(){return{info:(global.PropTypes||guac["prop-types"]).string.isRequired,...(global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.ExternalLink.propTypes}}render(){const{info:e,...t}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Fieldset,{className:"bg-faint ml-20 mr-20 mb-3 pb-3"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Label,{className:"mb-3 mt-15",style:{fontWeight:"normal"}},e),(global.React||guac.react).createElement("div",{className:"mt-3"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.ExternalLink,t)))}}l(n,"defaultProps",{showAsLink:!0});const{PropTypes:s}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,i="deleteSectionButton",c=s.DeleteButton,g="hoursFormPivots",p=s.any.kind("Pivots"),d="hoursHelper",u=s.Description,m="contactFormHelper",b=s.Description,h="deleteFormFieldButton",T=s.DeleteButton,C="readOnlyHelper",y=s.Description,E="whatsAppHelper",N=s.Description,w="attachmentsHelper",I=s.Description,O="fileRequirementsHelper",R=s.ExternalLink,f="contactsLink",A="gmbLink";var _={[i]:c,[g]:p,[d]:u,[m]:b,[h]:T,[C]:y,[E]:N,[f]:s.any.kind(n),[A]:s.ExternalLink,[w]:I,[O]:R};const M="/hours",S="/hours/$",P="/form",v="/form/$",D="/whatsApp",L="/image";var F=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],k=(global.keyMirror||guac.keymirror)({SUBMIT:null,EMAIL:null,SINGLE_LINE:null,MULTI_LINE:null,ATTACHMENT:null});const U=e=>e<10?"0"+e.toString():e.toString();const{selectors:x}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,H=(global.keyMirror||guac.keymirror)({STRUCTURED:null,APPOINTMENT:null,CLOSED:null}),B={hoursWrapper:{display:"flex",width:"120%",justifyContent:"space-around"},separator:{paddingTop:"12px"}};class W extends(global.React||guac.react).Component{constructor(){super(...arguments),l(this,"changeMode",(e=>{const t=e.target.value;t===H.STRUCTURED&&e.stopPropagation(),t!==this.state.mode&&this.setState({mode:t},this.saveChanges)})),l(this,"changeTime",((e,t)=>{this.setState({[e]:t},this.saveChanges)})),l(this,"saveChanges",(()=>{const{day:e,openTime:t,closeTime:a,mode:o,dayOfWeek:l}=this.state,{onChange:r}=this.props;r({day:e,dayOfWeek:l,openTime:t,closeTime:a,byAppointmentOnly:o===H.APPOINTMENT,closed:o===H.CLOSED})}));const{locale:e}=this.props;this.state=this.getInitState(),this.hourOptions=function(e){const t=[],a=new Date;for(let o=0;o<1440;o+=15){a.setHours(o/60),a.setMinutes(o%60);const l={dateTimeValue:a,value:`${U(a.getHours())}:${U(a.getMinutes())}`,label:a.toLocaleTimeString(e,{hour:"numeric",minute:"numeric"}).toLowerCase()};t.push(l)}return t}(e)}getInitState(){const{byAppointmentOnly:e,closed:t,openTime:a,closeTime:o,day:l,dayOfWeek:r}=this.props.value;let n;return n=e?H.APPOINTMENT:t?H.CLOSED:H.STRUCTURED,{day:l,dayOfWeek:r,openTime:a,closeTime:o,mode:n}}getTimeSelectors(){const{openTime:e,closeTime:t,mode:a}=this.state;return(global.React||guac.react).createElement("span",{className:"hours-wrapper",style:B.hoursWrapper},(global.React||guac.react).createElement("span",{className:"open-hours"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.Select,{disabled:a!==H.STRUCTURED,onChange:this.changeTime.bind(null,"openTime"),value:e||this.hourOptions[0].value,options:this.hourOptions})),(global.React||guac.react).createElement("span",{className:"time-separator",style:B.separator}," ","â€“"," "),(global.React||guac.react).createElement("span",{className:"close-hours"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.Select,{disabled:a!==H.STRUCTURED,onChange:this.changeTime.bind(null,"closeTime"),value:t||this.hourOptions[0].value,options:this.hourOptions})))}render(){const{mode:e}=this.state,{labels:t,value:{day:a}={}}=this.props,{Elements:{Fieldset:o,Heading:l,RadioGroup:r}}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,n=[{label:this.getTimeSelectors(),name:"mode",id:H.STRUCTURED,key:H.STRUCTURED,value:H.STRUCTURED,defaultChecked:e===H.STRUCTURED,onClick:this.changeMode},{label:t.appointmentOnly,name:"mode",id:H.APPOINTMENT,defaultChecked:e===H.APPOINTMENT,key:H.APPOINTMENT,value:H.APPOINTMENT,onClick:this.changeMode},{label:t.closed,name:"mode",id:H.CLOSED,defaultChecked:e===H.CLOSED,key:H.CLOSED,value:H.CLOSED,onClick:this.changeMode}];return(global.React||guac.react).createElement(o,{className:"mx-hours"},(global.React||guac.react).createElement(l,null,a),(global.React||guac.react).createElement(r,{inputs:n}))}}l(W,"propTypes",{value:(global.PropTypes||guac["prop-types"]).shape({byAppointmentOnly:(global.PropTypes||guac["prop-types"]).bool,closeTime:(global.PropTypes||guac["prop-types"]).string,closed:(global.PropTypes||guac["prop-types"]).bool,day:(global.PropTypes||guac["prop-types"]).string,dayOfWeek:(global.PropTypes||guac["prop-types"]).number,openTime:(global.PropTypes||guac["prop-types"]).string}),onChange:(global.PropTypes||guac["prop-types"]).func.isRequired,labels:(global.PropTypes||guac["prop-types"]).objectOf((global.PropTypes||guac["prop-types"]).string).isRequired,locale:(global.PropTypes||guac["prop-types"]).string.isRequired}),l(W,"defaultProps",{labels:{appointmentOnly:x.I18N.get("byAppointmentOnly"),closed:x.I18N.get("closed")},locale:x.Account.market});const{PropTypes:G}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var V={__proto__:null,env:G.string.readOnly,renderMode:G.string.readOnly,viewDevice:G.string.readOnly,locale:G.string.readOnly,featureFlags:G.object.readOnly,websiteId:G.string.readOnly,pageId:G.string.readOnly,accountId:G.string.readOnly,domainName:G.string.readOnly,isInternalPage:G.bool.readOnly,internalLinks:G.object.readOnly,staticContent:G.object.readOnly,googleRecaptchaDisabled:G.bool.readOnly,emailConfirmationMessage:G.string.readOnly,mapRenderType:G.string.readOnly,recaptchaType:G.string.readOnly,formEnabled:G.Toggle,formTitle:G.Text,formEmail:G.Email.maxCount(70).readOnlyDefault,formSuccessMessage:G.RichText.maxCount(1e3),emailOptInEnabled:G.Toggle,emailOptInMessage:G.Multiline.maxCount(100),formFields:G.arrayOf(G.shape({label:G.Text.maxCount(150),required:G.Toggle,type:G.Select,replyTo:G.bool,validation:G.string,keyName:G.string,attachmentsEnabled:G.Toggle,attachmentsLabel:G.Text.maxCount(30)})).kind("OrderableArray").maxCount(14),image:G.Image,link:G.ToggleableLink,mediaPivot:G.Pivot,backgroundImagePivot:G.Pivot,hoursTitle:G.Text.maxCount(100),structuredHoursEnabled:G.Toggle,structuredHours:G.arrayOf(G.shape({hour:G.shape({byAppointmentOnly:G.bool,closeTime:G.string,closed:G.bool,day:G.string,dayOfWeek:G.number,openTime:G.string}).kind(W)})).kind("StructuredHours"),hoursCustomMessage:G.RichText.maxCount(500),whatsAppEnabled:G.Toggle,whatsAppButtonLabel:G.Text.maxCount(35).test((e=>e.length>0),"errorButtonLabelValidation"),whatsAppPhone:G.Phone,isWhatsAppAvailable:G.bool.readOnly,sectionTitle:G.Text.maxCount(60),infoTitle:G.Text.maxCount(100),info:G.RichText.maxCount(500),businessName:G.BusinessName,address:G.Address,phone:G.Multiline.maxCount(250).readOnlyDefault,showMap:G.Toggle.readOnlyDefault,enableImageDimension:G.bool.readOnly};const{Widget:X}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var q=X.keys(V);const $={mapboxAccessToken:"pk.eyJ1IjoiZ29kYWRkeSIsImEiOiJjaWc5b20wcjcwczAydGFsdGxvamdvYnV0In0.JK9HuO6nAzc8BnMv6W7NBQ",mapboxStyleUrl:"mapbox://styles/godaddy/ciovyeygh0029atm6zbntgxk2"};var j={local:Object.assign({formSubmitHost:"http://contact.apps-api.instantpage.dev-secureserver.net:8400",generateUrlHost:"http://url-generator.apps.dev-secureserver.net:8080",contactsHost:"https://contacts.dev-godaddy.com"},$),development:Object.assign({formSubmitHost:"https://contact.apps-api.instantpage.dev-secureserver.net",generateUrlHost:"https://url-generator.apps.dev-secureserver.net",contactsHost:"https://contacts.dev-godaddy.com"},$),test:Object.assign({formSubmitHost:"https://contact.apps-api.instantpage.test-secureserver.net",generateUrlHost:"https://url-generator.apps.test-secureserver.net",contactsHost:"https://contacts.test-godaddy.com"},$),production:Object.assign({formSubmitHost:"https://contact.apps-api.instantpage.secureserver.net",generateUrlHost:"https://url-generator.apps.secureserver.net",contactsHost:"https://contacts.godaddy.com"},$)};const{selectors:{utils:{createSelector:z},I18N:Y,Reseller:Z,Entitlements:K}}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,J=z(Z.isReseller,K.current,((e,t)=>!(t&&t.get("gem"))||e)),Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return z(Y.get(e),(a=>a&&a!==e?a:t))},{selectors:ee}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{utils:{not:te,or:ae,createSelector:oe},Config:le,Website:re,Page:ne,Widget:se,Account:ie,Stores:ce}=ee,ge=["contact10"],pe=["contact4","contact5","contact9","contact10"],de={label:ee.I18N.get("titleForContactForm")},ue={label:ee.I18N.get("titleForContactHours")},me={label:ee.I18N.get("whatsAppPivot")};function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;const o=e.getFieldValue(t);return{to:e.getRoute(a),graphic:o&&o.image?(global.React||guac.react).createElement("img",{src:o.image,alt:o.alt||"",className:"mx-pivot-icon"}):void 0}}ee.I18N.get("titleForImage");const he={label:ee.I18N.get("titleForImage"),getProps:e=>be(e)},Te={label:ee.I18N.get("titleForBgImage"),getProps:e=>be(e),hidden:oe(ee.Widget.preset,(e=>!ge.includes(e)))},Ce={getProps(e){const t=e.widgetPreset,a={showRemoveButton:!0,addOrReplaceImage:!0,showAltTagInput:!0};return ge.includes(t)&&(a.showOverlayOpacityControls=!0,a.showAltTagInput=!1,a.enableFocalSelector=!0),a},enableImageDimension:oe(le.flag("imageDimensionLayouts"),se.preset,((e,t)=>null==e?void 0:e.includes(t)))},ye={getProps(e){const t=e.getFieldValue("image");return{hidden:!t||!t.image}}},Ee={label:ee.I18N.get("labelForSectionTitle")},Ne={label:ee.I18N.get("labelForInfoTitle")},we={label:ee.I18N.get("labelForInfo")},Ie={label:ee.I18N.get("labelForBusinessName")},Oe={label:ee.I18N.get("labelForAddress")},Re={label:ee.I18N.get("showMap")},fe={label:ee.I18N.get("labelForPhoneAndEmail"),placeholder:ee.I18N.get("fallbackForContactPhoneAndEmail")},Ae={label:ee.I18N.get("deleteSectionButton")},_e={pivots:oe(ee.Config.flag("isWhatsAppAvailable"),ee.I18N.get("titleForContactForm"),ee.Stores.Widget.property("formTitle"),ee.I18N.get("titleForContactHours"),ee.Stores.Widget.property("hoursTitle"),ee.I18N.get("whatsAppPivot"),((e,t,a,o,l,r)=>{const n=[{to:P,label:t,description:a},{to:M,label:o,description:l}];return e&&n.unshift({to:D,label:r}),n}))};oe(ee.Config.flag("isWhatsAppAvailable"),ee.I18N.get("titleForContactForm"),ee.Stores.Widget.property("formTitle"),ee.I18N.get("whatsAppPivot"),((e,t,a,o)=>{const l=[{to:P,label:t,description:a}];return e&&l.unshift({to:D,label:o}),l})),oe(ee.Config.flag("isWhatsAppAvailable"),ee.I18N.get("titleForContactHours"),ee.Stores.Widget.property("hoursTitle"),ee.I18N.get("whatsAppPivot"),((e,t,a,o)=>{const l=[{to:M,label:t,description:a}];return e&&l.unshift({to:D,label:o}),l}));const Me={disabled:te(ee.Stores.Widget.option("structuredHoursEnabled")),getProps(e){let{getTranslation:t,getRoute:a}=e;return{pivots:F.map(((e,o)=>({to:a(S,[o]),label:t(e)})))}},experiment:{id:"editor_business_hour",getProps:e=>{let{value:t}=e;return{isExperiment:t}}}},Se={label:ee.I18N.get("labelForHoursTitle")},Pe={label:ee.I18N.get("labelForStructureHoursEnabled")},ve={label:ee.I18N.get("labelForHoursCustomMessage"),placeholder:ee.I18N.get("customMessagePlaceholder")},De={inline:!1,description:ee.I18N.get("descriptionForContactHours")},Le=te(ee.Stores.Widget.option("formEnabled")),Fe=te(ee.Stores.Widget.option("emailOptInEnabled")),ke={description:ee.I18N.get("descriptionForContactForm")},Ue={label:ee.I18N.get("labelForFormEnabled")},xe={link:oe(se.preset,(e=>pe.includes(e)?(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY:"")),linkText:oe(se.preset,ee.I18N.get("editThemeStyles"),((e,t)=>pe.includes(e)?t:"")),label:ee.I18N.get("labelForFormTitle"),hidden:Le},He={label:ee.I18N.get("labelForFormEmail"),hidden:Le},Be={label:ee.I18N.get("labelFormSuccessMessage"),hidden:Le},We={label:ee.I18N.get("labelForEmailOptIn"),disabled:Le,hidden:ae(J,Le)},Ge={label:ee.I18N.get("labelForEmailOptInMessage"),disabled:ae(Le,Fe),hidden:ae(J,Fe,Le)},Ve=e=>"ATTACHMENT"===e.type,Xe={label:ee.I18N.get("labelForLinkButton"),hidden:Le,defaults:[{label:"",type:k.SINGLE_LINE,required:!1}],to:v,attachmentsLabel:ee.I18N.get("attachments"),getProps(e){let{value:t,getRoute:a,attachmentsLabel:o}=e;const l=Ve(t[t.length-2])?2:1;return{addIndex:t.length-l,items:t.map(((e,t)=>({to:a(v,[t]),label:Ve(e)?o:e.label}))),lockBottomX:1}}},qe={label:ee.I18N.get("fieldNameLabel"),placeholder:ee.I18N.get("newFieldPlaceholder"),buttonLink:(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY,buttonLinkText:ee.I18N.get("editThemeStyles"),getProps(e){let{getFieldValue:t,buttonLink:a,buttonLinkText:o}=e;const l=t(q.formFields.type);return{disabled:l===k.EMAIL,link:l===k.SUBMIT?a:null,linkText:l===k.SUBMIT?o:null,hidden:l===k.ATTACHMENT}}},$e={label:ee.I18N.get("fieldRequiredLabel"),getProps(e){let{getFieldValue:t}=e;const a=t(q.formFields.type);return{disabled:a===k.EMAIL,hidden:a===k.SUBMIT||a===k.ATTACHMENT}}},je={label:ee.I18N.get("allowAttachments"),getProps(e){let{getFieldValue:t}=e;return{hidden:t(q.formFields.type)!==k.ATTACHMENT}}},ze={label:ee.I18N.get("buttonLabel"),placeholder:ee.I18N.get("attachFiles"),getProps(e){let{getFieldValue:t}=e;const a=t(q.formFields.type),o=t(q.formFields.attachmentsEnabled);return{hidden:a!==k.ATTACHMENT||a===k.ATTACHMENT&&!o}}},Ye={description:ee.I18N.get("attachmentsDesc"),getProps(e){let{getFieldValue:t}=e;return{hidden:t(q.formFields.type)!==k.ATTACHMENT}}},Ze={label:ee.I18N.get("fileRequirements"),description:ee.I18N.get("fileRequirementsDesc"),linkText:ee.I18N.get("supportedFileTypes"),openAsNewTab:!0,link:"http://godaddy.com/help/a-20113",showAsLink:!0,getProps(e){let{getFieldValue:t}=e;const a=t(q.formFields.type),o=t(q.formFields.attachmentsEnabled);return{hidden:a!==k.ATTACHMENT||a===k.ATTACHMENT&&!o}}},Ke={label:ee.I18N.get("inputTypeLabel"),options:[{label:ee.I18N.get("inputTypeOptionSingleLine"),value:"SINGLE_LINE"},{label:ee.I18N.get("inputTypeOptionMultiLine"),value:"MULTI_LINE"},{label:ee.I18N.get("inputTypeOptionPhoneNumber"),value:"PHONE"}],getProps(e){let{value:t}=e;return{disabled:t===k.EMAIL,hidden:t===k.SUBMIT||t===k.ATTACHMENT}}},Je={description:ee.I18N.get("readOnlyFieldExplanation"),getProps(e){let{getFieldValue:t}=e;return{hidden:t(q.formFields.type)!==k.EMAIL}}},Qe={label:ee.I18N.get("deleteLabelForFormField"),field:"formFields",atIndex:!0,to:P,confirm:!0,confirmTitle:ee.I18N.get("deleteFieldTitle"),confirmDescription:ee.I18N.get("deleteFieldText"),confirmYesButton:ee.I18N.get("deleteLabelForFormField"),confirmNoButton:ee.I18N.get("cancel"),getProps(e){let{getFieldValue:t}=e;const a=t(q.formFields.type);return{hidden:a===k.SUBMIT||a===k.EMAIL||a===k.ATTACHMENT}}},et=te(ee.Stores.Widget.option("whatsAppEnabled")),tt={description:ee.I18N.get("whatsAppDescription")},at={label:ee.I18N.get("whatsAppToggle")},ot={label:ee.I18N.get("whatsAppButtonLabel"),required:!0,hidden:et},lt={label:ee.I18N.get("whatsAppNumber"),required:!0,hidden:et},rt={hidden:ee.Reseller.isReseller,info:Q("contactsLinkInfoContact"),linkText:Q("contactsLinkText"),link:oe(le.env,re.id,((e,t)=>{var a;return`${null===(a=j[e])||void 0===a?void 0:a.contactsHost}/contacts?website_id=${t}`}))},nt={link:oe(le.rootDomain,ie.id,re.id,ne.id,se.id,ie.market,((e,t,a,o,l,r)=>`https://social.manager.${e}/account/${t}/social/connect/gmb/launch?ua_placement=shared_header&redirectURL=${encodeURIComponent(`https://websites.${e}/${r}/editor/${a}/${o}/edit/${l}`)}`)),linkText:ee.I18N.get("listBusinessGoogle"),openAsNewTab:!1,showAsLink:!0,hidden:oe(ce.Website.property("gmbStatus"),(e=>"PUBLISHED"===e))},st={[M]:ue,[P]:de,[D]:me,[q.sectionTitle]:Ee,[q.infoTitle]:Ne,[q.info]:we,[q.businessName]:Ie,[q.address]:Oe,[q.backgroundImagePivot]:Te,[q.mediaPivot]:he,[q.image]:Ce,[q.link]:ye,[q.showMap]:Re,[q.phone]:fe,[g]:_e,[i]:Ae,[q.hoursTitle]:Se,[q.structuredHoursEnabled]:Pe,[q.hoursCustomMessage]:ve,[q.structuredHours]:Me,[d]:De,[q.formEnabled]:Ue,[q.formTitle]:xe,[q.formEmail]:He,[q.formSuccessMessage]:Be,[q.emailOptInEnabled]:We,[q.emailOptInMessage]:Ge,[q.formFields]:Xe,[q.formFields.label]:qe,[q.formFields.required]:$e,[q.formFields.type]:Ke,[q.formFields.attachmentsEnabled]:je,[q.formFields.attachmentsLabel]:ze,[w]:Ye,[O]:Ze,[C]:Je,[m]:ke,[h]:Qe,[E]:tt,[q.whatsAppEnabled]:at,[q.whatsAppButtonLabel]:ot,[q.whatsAppPhone]:lt,[f]:rt,[A]:nt},it=[q.backgroundImagePivot,g,q.sectionTitle,q.infoTitle,q.info,q.businessName,q.address,A,q.showMap,q.phone,i],ct={"/":[...it],[M]:[d,q.hoursTitle,q.structuredHoursEnabled,q.structuredHours,q.hoursCustomMessage],[D]:[E,q.whatsAppEnabled,q.whatsAppPhone,q.whatsAppButtonLabel],[S]:[q.structuredHours.hour],[P]:[m,f,q.formEnabled,q.formTitle,q.formEmail,q.formSuccessMessage,q.emailOptInEnabled,q.emailOptInMessage,q.formFields],[v]:[C,q.formFields.label,q.formFields.type,q.formFields.required,w,q.formFields.attachmentsEnabled,q.formFields.attachmentsLabel,O,h]},gt=(global._||guac.lodash).merge({},ct,{"/":[[q.mediaPivot],...it],[L]:[q.image,q.link]}),pt=(global._||guac.lodash).merge({},ct,{[L]:[q.image]});var dt=(global.keyMirror||guac.keymirror)({CONTACT_SECTION_TITLE_REND:null,CONTACT_EMAIL_INPUT_REND:null,CONTACT_EMAIL_ERR_REND:null,CONTACT_ERR_REND:null,CONTACT_NAME_INPUT_REND:null,CONTACT_MESSAGE_INPUT_REND:null,CONTACT_SUBMIT_BUTTON_REND:null,CONTACT_CANCEL_BUTTON_REND:null,CONTACT_INFO_CONTAINER_REND:null,CONTACT_INFO_PHONE_REND:null,CONTACT_INFO_EMAIL_REND:null,CONTACT_INFO_URL_REND:null,CONTACT_INFO_ADDRESS_REND:null,CONTACT_INFO_BIZ_NAME_REND:null,CONTACT_INFO_WHATS_APP_REND:null,CONTACT_SECTION_DETAILS_REND:null,CONTACT_SECTION_HOURS_REND:null,CONTACT_SECTION_INFO_REND:null,CONTACT_HOURS_TITLE_REND:null,CONTACT_HOURS_REND:null,CONTACT_HOURS_CUST_MSG_REND:null,CONTACT_HOURS_DAY_REND:null,CONTACT_HOURS_COLLAPSED_REND:null,CONTACT_HOURS_COLLAPSED_LABEL:null,CONTACT_HOURS_COLLAPSED_HR_LABEL:null,CONTACT_HOURS_COLLAPSED_ARROW:null,CONTACT_INTRO_DESC_REND:null,CONTACT_INTRO_HEADING_REND:null,CONTACT_FORM_CONTAINER_REND:null,CONTACT_FORM_TITLE_REND:null,CONTACT_MAP_REND:null,CONTACT_MAP_STATIC_REND:null,CONTACT_MAP_MOBILE_OVERLAY:null,CONTACT_FORM_NAME:null,CONTACT_FORM_EMAIL:null,CONTACT_FORM_MESSAGE:null,CONTACT_FORM_ATTACHMENTS:null,CONTACT_FORM_SUBMIT_SUCCESS:null,CONTACT_FORM_SUBMIT_SUCCESS_MESSAGE:null,CONTACT_FORM_SUBSCRIBE_SUCCESS_MESSAGE:null,CONTACT_MAP_EXPAND_ICON:null,CONTACT_FORM_REVEAL_BUTTON_REND:null,CONTACT_FORM_COL1:null,CONTACT_FORM_COL2:null,CONTACT_FORM_CONTROLS:null,CONTACT_FORM_CONTAINER_MOBILE:null,CONTACT_FORM_CONTAINER_DESKTOP:null,CONTACT_FORM_CONTAINER_MOBILE_REND:null,CONTACT_FORM_RESPONSE_ERR_REND:null,CONTACT_FORM_EMAIL_OPT_IN:null,GOOGLE_MAP_STATIC:null,IMAGE_RENDERED:null,BG_IMAGE_RENDERED:null}),ut={SECTION_TITLE:"sectionTitle",INFO_TITLE:"infoTitle",INFO:"info",BUSINESS_NAME:"businessName",ADDRESS:"address",PHONE:"phone",FORM:"formFields",FORM_TITLE:"formTitle",HOURS:"structuredHours",HOURS_TITLE:"hoursTitle",HOURS_CUSTOM_MESSAGE:"hoursCustomMessage",WHATS_APP:"whatsApp",IMAGE:"image"};const mt={marginBottom:"medium"},bt={sharedMargin:mt,marginReducer:{"> :last-child":{marginBottom:"0"}},phone:mt,whatsApp:{button:{display:"inline-flex",alignItems:"center",width:"auto",backgroundColor:"brandLivid",border:"none",borderWidth:"0px",fontSize:"medium",textTransform:"none",letterSpacing:"normal",fontWeight:"700",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",maxWidth:"88%",marginBottom:"xlarge",":hover":{backgroundColor:"brandLividHover"},":hover:after":{display:"none"},":after":{display:"none"},":active":{backgroundColor:"brandLivid"},"@md":{backgroundColor:"brandLivid",color:"brandLividContrast",":hover":{backgroundColor:"brandLividHover"},":active":{backgroundColor:"brandLivid"}},"@xs-only":{paddingHorizontal:"small"},"> span":{color:"brandLividContrast"}}}},ht={"data-aid":dt.CONTACT_INFO_PHONE_REND},Tt={"data-aid":dt.CONTACT_INFO_EMAIL_REND},Ct={"data-aid":dt.CONTACT_INFO_URL_REND};function yt(e){return e.phone?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{key:"phone-el","data-route":ut.PHONE,children:e.phone,style:bt.phone,linkify:!0,phoneProps:ht,emailProps:Tt,urlProps:Ct}):null}function Et(e){return e.address&&e.address.value?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{key:"address-el",style:bt.sharedMargin,"data-aid":dt.CONTACT_INFO_ADDRESS_REND,"data-route":ut.ADDRESS,children:e.address.value}):null}function Nt(e){return e.businessName?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{key:"business-name-el",style:bt.sharedMargin,"data-aid":dt.CONTACT_INFO_BIZ_NAME_REND,"data-route":ut.BUSINESS_NAME,children:e.businessName}):null}function wt(e,t,a){const{structuredHours:o,staticContent:l,hoursCustomMessage:r,hours:n,structuredHoursEnabled:s,locale:i,renderMode:c,collapsible:g=t}=e,p=r||!o&&n;return s||p?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:bt.marginReducer},function(e){const t=e.hoursTitle||void 0===e.hoursTitle&&e.hoursFieldset.hoursTitle;return t?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{key:"hours-title-el",style:bt.sharedMargin,"data-route":ut.HOURS_TITLE,"data-aid":dt.CONTACT_HOURS_TITLE_REND,"data-field-route":M,children:t}):null}(e),s&&function(e,t){const{structuredHours:a}=e;return a&&a instanceof Array?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:"hours-el","data-aid":dt.CONTACT_HOURS_REND,"data-route":ut.HOURS,"data-field-route":M,children:t(e),style:bt.sharedMargin}):null}({structuredHours:o,staticContent:l,locale:i,collapsible:g,renderMode:c},a),(d=p,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{richtext:!0,"data-route":ut.HOURS_CUSTOM_MESSAGE,"data-aid":dt.CONTACT_HOURS_CUST_MSG_REND,"data-field-route":M,children:d}))):null;var d}function It(e){return e.info?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{key:"caption-el",style:bt.sharedMargin,richtext:!0,"data-aid":dt.CONTACT_INTRO_DESC_REND,"data-route":ut.INFO,children:e.info}):null}function Ot(e){return e.infoTitle?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{key:"info-title-el",style:bt.sharedMargin,"data-aid":dt.CONTACT_INTRO_HEADING_REND,"data-route":ut.INFO_TITLE,children:e.infoTitle}):null}function Rt(e){const{whatsAppEnabled:t,whatsAppButtonLabel:a,whatsAppPhone:o,renderMode:l,isWhatsAppAvailable:r}=e,n=[(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH,(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PREVIEW].includes(l),s=function(e){const t=e&&e.phone;if(t&&(t.split(".")[1]||"").length>0)return`https://wa.me/${t.replace(/\D/g,"")}`;return null}(o),i=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.whatsapp.click",type:"click"}),c=r&&t;return c&&!n||c&&s&&a?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.External,{key:"whats-app-el",href:s,target:"_blank",style:{...bt.sharedMargin,...bt.whatsApp.button},"data-aid":dt.CONTACT_INFO_WHATS_APP_REND,"data-route":ut.WHATS_APP,"data-tccl":i,icon:"whatsApp",skin:"whatsapp"},a):null}var ft=e=>{const t=(global._||guac.lodash).keys(e);function a(a,o){const l={};return(global._||guac.lodash).each(t,(t=>{l[t]=e[t](a,o)})),l}return{isInfoEmpty:function(a){return(global._||guac.lodash).every(t,(t=>!e[t](a)))},renderInfoElements:a,getOrderedContentElements:function(e,t){const{phone:o,address:l,businessName:r,hours:n,caption:s,infoTitle:i,whatsApp:c}=a(e,t);return[[i,s].filter((e=>!!e)),[c,r,l,o].filter((e=>!!e)),[n].filter((e=>!!e))].filter((e=>e.length)).map(((e,t,a)=>{const o=t<a.length-1?{marginBottom:"xlarge "}:{};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:`el-${t}`,style:o},e)}))}}};function At(){return"undefined"!=typeof SDK&&"VTX"in SDK?new Date(14955489e5):new Date}const _t=[new Date(2017,9,1),new Date(2017,9,2),new Date(2017,9,3),new Date(2017,9,4),new Date(2017,9,5),new Date(2017,9,6),new Date(2017,9,7)],Mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00:00",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";const a=e.split(":"),o=parseInt(a[0],10),l=parseInt(a[1],10),r=At();return r.setHours(o),r.setMinutes(l),r.toLocaleString(t,{hour:"2-digit",minute:"2-digit"}).toLowerCase()};class St extends(global.React||guac.react).Component{constructor(e){super(e),this.toggleHoursView=this.toggleHoursView.bind(this),this.getHourLabel=this.getHourLabel.bind(this),this.state={collapsed:!0}}toggleHoursView(){this.setState({collapsed:!this.state.collapsed})}getHourLabel(e){const{staticContent:t,locale:a}=this.props;let o="";return o=e.closed?t.closed:e.byAppointmentOnly?t.byAppointment:`${Mt(e.openTime,a)} â€“ ${Mt(e.closeTime,a)}`,o}render(){const{structuredHours:e,staticContent:t,locale:a,collapsible:o}=this.props,l=At().getDay(),r={borderSpacing:0,textAlign:"left",display:"inline-table"},n={display:"flex",marginTop:"xxsmall"},s={position:"relative",left:"xxsmall"},i=0===l?e.length-1:l-1,{hour:c}=e[i]||{};if(c&&o&&this.state.collapsed){const e=c.closed||c.byAppointmentOnly?`${t.today}`:`${t.openToday}`;return(global.React||guac.react).createElement("table",{style:r},(global.React||guac.react).createElement("tr",{"data-aid":dt.CONTACT_HOURS_COLLAPSED_REND,style:{cursor:"pointer"},onClick:this.toggleHoursView},(global.React||guac.react).createElement("td",{style:{paddingRight:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":dt.CONTACT_HOURS_COLLAPSED_LABEL},e)),(global.React||guac.react).createElement("td",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{whiteSpace:"nowrap",paddingLeft:"xxsmall"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{"data-aid":dt.CONTACT_HOURS_COLLAPSED_HR_LABEL,tag:"span"},this.getHourLabel(c)))),(global.React||guac.react).createElement("td",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":dt.CONTACT_HOURS_COLLAPSED_ARROW},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{group:"Group",tag:"span",style:n},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{icon:"chevronDown",size:"small",rotate:"0",style:s}))))))}return(global.React||guac.react).createElement("table",{style:r},e.map(((e,t)=>{let{hour:r}=e,i=(global._||guac.lodash).noop,c="auto",g="";o&&0===t&&(i=this.toggleHoursView,c="pointer",g=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":dt.CONTACT_HOURS_COLLAPSED_ARROW},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{group:"Group",tag:"span",style:n},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{icon:"chevronDown",size:"small",rotate:"180",style:s}))));const p=this.getHourLabel(r),d=l===r.dayOfWeek?"bold":"normal";return(global.React||guac.react).createElement("tr",{key:t,"data-aid":`${dt.CONTACT_HOURS_DAY_REND}_${r.dayOfWeek}`,onClick:i,style:{cursor:c}},(global.React||guac.react).createElement("td",{style:{paddingRight:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{fontWeight:d,wordBreak:"normal"}},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return _t[e].toLocaleDateString(t,{weekday:"short"})}(r.dayOfWeek,a))),(global.React||guac.react).createElement("td",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{fontWeight:d,whiteSpace:"nowrap",paddingLeft:"xxsmall"}},p)),(global.React||guac.react).createElement("td",null,g))})))}}St.propTypes={structuredHours:(global.PropTypes||guac["prop-types"]).array,staticContent:(global.PropTypes||guac["prop-types"]).object,locale:(global.PropTypes||guac["prop-types"]).string,collapsible:(global.PropTypes||guac["prop-types"]).bool};const{components:{Bootstrap:Pt}}=global.Core||guac["@wsb/guac-widget-core"];function vt(e){return(global.React||guac.react).createElement(Pt.Radpack,r({},e,{Component:St,entry:"@widget/CONTACT/bs-Component"}))}function Dt(e){return(global.React||guac.react).createElement(vt,e)}const{renderInfoElements:Lt,isInfoEmpty:Ft,getOrderedContentElements:kt}=ft({phone:yt,address:Et,businessName:Nt,hours:(e,t)=>wt(e,t,Dt),caption:It,infoTitle:Ot,whatsApp:Rt});class Ut extends(global.React||guac.react).Component{render(){const{isInternalPage:e,order:t,titleText:a}=this.props;return a?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:a,"data-aid":dt.CONTACT_SECTION_TITLE_REND,"data-route":ut.SECTION_TITLE,isInternalPage:e,order:t}):null}}Ut.propTypes={isInternalPage:(global.PropTypes||guac["prop-types"]).bool,order:(global.PropTypes||guac["prop-types"]).number.isRequired,titleText:(global.PropTypes||guac["prop-types"]).string};const xt=e=>`//img1.wsimg.com/isteam/ip/static/${e}`,Ht="undefined"==typeof window,Bt="IEMobile",Wt="Android",Gt="BlackBerry",Vt="iPhone|iPad|iPod",Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[Wt,Gt,Vt,Bt];return!Ht&&e.reduce(((e,t)=>e||new RegExp(`/${t}/i`).test(navigator.userAgent)),!1)},qt=e=>{const t=`http://maps.google.com/maps?daddr=${e}`;window.open(t)},$t=Xt,jt=()=>Xt([Vt]),zt=e=>!1!==e.formEnabled,Yt=e=>!isNaN(parseFloat(e))&&isFinite(e),Zt=e=>!(e&&e.value&&Yt(e.lat)&&Yt(e.lng)),{Z_INDEX_FULL_SCREEN_OVERLAY:Kt}=(global.Core||guac["@wsb/guac-widget-core"]).constants.layers;class Jt extends(global.React||guac.react).Component{constructor(){super(...arguments),this.el=document.createElement("div"),this.el.className="x",this.mapContainer=null}componentDidMount(){const{renderMap:e}=this.props,t=document.querySelector(".device-chrome.device-chrome-mobile .viewport");Object.assign(this.el.style,{backgroundColor:"#ffffff",zIndex:Kt},t?{position:"absolute",left:t.style.left,right:t.style.right,top:t.style.top,bottom:t.style.bottom,width:t.style.width,height:t.style.height}:{position:"fixed",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%"}),this.parentContainer=t?t.parentNode:document.body,this.parentContainer.appendChild(this.el),e(this.mapContainer)}componentWillUnmount(){this.parentContainer.removeChild(this.el)}render(){const{handleClose:e,getDirectionsLabel:t,handleGetDirections:a}=this.props,o=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:"neutral",section:"overlay",style:{width:"100%",height:"100%"},"data-aid":dt.CONTACT_MAP_MOBILE_OVERLAY},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{tag:"a",style:{position:"absolute",right:"small",top:"small",cursor:"pointer",background:`url('${xt("mapIcon/close.svg")}')`,zIndex:1,width:"34px",height:"34px"},onClick:e}),(global.React||guac.react).createElement("div",{ref:e=>{this.mapContainer=e},style:{width:"100%",height:"100%"}}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{style:{zIndex:1,position:"absolute",bottom:"xlarger",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",width:"90%"},onClick:a,children:t,solid:!0}));return(global.ReactDOM||guac["react-dom"]).createPortal(o,this.el)}}l(Jt,"propTypes",{renderMap:(global.PropTypes||guac["prop-types"]).func.isRequired,handleClose:(global.PropTypes||guac["prop-types"]).func.isRequired,handleGetDirections:(global.PropTypes||guac["prop-types"]).func.isRequired,getDirectionsLabel:(global.PropTypes||guac["prop-types"]).string.isRequired,container:(global.PropTypes||guac["prop-types"]).node.isRequired});const Qt=e=>{let{lat:t,lon:a}=e;return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[a,t]}}]}},ea=e=>{let{map:t,lat:a,lon:o,isMapbox:l=!0}=e;const r=l?()=>{t.resize(),t.easeTo({center:[o,a]}),t.getSource("markers").setData(Qt({lat:a,lon:o}))}:()=>{t.panTo({lat:parseFloat(a,10),lng:parseFloat(o,10)})};(l?t.loaded():t&&!!t.mapUrl)?setTimeout(r,200):l&&t.on("load",r)},ta=e=>{const t=jt()?`http://maps.apple.com/?q=${e}`:`http://www.google.com/maps/dir//${e}`;window.location.href=t},aa=e=>{if(window.google&&window.google.maps&&"function"==typeof e)return e();if(document.querySelectorAll("script[src*='maps.googleapis.com/maps/api/js']").length)return setTimeout(e,2e3);const t=document.createElement("script"),a=["https://maps.googleapis.com/maps/api/js","?client=gme-godaddycom","&channel=gc-widget-contact"].join("");t.setAttribute("src",`${a}`),t.setAttribute("async","async"),document.body.appendChild(t),t.onload=e};class oa extends(global.React||guac.react).Component{render(){const{address:e,staticContent:t,isRouteMobilePreviewPublish:a,openFullScreenOverlay:o}=this.props,l={button:{position:"absolute",left:"xxlarge",top:"xsmall",width:"auto","@xs-only":{fontSize:"xsmall",left:"xsmall",maxWidth:"90%"}}};if(!a){const a=t.mapCTA,o=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.get_directions.click",type:"click"});return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{tag:"button","data-tccl":o,onClick:qt.bind(null,e),style:l.button,solid:!0,icon:"direction",size:"small"},a)}return(global.React||guac.react).createElement("a",{onClick:o,style:l.icon,"data-aid":dt.CONTACT_MAP_EXPAND_ICON})}}oa.propTypes={address:(global.PropTypes||guac["prop-types"]).string,isRouteMobilePreviewPublish:(global.PropTypes||guac["prop-types"]).bool,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,openFullScreenOverlay:(global.PropTypes||guac["prop-types"]).func.isRequired};const{GOOGLE_MAP_STATIC:la}=dt;class ra extends(global.React||guac.react).Component{constructor(e){super(e),this.state={staticUrl:""}}componentDidMount(){const{lat:e,lon:t,address:a}=this.props;(e&&t||a)&&this.generateUrl()}generateStyles(){return{width:"100%",height:"100%","@xs-only":{objectFit:"contain",position:"absolute"}}}generateUrl(){const{lat:e,lon:t,address:a,dimensions:o,env:l}=this.props,{height:r,width:n}=o,s=(j&&j[l]||{}).generateUrlHost;if(!s)return;const i=[`lat=${e}`,`&lon=${t}`,`&address=${a}`,`&height=${r}`,`&width=${n}`].join("");window.fetch(`${s}/v1/static-google-map?${i}`).then((e=>e.json())).then((e=>{let{url:t}=e;return this.setState({staticUrl:t})}))}render(){const{staticUrl:e}=this.state;return e?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Image,{"data-aid":la,style:this.generateStyles(),src:e}):null}}ra.propTypes={lat:(global.PropTypes||guac["prop-types"]).number,lon:(global.PropTypes||guac["prop-types"]).number,address:(global.PropTypes||guac["prop-types"]).string,dimensions:(global.PropTypes||guac["prop-types"]).object,env:(global.PropTypes||guac["prop-types"]).string},ra.defaultProps={dimensions:{height:80,width:275}};class na extends(global.React||guac.react).Component{render(){const e={left:0,top:0,right:0,bottom:0,position:"absolute",display:"block",backgroundImage:`url('${xt("mapIcon/mboxThumb.png")}')`,backgroundSize:"cover",backgroundPosition:"center"};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":dt.CONTACT_MAP_STATIC_REND,style:e,"data-traffic2":"pandc.vnext.edit_widget_contact.static_map.click"})}}class sa extends(global.React||guac.react).Component{constructor(e){super(e),l(this,"toggleMobileOverlay",(()=>{this.setState({showMobileOverlay:!this.state.showMobileOverlay})})),l(this,"handleGetDirections",(()=>{const{address:e}=this.props;ta(e)})),l(this,"renderFullScreenMap",(e=>{this.generateGMap(e,!0)})),this.state={isMobile:$t(),isViewPortRender:"MOBILE_RENDER_DEVICE"===e.viewDevice&&!!document.querySelector(".device-chrome"),showMobileOverlay:!1},this.generateGMap=this.generateGMap.bind(this),this.googleMap=null,this.mapContainer=null,this.currentCoords={lastLat:null,lastLon:null}}componentDidMount(){aa(!this.state.isMobile&&this.generateGMap.bind(this,this.mapContainer,!1))}componentDidUpdate(e){const{lat:t,lon:a,address:o,isEditMode:l}=this.props,{isMobile:r}=this.state,{lastLat:n,lastLon:s}=this.currentCoords;t&&a&&n!==t&&s!==a&&(ea({map:this.googleMap,lat:t,lon:a,isMapbox:!1}),this.currentCoords={lastLat:t,lastLon:a}),e.address===o&&(l||r)||this.generateGMap(this.mapContainer)}generateGMap(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{lat:a,lon:o,zoom:l,isEditMode:r,viewDevice:n,isPublishMode:s}=this.props,{isMobile:i,isViewPortRender:c}=this.state;if(!a||!o||!window.google)return;const g={lat:parseFloat(a,10),lng:parseFloat(o,10)},p={center:g,zoom:l,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,scrollwheel:!1,fullscreenControl:!1,streetViewControl:!1,zoomControl:(t||!i||r||"DESKTOP_RENDER_DEVICE"===n)&&!c,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}};i&&!t&&(p.gestureHandling="none"),this.googleMap=new google.maps.Map(e,p),new google.maps.Marker({position:g,map:this.googleMap})}render(){const{lat:e,lon:t,zoom:a,category:o,section:l,address:r,staticContent:n,renderMode:s,isPublishMode:i,viewDevice:c,isEditMode:g,overrideOverlay:p,env:d}=this.props,{isMobile:u,isViewPortRender:m,showMobileOverlay:b}=this.state;if(!Boolean(Number(e)&&Number(t)&&Number(a)))return null;const h={shared:{left:0,top:0,right:0,bottom:0,position:"absolute",transform:"translate3d(0,0,0)"},wrapper:{display:"block",cursor:"pointer",position:"absolute !important"}},T=p||u&&!g&&"DESKTOP_RENDER_DEVICE"!==c,C=T&&!m?this.toggleMobileOverlay:(global._||guac.lodash).noop,y={address:r,staticContent:n,isRouteMobilePreviewPublish:T,openFullScreenOverlay:C};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:o,section:l,style:{...h.shared,...h.wrapper}},(global.React||guac.react).createElement("div",{ref:e=>{this.mapContainer=e},style:h.shared,"data-aid":dt.CONTACT_MAP_REND,onClick:C},T&&(global.React||guac.react).createElement(ra,this.props)),!m&&(global.React||guac.react).createElement(oa,y),b&&(global.React||guac.react).createElement(Jt,{getDirectionsLabel:n.mapCTA,renderMap:this.renderFullScreenMap,handleClose:this.toggleMobileOverlay,handleGetDirections:this.handleGetDirections}))}}sa.propTypes={lat:(global.PropTypes||guac["prop-types"]).string,lon:(global.PropTypes||guac["prop-types"]).string,zoom:(global.PropTypes||guac["prop-types"]).number,address:(global.PropTypes||guac["prop-types"]).string,env:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,isPublishMode:(global.PropTypes||guac["prop-types"]).bool,viewDevice:(global.PropTypes||guac["prop-types"]).string,isEditMode:(global.PropTypes||guac["prop-types"]).bool,overrideOverlay:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string},sa.defaultProps={staticContent:{mapCTA:""}};const ia=e=>{if(window&&window.mapboxgl)return void e();window&&window._trfq&&window._trfq.push(["cmdLogEvent","load","ux2.contact.mapbox.load",[]]);const t="//api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl",a=document.createElement("script");a.setAttribute("src",`${t}.js`),a.setAttribute("type","text/javascript"),a.setAttribute("async","async"),a.setAttribute("crossorigin","anonymous"),document.head.appendChild(a),a.onload=()=>{const a=document.createElement("link");a.setAttribute("href",`${t}.css`),a.setAttribute("rel","stylesheet"),a.setAttribute("async","async"),document.head.appendChild(a),a.onload=e}},ca=e=>{let{containerId:t,interactive:a,scrollZoom:o,lat:l,lon:r,zoom:n,accessToken:s,styleUrl:i}=e;const c=window.mapboxgl;if(!c||!c.supported())return null;const g={container:document.getElementById(t),style:i,interactive:a,zoom:n,center:[r,l],minZoom:1.5};c.accessToken=s;const p=new c.Map(g);return o||p.scrollZoom.disable(),p.on("load",(()=>{const e={id:"markers",type:"symbol",source:{type:"geojson"},layout:{"icon-image":"marker-vnext","icon-size":1}};if(e.source.data=Qt({lat:l,lon:r}),p.addLayer(e),a){const e=new c.NavigationControl;p.addControl(e,"top-right")}})),p};class ga extends(global.React||guac.react).Component{constructor(e){super(e),l(this,"toggleMobileOverlay",(()=>{this.setState({showMobileOverlay:!this.state.showMobileOverlay})})),l(this,"generateMap",(()=>{const{lat:e,lon:t,zoom:a,viewDevice:o,mapboxAccessToken:l,mapboxStyleUrl:r,renderMode:n}=this.props,s=o&&o.match(/mobile/i)||n===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH&&$t();e&&t&&(this.glMap=ca({containerId:this.mapId,interactive:!this.state.isRouteMobilePreviewPublish&&!s,scrollZoom:!1,lat:e,lon:t,zoom:a,accessToken:l,styleUrl:r}))})),l(this,"renderFullScreenMap",(e=>{const{lat:t,lon:a,zoom:o,mapboxAccessToken:l,mapboxStyleUrl:r}=this.props;ca({container:e,interactive:!0,lat:t,lon:a,zoom:o,scrollZoom:!0,accessToken:l,styleUrl:r})})),l(this,"handleGetDirections",(()=>{const{address:e}=this.props;ta(e)})),this.state={isMobile:$t(),isViewPortRender:"MOBILE_RENDER_DEVICE"===e.viewDevice&&!!document.querySelector(".device-chrome"),showMobileOverlay:!1},this.glMap=null,this.mapId=(global._||guac.lodash).uniqueId("MapBox-")}componentDidMount(){ia(this.generateMap)}componentWillUnmount(){var e;null===(e=this.glMap)||void 0===e||e.remove()}componentDidUpdate(e){if(!this.glMap)return void ia(this.generateMap);const{lat:t,lon:a}=this.props;t&&a&&(t!==e.lat||a!==e.lon)&&ea({map:this.glMap,lat:t,lon:a})}render(){const{lat:e,lon:t,zoom:a,address:o,staticContent:l,isPublishMode:r,isEditMode:n,viewDevice:s,overrideOverlay:i,renderMode:c}=this.props;if(!(Number(e)&&Number(t)&&Number(a)))return null;const{showMobileOverlay:g,isViewPortRender:p,isMobile:d}=this.state,u=i||d&&!n&&"DESKTOP_RENDER_DEVICE"!==s||r&&d,m=u&&!p?this.toggleMobileOverlay:(global._||guac.lodash).noop,b={address:o,staticContent:l,isRouteMobilePreviewPublish:u,openFullScreenOverlay:m};return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement("div",{id:this.mapId,style:{left:0,top:0,right:0,bottom:0,position:"absolute",cursor:"pointer",display:"block",transform:"translate3d(0,0,0)"},"data-aid":dt.CONTACT_MAP_REND,onClick:m}),c!==(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX.Style,{shared:!0},".mapboxgl-canvas { height: 100% !important; width: 100% !important; }"),(global.React||guac.react).createElement(oa,b),g&&(global.React||guac.react).createElement(Jt,{getDirectionsLabel:l.mapCTA,renderMap:this.renderFullScreenMap,handleClose:this.toggleMobileOverlay,handleGetDirections:this.handleGetDirections}))}}ga.propTypes={lat:(global.PropTypes||guac["prop-types"]).string,lon:(global.PropTypes||guac["prop-types"]).string,zoom:(global.PropTypes||guac["prop-types"]).number,viewDevice:(global.PropTypes||guac["prop-types"]).string,address:(global.PropTypes||guac["prop-types"]).string,env:(global.PropTypes||guac["prop-types"]).string,mapboxAccessToken:(global.PropTypes||guac["prop-types"]).string,mapboxStyleUrl:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,isPublishMode:(global.PropTypes||guac["prop-types"]).bool,isEditMode:(global.PropTypes||guac["prop-types"]).bool,overrideOverlay:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string},ga.defaultProps={staticContent:{mapCTA:""}};var pa="mapbox",da="google",ua="static";class ma extends(global.React||guac.react).Component{render(){const{type:e}=this.props;switch(e){case ua:return(global.React||guac.react).createElement(na,null);case pa:return(global.React||guac.react).createElement(ga,this.props);case da:return(global.React||guac.react).createElement(sa,this.props);default:return null}}}ma.propTypes={type:(global.PropTypes||guac["prop-types"]).string,...sa.propTypes,...ga.propTypes};const{selectors:ba}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{utils:{createSelector:ha,not:Ta}}=ba,Ca=["contact9"],ya=ba.Config.env,Ea=ba.Config.renderMode,Na=ba.Config.viewDevice,wa=ba.Account.market,Ia=ba.Config.flags,Oa=ba.Website.id,Ra=ba.Page.id,fa=ba.Account.id,Aa=ba.Business.domain,_a=ba.Business.name,Ma=ba.Page.isInternal,Sa=ba.Navigation.links,Pa=ba.I18N.staticContent,va=ba.Config.flag("mapRenderProvider"),Da=ha(ba.Config.flag("enableGoogleRecaptcha"),(e=>e?o.default.V3:null)),La=F.map(((e,t)=>{const a=t+1;return{hour:{day:ba.I18N.get(e),dayOfWeek:7===a?0:a,openTime:"09:00",closeTime:"17:00",byAppointmentOnly:!1,closed:6===a||7===a}}})),Fa=ba.I18N.get("defaultValueForSectionTitle"),ka=ba.I18N.get("defaultValueForInfoTitle"),Ua=ba.I18N.get("defaultValueForInfo"),xa={value:ba.Business.address,lat:ba.Business.lat,lng:ba.Business.lng},Ha=ba.Business.phone,Ba=ba.Business.email,Wa=Ta(ba.Config.flag("enableWhatsAppByDefault")),Ga=ba.Config.flag("enableGoogleRecaptcha"),Va={image:ba.StockPhotos.index(0)},Xa=ha(ba.Widget.preset,ba.I18N.get("defaultValueForFormTitle"),ba.I18N.get("defaultValueForAltFormTitle"),((e,t,a)=>Ca.includes(e)?a:t)),qa=ba.I18N.get("defaultValueForFormSuccessMessage"),$a=ba.I18N.get("defaultValueForEmailConfirmation"),ja=!J&&!0,za=ba.I18N.get("defaultValueForEmailOptIn"),Ya=ba.I18N.get("defaultValueForHoursTitle"),Za=ha(ba.Plan.id,ba.Config.flag("supportedPlansForEmailAttachments"),ba.I18N.get("defaultName"),ba.I18N.get("defaultEmailAddress"),ba.I18N.get("defaultMessage"),ba.I18N.get("defaultSubmitText"),ba.I18N.get("attachments"),((e,t,a,o,l,r,n)=>[{type:"SINGLE_LINE",label:a,required:!1,keyName:"name"},{type:"EMAIL",label:o,validation:"email",required:!0,replyTo:!0,keyName:"email"},{type:"MULTI_LINE",label:l,required:!1,keyName:"message"},{type:"ATTACHMENT",label:n,required:!1},{type:"SUBMIT",label:r,required:!1}])),Ka=ha(ba.Plan.id,ba.Config.flag("supportedPlansForEmailAttachments"),ba.I18N.get("defaultName"),ba.I18N.get("defaultEmailAddress"),ba.I18N.get("defaultPhone"),ba.I18N.get("defaultInterestedIn"),ba.I18N.get("defaultOtherNotes"),ba.I18N.get("defaultSubmitText"),ba.I18N.get("attachments"),((e,t,a,o,l,r,n,s,i)=>[{type:"SINGLE_LINE",label:a,required:!1,keyName:"name"},{type:"EMAIL",label:o,validation:"email",required:!0,replyTo:!0,keyName:"email"},{type:"SINGLE_LINE",label:l,required:!1,keyName:"phone"},{type:"MULTI_LINE",label:r,required:!1},{type:"MULTI_LINE",label:n,required:!1},{type:"ATTACHMENT",label:i,required:!1},{type:"SUBMIT",label:s,required:!1}])),Ja=ba.Config.flag("isWhatsAppAvailable"),Qa=ba.Config.flag("enableWhatsAppByDefault"),eo=ba.I18N.get("defaultValueForWhatsAppButtonLabel"),to=ha(ba.Business.email,ba.Business.phone,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return`${e}\n${t}`}));var ao={__proto__:null,env:ya,renderMode:Ea,viewDevice:Na,locale:wa,featureFlags:Ia,websiteId:Oa,pageId:Ra,accountId:fa,domainName:Aa,businessName:_a,isInternalPage:Ma,internalLinks:Sa,staticContent:Pa,mapRenderType:va,recaptchaType:Da,structuredHours:La,structuredHoursEnabled:!0,sectionTitle:Fa,infoTitle:ka,info:Ua,address:xa,phone:Ha,formEmail:Ba,formEnabled:Wa,googleRecaptchaDisabled:Ga,mediaType:"image",image:Va,formTitle:Xa,formSuccessMessage:qa,emailConfirmationMessage:$a,emailOptInEnabled:!1,emailOptInEnabledTrue:ja,emailOptInMessage:za,hoursTitle:Ya,formFields:Za,formFieldsExtended:Ka,isWhatsAppAvailable:Ja,whatsAppEnabled:Qa,whatsAppButtonLabel:eo,emailPhoneField:to,enableImageDimension:ha(ba.Config.flag("imageDimensionLayouts"),ba.Widget.preset,((e,t)=>null==e?void 0:e.includes(t))),showMap:ha(ba.Widget.preset,(e=>["contact1","contact4","contact5"].includes(e)))};const{Widget:oo}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{ADD:lo,PREVIEW:ro,PUBLISH:no,EDIT:so,DISPLAY:io}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes;class co extends oo{get showMap(){const{address:e,renderMode:t,showMap:a}=this.props;return a&&this.mapEnabled()&&!([ro,no].includes(t)&&Zt(e))}mapEnabled(){const{mapRenderType:e}=this.props;return e===pa||e===da}get recaptchaEnabled(){return null!==this.props.recaptchaType}renderTitleSection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";const{isInternalPage:a,order:o}=this.props;return e?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid,{bottom:!1},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:e,"data-route":ut.SECTION_TITLE,"data-aid":dt.CONTACT_SECTION_TITLE_REND,isInternalPage:a,level:2,order:o,tag:"h2",layout:t}))):null}getFormProps(){const{formTitle:e,formFields:t,renderMode:a,env:o,domainName:l,category:r,section:n,formSuccessMessage:s,websiteId:i,pageId:c,id:g,accountId:p,staticContent:d,emailOptInEnabled:u,emailOptInMessage:m,emailConfirmationMessage:b,recaptchaType:h}=this.props,T=zt(this.props),C=j&&j[o]||{},y={formTitle:e,formFields:t,blankInfo:Ft(this.props),formSubmitHost:C.formSubmitHost,showMap:this.showMap,recaptchaEnabled:this.recaptchaEnabled,recaptchaType:h,domainName:l,category:r,section:n,formSuccessMessage:s,renderMode:a,formEnabled:T,websiteId:i,pageId:c,widgetId:g,accountId:p,staticContent:d,emailOptInEnabled:u,emailOptInMessage:m,emailConfirmationMessage:b,onFormToggle:this.onFormToggle};return this.layoutSpecificFormProps&&Object.assign(y,this.layoutSpecificFormProps()),y}getContainerColumnNumber(e){return e.blankInfo?"12":this.formMinWidthInCols}renderBootstrappedComponent(e,t){const{renderMode:a}=this.props,{component:o,raw:l}=t;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).components.Bootstrap.Radpack,r({},e,{entry:l,Component:o,renderMode:a}))}renderContactSection(e){return this.renderBootstrappedComponent({...this.props,...this.getFormProps(),...e},{component:this.contactComponent,raw:this.contactRaw})}renderFormSection(){return zt(this.props)?this.renderBootstrappedComponent(this.getFormProps(),{component:this.contactFormComponent,raw:this.contactFormRaw}):null}renderMap(e){const{renderMode:t,address:a,viewDevice:o,env:l,category:n,section:s,staticContent:i,mapRenderType:c}=this.props,{mapboxAccessToken:g,mapboxStyleUrl:p}=j[l]||{},d=t===io||t===lo||t===so&&Zt(a),u={lat:a&&a.lat,lon:a&&a.lng,address:a&&a.value,type:d?ua:c,isEditMode:t===so,zoom:14,renderMode:t,env:l,category:n,section:s,mapboxAccessToken:g,mapboxStyleUrl:p,staticContent:i,viewDevice:o,dimensions:e};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).components.Bootstrap.Radpack,r({},u,{entry:this.mapRaw,Component:ma,viewDevice:o,renderMode:t}))}renderRecaptchaBadgeMask(){return(global.React||guac.react).createElement(a.default,null)}render(){const{category:e,isInternalPage:t,order:a,sectionTitle:o,section:l}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Widget,this.props,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Section,{category:e,section:l,style:{position:"relative"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Container,null,(global.React||guac.react).createElement(Ut,{titleText:o,isInternalPage:t,order:a}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Content,null,this.renderFormSection(),(global.React||guac.react).createElement(this.contactInfoComponent,this.props),this.recaptchaEnabled&&this.renderRecaptchaBadgeMask()))),this.showMap?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Map.Banner,{"data-route":ut.ADDRESS,style:{marginTop:"-medium",paddingBottom:"30%",position:"relative","@xs-only":{marginTop:"0px",minHeight:"200px"}},children:this.renderMap()}):null)}}l(co,"propTypes",{...oo.propTypes,...V}),l(co,"defaultProps",{...oo.defaultProps,...ao});e.C=co,e.D=dt,e.F=ut,e.H=St,e.I=L,e.M="@widget/CONTACT/bs-genericMap",e._=l,e.a=ct,e.b=P,e.c=r,e.d=zt,e.e=ja,e.f=Ka,e.g=kt,e.h=to,e.i=Ft,e.j=gt,e.k=pt,e.l=ft,e.m=st,e.n=yt,e.o=Et,e.p=Nt,e.q=wt,e.r=Lt,e.s=_,e.t=It,e.u=Ot,e.v=Rt})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=genericMap-9662644e.js.map
