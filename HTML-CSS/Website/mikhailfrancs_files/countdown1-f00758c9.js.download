define("@widget/COUNTDOWN/countdown1-f00758c9.js",["exports","@wsb/guac-widget-shared@^1/lib/components/Countdown"],(function(e,t){"use strict";function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},o.apply(this,arguments)}const l=(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.BASE,n="/running",r="/complete",c="/image",{selectors:i}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{I18N:g,utils:{createSelector:s,createVariantSelector:u}}=i,d="true",p="false",b=s(i.Stores.Widget.data("backgroundImage"),(e=>{const t=i.utils.getWithProp(e,"image");return t?(global.React||guac.react).createElement("img",{className:"mx-pivot-icon",src:t}):null})),m={label:i.I18N.get("labelForStart"),locale:i.Account.market},C={label:i.I18N.get("labelForEnd"),notice:i.I18N.get("descriptionForTimezone"),locale:i.Account.market,getProps(e){const t=e.getFieldValue("startDate"),a={fromMonth:new Date(t.startDate)};return t.startDate>=e.value.startDate&&(a.value=t),a}},w={label:i.I18N.get("titleForRunning"),to:n},D={label:i.I18N.get("titleForComplete"),to:r},E={heading:i.I18N.get("titleForWidget"),description:i.I18N.get("descriptionForWidget")},y={heading:i.I18N.get("titleForRunning"),description:""},N={heading:i.I18N.get("titleForComplete"),description:""},T={label:i.I18N.get("backgroundImage"),to:c,graphic:b},R={label:g.get("titleForHeadline")},I={label:g.get("titleForDescription")},P={title:"",description:"",label:g.get("actionButton"),buttonLabelLink:(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY,buttonLabelLinkText:g.get("editThemeStyles")},O={label:g.get("titleForHeadline"),hidden:i.utils.createSelector(i.Stores.Widget.property("showCompleteMessage"),(e=>e===p))},k={label:g.get("titleForDescription"),hidden:i.utils.createSelector(i.Stores.Widget.property("showCompleteMessage"),(e=>e===p))},_={title:"",description:"",label:g.get("actionButton"),buttonLabelLink:(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY,buttonLabelLinkText:g.get("editThemeStyles"),hidden:i.utils.createSelector(i.Stores.Widget.property("showCompleteMessage"),(e=>e===p))},h={label:g.get("deleteSectionButton")},f={options:i.utils.createSelector(i.I18N.get("labelForOptionHide"),i.I18N.get("labelForOptionShow"),i.I18N.get("tooltipForOptionShow"),((e,t,a)=>[{label:e,value:p},{label:t,value:d,tooltip:{message:a}}])),defaultValue:u({blackFriday:d,default:p})},{PropTypes:M}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var U={__proto__:null,renderMode:M.string.readOnly,isInternalPage:M.bool.readOnly,staticContent:M.object.readOnly,startDate:M.DateTimePicker,endDate:M.DateTimePicker,runningHeadline:M.Text.maxCount(60),runningCountdownPivot:M.Pivot,completeCountdownPivot:M.Pivot,runningDescription:M.RichText,runningCta:M.CTAButton,completeHeadline:M.Text.maxCount(60),completeDescription:M.RichText,completeCta:M.CTAButton,backgroundImage:M.Image,showCompleteMessage:M.RadioGroup,widgetVariant:M.string.readOnly},v=(global.Core||guac["@wsb/guac-widget-core"]).Maniless.Widget.keys(U);const{PropTypes:F}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,H="countdownHelper",B="runningCountdownHelper",S="completeCountdownHelper",W="imagePivot",x="deleteSectionButton";var L={[H]:F.Description,[B]:F.Description,[S]:F.Description,[W]:F.Pivot,[x]:F.DeleteButton};const{Mutator:A}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;class V extends A{}a(V,"fields",A.mergeFields(L)),a(V,"defaultProps",{[v.startDate]:m,[v.endDate]:C,[v.runningCountdownPivot]:w,[v.completeCountdownPivot]:D,[v.runningHeadline]:R,[v.runningDescription]:I,[v.showCompleteMessage]:f,[v.runningCta]:P,[v.completeHeadline]:O,[v.completeDescription]:k,[v.completeCta]:_,[v.backgroundImage]:{enableFocalSelector:!0,showRemoveButton:!0,addOrReplaceImage:!0,showOverlayOpacityControls:!0},[H]:E,[B]:y,[S]:N,[W]:T,[x]:h});const{Widget:j}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,X=j.keys();class G extends V{}a(G,"defaultProps",V.mergeDefaultProps({routes:{[l]:[X.category,H,v.startDate,v.endDate,v.runningCountdownPivot,v.completeCountdownPivot,W,x],[n]:[B,v.runningHeadline,v.runningDescription,v.runningCta],[r]:[S,v.showCompleteMessage,v.completeHeadline,v.completeDescription,v.completeCta],[c]:[v.backgroundImage]}}));const{selectors:{Page:$,I18N:Y,Config:Z,StockPhotos:z,Widget:K,utils:{createVariantSelector:q}}}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;function J(e){return Y.get(`variants.blackFriday.${e}`)}var Q={__proto__:null,renderMode:Z.renderMode,isInternalPage:$.isInternal,staticContent:Y.get("countdownComponent"),runningHeadline:q({blackFriday:J("defaultValueForRunningHeadline"),default:Y.get("defaultValueForRunningHeadline")}),runningDescription:q({blackFriday:J("defaultValueForRunningDescription"),default:Y.get("defaultValueForRunningDescription")}),runningCta:{enabled:q({blackFriday:!0,default:!1}),label:Y.get("defaultValueForButton"),pageId:$.id},completeHeadline:q({blackFriday:J("defaultValueForCompleteHeadline"),default:Y.get("defaultValueForCompleteHeadline")}),completeDescription:q({blackFriday:J("defaultValueForCompleteDescription"),default:Y.get("defaultValueForCompleteDescription")}),completeCta:{enabled:q({blackFriday:!0,default:!1}),label:Y.get("defaultValueForButton"),pageId:$.id},backgroundImage:{image:q({blackFriday:"https://img1.wsimg.com/isteam/stock/u8YOx8JwQKfZZR0Kk",default:z.index(0)})},startDate:{startDate:Date.now()},endDate:{startDate:q({blackFriday:new Date("2022-11-25T08:00:00.000Z").getTime(),default:Date.now()})},widgetVariant:K.variant};const{Widget:ee}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,te=[v.renderMode,v.isInternalPage,v.staticContent,v.runningHeadline,v.runningDescription,v.runningCta,v.completeHeadline,v.completeDescription,v.completeCta,v.startDate,v.endDate,v.runningCountdownPivot,v.showCompleteMessage,v.completeCountdownPivot,v.backgroundImage,v.widgetVariant,H,W];class ae extends ee{}a(ae,"propTypes",{...ee.propTypes,...(global._||guac.lodash).pick(U,te)}),a(ae,"defaultProps",{...ee.defaultProps,...(global._||guac.lodash).pick(Q,te)});var oe=(global.keyMirror||guac.keymirror)({COUNTDOWN_IMAGE_RENDERED:null,COUNTDOWN_RUNNING_HEADLINE_RENDERED:null,COUNTDOWN_RUNNING_DESCRIPTION_RENDERED:null,COUNTDOWN_RUNNING_CTA_RENDERED:null,COUNTDOWN_COMPLETE_HEADLINE_RENDERED:null,COUNTDOWN_COMPLETE_DESCRIPTION_RENDERED:null,COUNTDOWN_COMPLETE_CTA_RENDERED:null});const{CTAButton:le}=(global.Core||guac["@wsb/guac-widget-core"]).components,{ACCENT:ne}=(global.Core||guac["@wsb/guac-widget-core"]).constants.categoryTypes;class re extends(global.React||guac.react).Component{getLabels(e){return{days:{label:e.days.long,mobileLabel:e.days.short},hours:{label:e.hours.long,mobileLabel:e.hours.short},minutes:{label:e.minutes.long,mobileLabel:e.minutes.short},seconds:{label:e.seconds.long,mobileLabel:e.seconds.short}}}getStyles(e,t){return{widget:{...e&&{display:"block !important"}},runningBlock:{...e&&{display:t?"none !important":"block !important"}},completeBlock:{...e&&{display:t?"block !important":"none !important"}},section:{position:"relative"},container:{position:"relative",zIndex:"1",textAlign:"center"},description:{marginBottom:"large",lineHeight:"1.25"},buttonBlock:{marginTop:"large",paddingTop:"xxsmall"},backgroundImage:{top:"0",bottom:"0",left:"0",right:"0",position:"absolute"}}}render(){const{renderMode:e,isInternalPage:a,staticContent:l,order:i,showCompleteMessage:g,isCompletePage:s,id:u,category:d,section:p,startDate:b,endDate:m,runningHeadline:C,runningDescription:w,runningCta:D,completeHeadline:E,completeDescription:y,completeCta:N,backgroundImage:T,widgetVariant:R}=this.props,I=(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString,P=R&&"default"!==R?R+".":"",O=I({eid:`ux2.countdown.${P}running_cta.click`,type:"click"}),k=I({eid:`ux2.countdown.${P}complete_cta.click`,type:"click"}),_=(global._||guac.lodash).uniqueId(u),h="EDIT"===e||"ADD"===e,f="true"===g,M=m.startDate-new Date<0,U=f&&s,v=T&&T.image,F=`${_}Container`,H=`${_}Running`,B=`${_}Complete`,S=this.getLabels(l),W=this.getStyles(h,U),x=f?{runningId:H,completeId:B}:void 0,L=f?{id:H,className:"d-none",style:W.runningBlock}:{};return("PUBLISH"!==e&&"PREVIEW"!==e||!M||f)&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Widget.Banner,o({},this.props,{id:F,className:"d-none",style:W.widget}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Section.Banner,{category:v?ne:d,section:p,style:W.section},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Background,{"data-aid":oe.COUNTDOWN_IMAGE_RENDERED,"data-route":"backgroundImage","data-field-route":c,imageData:T,style:W.backgroundImage}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Container,{style:W.container,section:v?"overlay":p},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid,{bottom:!1,inset:!0},(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,L,C&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:C,"data-aid":oe.COUNTDOWN_RUNNING_HEADLINE_RENDERED,"data-route":"runningHeadline","data-field-route":n,tag:"h2",order:i,isInternalPage:a,reducedMargin:!0}),w&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text.Major,{children:w,"data-aid":oe.COUNTDOWN_RUNNING_DESCRIPTION_RENDERED,"data-route":"runningDescription","data-field-route":n,style:W.description,richtext:!0}),(global.React||guac.react).createElement(t.default,{startDate:null==b?void 0:b.startDate,endDate:null==m?void 0:m.startDate,containerId:F,toggleIds:x,ariaLabel:l.label,labels:S,renderMode:e,key:Date.now()}),(null==D?void 0:D.enabled)&&(null==D?void 0:D.label)&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:W.buttonBlock},(global.React||guac.react).createElement(le,{ctaButton:D,element:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,"data-aid":oe.COUNTDOWN_RUNNING_CTA_RENDERED,"data-route":"runningCta","data-field-route":n,"data-tccl":O}))),f&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{id:B,className:"d-none",style:W.completeBlock},E&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:E,"data-aid":oe.COUNTDOWN_COMPLETE_HEADLINE_RENDERED,"data-route":"completeHeadline","data-field-route":r,tag:"h2",order:i,isInternalPage:a,reducedMargin:!0}),y&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text.Major,{children:y,"data-aid":oe.COUNTDOWN_COMPLETE_DESCRIPTION_RENDERED,"data-route":"completeDescription","data-field-route":r,style:W.description,richtext:!0}),(null==N?void 0:N.enabled)&&(null==N?void 0:N.label)&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:W.buttonBlock},(global.React||guac.react).createElement(le,{ctaButton:N,element:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,"data-aid":oe.COUNTDOWN_COMPLETE_CTA_RENDERED,"data-route":"completeCta","data-field-route":r,"data-tccl":k}))))))))}}a(re,"propTypes",{renderMode:(global.PropTypes||guac["prop-types"]).string,isInternalPage:(global.PropTypes||guac["prop-types"]).bool,staticContent:(global.PropTypes||guac["prop-types"]).object,order:(global.PropTypes||guac["prop-types"]).number,showCompleteMessage:(global.PropTypes||guac["prop-types"]).string,isCompletePage:(global.PropTypes||guac["prop-types"]).bool,id:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,startDate:(global.PropTypes||guac["prop-types"]).object,endDate:(global.PropTypes||guac["prop-types"]).object,runningHeadline:(global.PropTypes||guac["prop-types"]).string,runningDescription:(global.PropTypes||guac["prop-types"]).string,runningCta:(global.PropTypes||guac["prop-types"]).object,completeHeadline:(global.PropTypes||guac["prop-types"]).string,completeDescription:(global.PropTypes||guac["prop-types"]).string,completeCta:(global.PropTypes||guac["prop-types"]).object,backgroundImage:(global.PropTypes||guac["prop-types"]).object,widgetVariant:(global.PropTypes||guac["prop-types"]).string});const{EDIT:ce}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes,{Router:ie}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless.context;var ge=(global.Core||guac["@wsb/guac-widget-core"]).Maniless.connect(class extends ae{render(){const{renderMode:e,id:t}=this.props;return e===ce?(global.React||guac.react).createElement(ie.Consumer,null,(e=>{const{widget:a,route:l}=e,n=a===t&&l===r;return(global.React||guac.react).createElement(re,o({},this.props,{isCompletePage:n}))})):(global.React||guac.react).createElement(re,this.props)}},G);e.Component=ge,e.component="@widget/COUNTDOWN/countdown1",e.default=ge,e.id="countdown1",e.src="/home/jenkins/workspace/gdcorp-im/guac-widget-countdown/build-master/src/layouts/countdown1/index.js",e.type="COUNTDOWN",Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=countdown1-f00758c9.js.map
